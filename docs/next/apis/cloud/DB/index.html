<!doctype html>
<html class="docs-version-current" lang="zh-cn" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/taro/blog/rss.xml" title="Taro æ–‡æ¡£ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/taro/blog/atom.xml" title="Taro æ–‡æ¡£ Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Taro æ–‡æ¡£" href="/taro/opensearch.xml">
<link rel="icon" href="/taro/img/taroLogo180.png">
<link rel="manifest" href="/taro/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/taro/img/taroLogo180.png">
<link rel="mask-icon" href="/taro/img/taroLogo180.png" color="rgb(62, 204, 94)">
<meta name="msapplication-TileImage" content="/taro/img/taroLogo180.png">
<meta name="msapplication-TileColor" content="#000">
<script src="https://storage.jd.com/taro-resource/tongji.js" async></script>
<script src="https://storage.jd.com/taro-docs/taro-doc-hotjar.js" async></script>
<script src="https://storage.360buyimg.com/quark-platform/sdk/ling-distribute-sdk-h5.0.7.0.js" async></script><title data-react-helmet="true">DB | Taro æ–‡æ¡£</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://nervjs.github.io/taro/docs/next/apis/cloud/DB"><meta data-react-helmet="true" name="docsearch:language" content="zh-cn"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="DB | Taro æ–‡æ¡£"><meta data-react-helmet="true" name="description" content="å‚æ•°"><meta data-react-helmet="true" property="og:description" content="å‚æ•°"><link data-react-helmet="true" rel="icon" href="/taro/./img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://nervjs.github.io/taro/docs/next/apis/cloud/DB"><link data-react-helmet="true" rel="alternate" href="https://nervjs.github.io/taro/docs/next/apis/cloud/DB" hreflang="zh-cn"><link data-react-helmet="true" rel="alternate" href="https://nervjs.github.io/taro/en/docs/next/apis/cloud/DB" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nervjs.github.io/taro/docs/next/apis/cloud/DB" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/taro/assets/css/styles.99cb563d.css">
<link rel="preload" href="/taro/assets/js/runtime~main.379d424f.js" as="script">
<link rel="preload" href="/taro/assets/js/main.1d9bc12a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#f6ffed;color:#333333" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm"><div class="top_tip" role="alert">ç”±å‡¹å‡¸å®éªŒå®¤å€¾åŠ›æ‰“é€ çš„ã€ŒDeco è®¾è®¡ç¨¿ä¸€é”®ç”Ÿæˆå¤šç«¯ä»£ç ã€é¢„è§ˆç‰ˆæ­£å¼ä¸Šçº¿å•¦ï¼Œæ¬¢è¿<a target="_blank" href="https://deco-preview.jd.com?from=taro-docs">å…è´¹è¯•ç”¨</a>ï¼</div></div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/taro/"><div class="navbar__logo"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Taro</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/taro/docs/next/">ä¸‹ä¸ªç‰ˆæœ¬</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/taro/docs/next/apis/cloud/DB">ä¸‹ä¸ªç‰ˆæœ¬</a></li><li><a class="dropdown__link" href="/taro/docs/apis/cloud/DB">3.x</a></li><li><a class="dropdown__link" href="/taro/docs/2.x/apis/cloud/DB">2.x</a></li><li><a class="dropdown__link" href="/taro/docs/1.x/">1.x</a></li><li><a class="dropdown__link" href="/taro/versions">å…¨éƒ¨ç‰ˆæœ¬</a></li></ul></div><a class="navbar__item navbar__link" href="/taro/docs/next/">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/taro/docs/next/components-desc">ç»„ä»¶åº“</a><a class="navbar__item navbar__link navbar__link--active" href="/taro/docs/next/apis/about/desc">API</a><a class="navbar__item navbar__link" href="/taro/docs/guide">æ•™ç¨‹</a><a class="navbar__item navbar__link" href="/taro/blog">åšå®¢</a><a href="https://github.com/NervJS/taro/issues" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>é—®é¢˜åé¦ˆ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://deco-preview.jd.com?from=taro-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>è®¾è®¡ç¨¿ç”Ÿæˆä»£ç <svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link">ç”Ÿæ€ç³»ç»Ÿ</a><ul class="dropdown__menu"><li><a href="https://github.com/NervJS/taro/discussions" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>è®ºå›<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>ç‰©æ–™å¸‚åœº<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a class="dropdown__link" href="/taro/showcase">æ¡ˆä¾‹</a></li><li><a href="https://nutui.jd.com/#/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>NutUI<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://taro-ui.jd.com" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Taro UI<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>äº¬ä¸œå°ç¨‹åº<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>ä¸­æ–‡</span></span></a><ul class="dropdown__menu"><li><a href="/taro/docs/next/apis/cloud/DB" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">ä¸­æ–‡</a></li><li><a href="/taro/en/docs/next/apis/cloud/DB" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li></ul></div><a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ğŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ğŸŒ</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO menuWithAnnouncementBar_x19h"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/about/desc">å…³äºAPI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/framework/App">æ¡†æ¶</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/base/env">åŸºç¡€</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/route/switchTab">è·¯ç”±</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/navigate/openEmbeddedMiniProgram">è·³è½¬</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/share/updateShareMenu">è½¬å‘</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/ui/interaction/showToast">ç•Œé¢</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/network/request/">ç½‘ç»œ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/payment/requestPayment">æ”¯ä»˜</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/storage/setStorageSync">æ•°æ®ç¼“å­˜</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/data-analysis/reportMonitor">æ•°æ®åˆ†æ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/canvas/createOffscreenCanvas">ç”»å¸ƒ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/media/map/createMapContext">åª’ä½“</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/location/stopLocationUpdate">ä½ç½®</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/files/saveFileToDisk">æ–‡ä»¶</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/open-api/login/pluginLogin">å¼€æ”¾æ¥å£</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/device/bluetooth/stopBluetoothDevicesDiscovery">è®¾å¤‡</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/ai/visionkit/isVKSupport">AI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/worker/createWorker">Worker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/wxml/createSelectorQuery">WXML</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/ext/getExtConfigSync">ç¬¬ä¸‰æ–¹å¹³å°</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/ad/createRewardedVideoAd">å¹¿å‘Š</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/taro/docs/next/apis/cloud/">äº‘å¼€å‘</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/taro/docs/next/apis/cloud/">Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/taro/docs/next/apis/cloud/DB">DB</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/alipay/getOpenUserInfo">Alipay</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/taro/docs/next/apis/swan/setPageInfo">Swan</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Taro æ–‡æ¡£<!-- --> <b>ä¸‹ä¸ªç‰ˆæœ¬</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/taro/docs/apis/cloud/DB">latest version</a></b> (<!-- -->3.x<!-- -->).</div></div><div class="docItemContainer_vinB"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->ä¸‹ä¸ªç‰ˆæœ¬</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DB</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="å‚æ•°">å‚æ•°<a class="hash-link" href="#å‚æ•°" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="database">Database<a class="hash-link" href="#database" title="Direct link to heading">â€‹</a></h3><p>äº‘å¼€å‘ SDK æ•°æ®åº“å®ä¾‹</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Database.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td>æ•°æ®åº“é…ç½®</td></tr><tr><td>command</td><td><code>Command</code></td><td>æ•°æ®åº“æ“ä½œç¬¦ï¼Œé€šè¿‡ db.command è·å–<br>API æ”¯æŒåº¦: weapp<br><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Command.html" target="_blank" rel="noopener noreferrer">å‚è€ƒåœ°å€</a></td></tr><tr><td>Geo</td><td><code>IGeo</code></td><td>æ•°æ®åº“åœ°ç†ä½ç½®ç»“æ„é›†<br>API æ”¯æŒåº¦: weapp<br><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Geo.html" target="_blank" rel="noopener noreferrer">å‚è€ƒåœ°å€</a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="serverdate">serverDate<a class="hash-link" href="#serverdate" title="Direct link to heading">â€‹</a></h4><p>æ„é€ ä¸€ä¸ªæœåŠ¡ç«¯æ—¶é—´çš„å¼•ç”¨ã€‚å¯ç”¨äºæŸ¥è¯¢æ¡ä»¶ã€æ›´æ–°å­—æ®µå€¼æˆ–æ–°å¢è®°å½•æ—¶çš„å­—æ®µå€¼ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Database.serverDate.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">?</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> IOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">ServerDate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>IOptions</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç " title="Direct link to heading">â€‹</a></h5><p>æ–°å¢è®°å½•æ—¶è®¾ç½®å­—æ®µä¸ºæœåŠ¡ç«¯æ—¶é—´ï¼š</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  createTime</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">serverDate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ›´æ–°å­—æ®µä¸ºæœåŠ¡ç«¯æ—¶é—´å¾€åä¸€å°æ—¶ï¼š</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my-todo-id&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  due</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">serverDate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    offset</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="regexp">RegExp<a class="hash-link" href="#regexp" title="Direct link to heading">â€‹</a></h4><p>æ„é€ æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»…éœ€åœ¨æ™®é€š js æ­£åˆ™è¡¨è¾¾å¼æ— æ³•æ»¡è¶³çš„æƒ…å†µä¸‹ä½¿ç”¨</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Database.RegExp.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> IRegExpOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">IRegExp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>IRegExpOptions</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -1">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -1" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// åŸç”Ÿ JavaScript å¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">miniprogram</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-flags" style="color:#36acaa">i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// æ•°æ®åº“æ­£åˆ™å¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">RegExp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    regexp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;miniprogram&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;i&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç”¨ new æ„é€ ä¹Ÿæ˜¯å¯ä»¥çš„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">RegExp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    regexp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;miniprogram&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;i&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="collection">collection<a class="hash-link" href="#collection" title="Direct link to heading">â€‹</a></h4><p>è·å–é›†åˆçš„å¼•ç”¨ã€‚æ–¹æ³•æ¥å—ä¸€ä¸ª <code>name</code> å‚æ•°ï¼ŒæŒ‡å®šéœ€å¼•ç”¨çš„é›†åˆåç§°ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Database.collection.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">collectionName</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Collection</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>collectionName</td><td><code>string</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -2">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -2" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> todosCollection </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="serverdate-1">ServerDate<a class="hash-link" href="#serverdate-1" title="Direct link to heading">â€‹</a></h4><p>å¯ç”¨äºæŸ¥è¯¢æ¡ä»¶ã€æ›´æ–°å­—æ®µå€¼æˆ–æ–°å¢è®°å½•æ—¶çš„å­—æ®µå€¼ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>IOptions</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ioptions">IOptions<a class="hash-link" href="#ioptions" title="Direct link to heading">â€‹</a></h5><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>offset</td><td><code>number</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iregexp">IRegExp<a class="hash-link" href="#iregexp" title="Direct link to heading">â€‹</a></h4><p>æ„é€ æ­£åˆ™è¡¨è¾¾å¼</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>regexp</td><td><code>string</code></td></tr><tr><td>options</td><td><code>string</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="iregexpoptions">IRegExpOptions<a class="hash-link" href="#iregexpoptions" title="Direct link to heading">â€‹</a></h5><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th></tr></thead><tbody><tr><td>regexp</td><td><code>string</code></td><td align="center">æ˜¯</td></tr><tr><td>options</td><td><code>string</code></td><td align="center">å¦</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="internalsymbol">InternalSymbol<a class="hash-link" href="#internalsymbol" title="Direct link to heading">â€‹</a></h4><p>å†…éƒ¨ç¬¦å·</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="collection-1">Collection<a class="hash-link" href="#collection-1" title="Direct link to heading">â€‹</a></h3><p>æ•°æ®åº“é›†åˆå¼•ç”¨</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Collection.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>collectionName</td><td><code>string</code></td><td>é›†åˆåç§°</td></tr><tr><td>database</td><td><code>Database</code></td><td>é›†åˆæ‰€åœ¨æ•°æ®åº“å¼•ç”¨</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="doc">doc<a class="hash-link" href="#doc" title="Direct link to heading">â€‹</a></h4><p>è·å–é›†åˆä¸­æŒ‡å®šè®°å½•çš„å¼•ç”¨ã€‚æ–¹æ³•æ¥å—ä¸€ä¸ª <code>id</code> å‚æ•°ï¼ŒæŒ‡å®šéœ€å¼•ç”¨çš„è®°å½•çš„ <code>_id</code>ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.doc.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">docId</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Document</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>docId</td><td>string or number</td><td>è®°å½• _id</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -3">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -3" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> myTodo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my-todo-id&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="aggregate">aggregate<a class="hash-link" href="#aggregate" title="Direct link to heading">â€‹</a></h4><p>å‘èµ·èšåˆæ“ä½œï¼Œå®šä¹‰å®Œèšåˆæµæ°´çº¿é˜¶æ®µä¹‹åéœ€è°ƒç”¨ end æ–¹æ³•æ ‡å¿—ç»“æŸå®šä¹‰å¹¶å®é™…å‘èµ·èšåˆæ“ä½œ</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.aggregate.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -4">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -4" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> $ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">aggregate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;books&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">aggregate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æŒ‰ category å­—æ®µåˆ†ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;$category&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è®©è¾“å‡ºçš„æ¯ç»„è®°å½•æœ‰ä¸€ä¸ª avgSales å­—æ®µï¼Œå…¶å€¼æ˜¯ç»„å†…æ‰€æœ‰è®°å½•çš„ sales å­—æ®µçš„å¹³å‡å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    avgSales</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">avg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;$sales&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> $ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">aggregate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;books&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">aggregate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æŒ‰ category å­—æ®µåˆ†ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;$category&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è®©è¾“å‡ºçš„æ¯ç»„è®°å½•æœ‰ä¸€ä¸ª avgSales å­—æ®µï¼Œå…¶å€¼æ˜¯ç»„å†…æ‰€æœ‰è®°å½•çš„ sales å­—æ®µçš„å¹³å‡å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    avgSales</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">avg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;$sales&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">fail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="where">where<a class="hash-link" href="#where" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œè¿”å›å¸¦æ–°æŸ¥è¯¢æ¡ä»¶çš„æ–°çš„é›†åˆå¼•ç”¨</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.where.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">condition</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> IQueryCondition</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Collection</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>condition</td><td><code>IQueryCondition</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -5">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -5" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> _ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">lt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="limit">limit<a class="hash-link" href="#limit" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šæŸ¥è¯¢ç»“æœé›†æ•°é‡ä¸Šé™</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.limit.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">value</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Collection</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>value</td><td><code>number</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -6">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -6" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">limit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="orderby">orderBy<a class="hash-link" href="#orderby" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šæŸ¥è¯¢æ’åºæ¡ä»¶</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.orderBy.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fieldPath</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;asc&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;desc&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Collection</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>fieldPath</td><td><code>string</code></td></tr><tr><td>string</td><td>&quot;asc&quot; or &quot;desc&quot;</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -7">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -7" title="Direct link to heading">â€‹</a></h5><p>æŒ‰ä¸€ä¸ªå­—æ®µæ’åºï¼šæŒ‰è¿›åº¦æ’å‡åºå–å¾…åŠäº‹é¡¹</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orderBy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;progress&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;asc&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æŒ‰å¤šä¸ªå­—æ®µæ’åºï¼šå…ˆæŒ‰ progress æ’é™åºï¼ˆprogress è¶Šå¤§è¶Šé å‰ï¼‰ã€å†æŒ‰ description æ’å‡åºï¼ˆå­—æ¯åºè¶Šå‰è¶Šé å‰ï¼‰å–å¾…åŠäº‹é¡¹</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orderBy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;progress&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;desc&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orderBy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;description&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;asc&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="skip">skip<a class="hash-link" href="#skip" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šæŸ¥è¯¢è¿”å›ç»“æœæ—¶ä»æŒ‡å®šåºåˆ—åçš„ç»“æœå¼€å§‹è¿”å›ï¼Œå¸¸ç”¨äºåˆ†é¡µ</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.skip.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">offset</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Collection</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>offset</td><td><code>number</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -8">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -8" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">skip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="field">field<a class="hash-link" href="#field" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šè¿”å›ç»“æœä¸­è®°å½•éœ€è¿”å›çš„å­—æ®µ</p><p><strong>è¯´æ˜</strong></p><p>æ–¹æ³•æ¥å—ä¸€ä¸ªå¿…å¡«å¯¹è±¡ç”¨äºæŒ‡å®šéœ€è¿”å›çš„å­—æ®µï¼Œå¯¹è±¡çš„å„ä¸ª key è¡¨ç¤ºè¦è¿”å›æˆ–ä¸è¦è¿”å›çš„å­—æ®µï¼Œvalue ä¼ å…¥ true|falseï¼ˆæˆ– 1|-1ï¼‰è¡¨ç¤ºè¦è¿”å›è¿˜æ˜¯ä¸è¦è¿”å›ã€‚
å¦‚æœæŒ‡å®šçš„å­—æ®µæ˜¯æ•°ç»„å­—æ®µï¼Œè¿˜å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•åªè¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼šåœ¨è¯¥å­—æ®µ key åé¢æ‹¼æ¥ä¸Š <code>.$</code> æˆä¸º <code>å­—æ®µ.$</code> çš„å½¢å¼ã€‚
å¦‚æœæŒ‡å®šçš„å­—æ®µæ˜¯æ•°ç»„å­—æ®µï¼Œè¿˜å¯ä»¥ç”¨ <code>db.command.project.slice</code> æ–¹æ³•è¿”å›æ•°ç»„çš„å­æ•°ç»„ï¼š
æ–¹æ³•æ—¢å¯ä»¥æ¥æ”¶ä¸€ä¸ªæ­£æ•°è¡¨ç¤ºè¿”å›å‰ n ä¸ªå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªè´Ÿæ•°è¡¨ç¤ºè¿”å›å n ä¸ªå…ƒç´ ï¼›è¿˜å¯ä»¥æ¥æ”¶ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ•°å­— <code>[ skip, limit ]</code> çš„æ•°ç»„ï¼Œå¦‚æœ <code>skip</code> æ˜¯æ­£æ•°ï¼Œè¡¨ç¤ºè·³è¿‡ <code>skip</code> ä¸ªå…ƒç´ åå†è¿”å›æ¥ä¸‹æ¥çš„ <code>limit</code> ä¸ªå…ƒç´ ï¼Œå¦‚æœ <code>skip</code> æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºä»å€’æ•°ç¬¬ <code>skip</code> ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¿”å›å¾€åæ•°çš„ <code>limit</code> ä¸ªå…ƒç´ </p><ul><li>è¿”å›æ•°ç»„çš„å‰ 5 ä¸ªå…ƒç´ ï¼š<code>{ tags: db.command.project.slice(5) }</code></li><li>è¿”å›æ•°ç»„çš„å 5 ä¸ªå…ƒç´ ï¼š<code>{ tags: db.command.project.slice(-5) }</code></li><li>è·³è¿‡å‰ 5 ä¸ªå…ƒç´ ï¼Œè¿”å›æ¥ä¸‹æ¥ 10 ä¸ªå…ƒç´ ï¼š<code>{ tags: db.command.project.slice(5, 10) }</code></li><li>ä»å€’æ•°ç¬¬ 5 ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¿”å›æ¥ä¸‹æ¥æ­£æ–¹å‘æ•°çš„ 10 ä¸ªå…ƒç´ ï¼š<code>{ tags: db.command.project.slice(-5, 10) }</code></li></ul><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.field.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> TaroGeneral</span><span class="token parameter punctuation" style="color:#393A34">.</span><span class="token parameter">IAnyObject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Collection</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>TaroGeneral.IAnyObject</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -9">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -9" title="Direct link to heading">â€‹</a></h5><p>è¿”å› description, done å’Œ progress ä¸‰ä¸ªå­—æ®µï¼š</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">field</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  done</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  progress</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// åªè¿”å› tags æ•°ç»„å‰ 3 ä¸ªå…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tags</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">project</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="get">get<a class="hash-link" href="#get" title="Direct link to heading">â€‹</a></h4><p>è·å–é›†åˆæ•°æ®ï¼Œæˆ–è·å–æ ¹æ®æŸ¥è¯¢æ¡ä»¶ç­›é€‰åçš„é›†åˆæ•°æ®ã€‚</p><p><strong>ä½¿ç”¨è¯´æ˜</strong></p><p>ç»Ÿè®¡é›†åˆè®°å½•æ•°æˆ–ç»Ÿè®¡æŸ¥è¯¢è¯­å¥å¯¹åº”çš„ç»“æœè®°å½•æ•°</p><p>å°ç¨‹åºç«¯ä¸äº‘å‡½æ•°ç«¯çš„è¡¨ç°ä¼šæœ‰å¦‚ä¸‹å·®å¼‚ï¼š</p><ul><li>å°ç¨‹åºç«¯ï¼šå¦‚æœæ²¡æœ‰æŒ‡å®š limitï¼Œåˆ™é»˜è®¤ä¸”æœ€å¤šå– 20 æ¡è®°å½•ã€‚</li><li>äº‘å‡½æ•°ç«¯ï¼šå¦‚æœæ²¡æœ‰æŒ‡å®š limitï¼Œåˆ™é»˜è®¤ä¸”æœ€å¤šå– 100 æ¡è®°å½•ã€‚</li></ul><p>å¦‚æœæ²¡æœ‰æŒ‡å®š skipï¼Œåˆ™é»˜è®¤ä»ç¬¬ 0 æ¡è®°å½•å¼€å§‹å–ï¼Œskip å¸¸ç”¨äºåˆ†é¡µã€‚</p><p>å¦‚æœéœ€è¦å–é›†åˆä¸­æ‰€æœ‰çš„æ•°æ®ï¼Œä»…åœ¨æ•°æ®é‡ä¸å¤§ä¸”åœ¨äº‘å‡½æ•°ä¸­æ—¶</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.get.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IQueryResult</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -10">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -10" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  _openid</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¡«å…¥å½“å‰ç”¨æˆ· openid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="count">count<a class="hash-link" href="#count" title="Direct link to heading">â€‹</a></h4><p>ç»Ÿè®¡åŒ¹é…æŸ¥è¯¢æ¡ä»¶çš„è®°å½•çš„æ¡æ•°</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.count.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">ICountResult</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -11">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -11" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-1">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-1" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  _openid</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¡«å…¥å½“å‰ç”¨æˆ· openid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">total</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-1">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-1" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  _openid</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¡«å…¥å½“å‰ç”¨æˆ· openid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">total</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="add">add<a class="hash-link" href="#add" title="Direct link to heading">â€‹</a></h4><p>æ–°å¢è®°å½•ï¼Œå¦‚æœä¼ å…¥çš„è®°å½•å¯¹è±¡æ²¡æœ‰ _id å­—æ®µï¼Œåˆ™ç”±åå°è‡ªåŠ¨ç”Ÿæˆ _idï¼›è‹¥æŒ‡å®šäº† _idï¼Œåˆ™ä¸èƒ½ä¸å·²æœ‰è®°å½•å†²çª</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.add.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">OQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IAddDocumentOptions</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">RQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IAddDocumentOptions</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IAddResult</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IAddDocumentOptions&gt;</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -12">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -12" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-2">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-2" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// data å­—æ®µè¡¨ç¤ºéœ€æ–°å¢çš„ JSON æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;learn cloud database&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    due</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2018-09-01&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tags</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;cloud&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;database&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    done</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-2">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-2" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// data å­—æ®µè¡¨ç¤ºéœ€æ–°å¢çš„ JSON æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// _id: &#x27;todo-identifiant-aleatoire&#x27;, // å¯é€‰è‡ªå®šä¹‰ _idï¼Œåœ¨æ­¤å¤„åœºæ™¯ä¸‹ç”¨æ•°æ®åº“è‡ªåŠ¨åˆ†é…çš„å°±å¯ä»¥äº†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;learn cloud database&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    due</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2018-09-01&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tags</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;cloud&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;database&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ä¸ºå¾…åŠäº‹é¡¹æ·»åŠ ä¸€ä¸ªåœ°ç†ä½ç½®ï¼ˆ113Â°Eï¼Œ23Â°Nï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    done</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// res æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­æœ‰ _id å­—æ®µæ ‡è®°åˆšåˆ›å»ºçš„è®°å½•çš„ id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  complete</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> cosnole</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="watch">watch<a class="hash-link" href="#watch" title="Direct link to heading">â€‹</a></h4><p>ç›‘å¬é›†åˆä¸­ç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„æ•°æ®çš„æ›´æ–°äº‹ä»¶ã€‚æ³¨æ„ä½¿ç”¨ watch æ—¶ï¼Œåªæœ‰ where è¯­å¥ä¼šç”Ÿæ•ˆï¼ŒorderByã€limit ç­‰ä¸ç”Ÿæ•ˆã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.watch.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> IWatchDocumentOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">IWatcher</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>IWatchDocumentOptions</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -13">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -13" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-3">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-3" title="Direct link to heading">â€‹</a></h6><p>æ ¹æ®æŸ¥è¯¢æ¡ä»¶ç›‘å¬</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> watcher </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  _openid</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¡«å…¥å½“å‰ç”¨æˆ· openid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">watch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onChange</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">snapshot</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;snapshot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> snapshot</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onError</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;the watch closed because of error&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-3">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-3" title="Direct link to heading">â€‹</a></h6><p>ç›‘å¬ä¸€ä¸ªè®°å½•çš„å˜åŒ–</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> watcher </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;x&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">watch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onChange</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">snapshot</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;snapshot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> snapshot</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onError</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;the watch closed because of error&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-3">ç¤ºä¾‹ 3<a class="hash-link" href="#ç¤ºä¾‹-3" title="Direct link to heading">â€‹</a></h6><p>å…³é—­ç›‘å¬</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> watcher </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  _openid</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¡«å…¥å½“å‰ç”¨æˆ· openid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">watch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onChange</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">snapshot</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;snapshot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> snapshot</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onError</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;the watch closed because of error&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// å…³é—­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> watcher</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="document">Document<a class="hash-link" href="#document" title="Direct link to heading">â€‹</a></h3><p>æ•°æ®åº“è®°å½•å¼•ç”¨</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Document.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><h4 class="anchor anchorWithStickyNavbar_mojV" id="get-1">get<a class="hash-link" href="#get-1" title="Direct link to heading">â€‹</a></h4><p>è·å–è®°å½•æ•°æ®ï¼Œæˆ–è·å–æ ¹æ®æŸ¥è¯¢æ¡ä»¶ç­›é€‰åçš„è®°å½•æ•°æ®</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/document/Document.get.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">OQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IDBAPIParam</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">RQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IDBAPIParam</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IQuerySingleResult</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IDBAPIParam&gt;</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -14">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -14" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-4">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-4" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;some-todo-id&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-4">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-4" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;&lt;some-todo-id&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="set">set<a class="hash-link" href="#set" title="Direct link to heading">â€‹</a></h4><p>æ›¿æ¢æ›´æ–°ä¸€æ¡è®°</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/document/Document.set.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">OQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">ISetSingleDocumentOptions</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">RQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">ISetSingleDocumentOptions</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">ISetResult</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;ISetSingleDocumentOptions&gt;</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -15">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -15" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-5">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-5" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> _ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todo-identifiant-aleatoire&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;learn cloud database&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    due</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2018-09-01&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tags</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;cloud&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;database&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      color</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;skyblue&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ä½ç½®ï¼ˆ113Â°Eï¼Œ23Â°Nï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    done</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">err</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-5">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-5" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> _ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todo-identifiant-aleatoire&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;learn cloud database&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    due</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2018-09-01&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tags</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;cloud&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;database&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    style</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      color</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;skyblue&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ä½ç½®ï¼ˆ113Â°Eï¼Œ23Â°Nï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    done</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="update">update<a class="hash-link" href="#update" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°ä¸€æ¡è®°å½•</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/document/Document.update.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">OQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IUpdateSingleDocumentOptions</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">RQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IUpdateSingleDocumentOptions</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">...</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IUpdateSingleDocumentOptions&gt;</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -16">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -16" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-6">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-6" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todo-identifiant-aleatoire&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// data ä¼ å…¥éœ€è¦å±€éƒ¨æ›´æ–°çš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è¡¨ç¤ºå°† done å­—æ®µç½®ä¸º true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    done</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-6">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-6" title="Direct link to heading">â€‹</a></h6><p>db.collection(&#x27;todos&#x27;).doc(&#x27;todo-identifiant-aleatoire&#x27;).update({
// data ä¼ å…¥éœ€è¦å±€éƒ¨æ›´æ–°çš„æ•°æ®
data: {
// è¡¨ç¤ºå°† done å­—æ®µç½®ä¸º true
done: true
},
success: console.log,
fail: console.error
})</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#### remove</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">åˆ é™¤ä¸€æ¡è®°å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ”¯æŒæƒ…å†µï¼š&lt;img title=&quot;å¾®ä¿¡å°ç¨‹åº&quot; src={require(&#x27;@site/static/img/platform/weapp.png&#x27;).default} className=&quot;icon_platform&quot; width=&quot;25px&quot;/&gt; &lt;img title=&quot;H5&quot; src={require(&#x27;@site/static/img/platform/h5.png&#x27;).default} className=&quot;icon_platform icon_platform--not-support&quot; width=&quot;25px&quot;/&gt; &lt;img title=&quot;React Native&quot; src={require(&#x27;@site/static/img/platform/rn.png&#x27;).default} className=&quot;icon_platform icon_platform--not-support&quot; width=&quot;25px&quot;/&gt; &lt;img title=&quot;Harmony&quot; src={require(&#x27;@site/static/img/platform/harmony.png&#x27;).default} className=&quot;icon_platform icon_platform--not-support&quot; width=&quot;25px&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; [å‚è€ƒæ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/document/Document.remove.html)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ (options: OQ&lt;IDBAPIParam&gt;): void; (options: RQ&lt;IDBAPIParam&gt;): Promise&lt;IRemoveResult&gt;; }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IDBAPIParam&gt;</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -17">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -17" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-7">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-7" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todo-identifiant-aleatoire&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-7">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-7" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">doc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todo-identifiant-aleatoire&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">remove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="documentid">DocumentId<a class="hash-link" href="#documentid" title="Direct link to heading">â€‹</a></h4><p>è®°å½• ID</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="idocumentdata">IDocumentData<a class="hash-link" href="#idocumentdata" title="Direct link to heading">â€‹</a></h4><p>è®°å½•ç»“æ„</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>_id</td><td><code>DocumentId</code></td><td align="center">å¦</td><td>æ–°å¢çš„è®°å½• _id</td></tr><tr><td>__index</td><td><code>__index</code></td><td align="center">æ˜¯</td><td></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="idbapiparam">IDBAPIParam<a class="hash-link" href="#idbapiparam" title="Direct link to heading">â€‹</a></h4><p>æ•°æ®åº“ API é€šç”¨å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>success</td><td><code>(res: T) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td>fail</td><td><code>(err: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>complete</td><td><code>(val: any) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iadddocumentoptions">IAddDocumentOptions<a class="hash-link" href="#iadddocumentoptions" title="Direct link to heading">â€‹</a></h4><p>æ–°å¢è®°å½•çš„å®šä¹‰</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>data</td><td><code>IDocumentData</code></td><td align="center">æ˜¯</td><td>æ–°å¢è®°å½•çš„å®šä¹‰</td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>complete</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr><tr><td>fail</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>success</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iwatchdocumentoptions">IWatchDocumentOptions<a class="hash-link" href="#iwatchdocumentoptions" title="Direct link to heading">â€‹</a></h4><p>ç›‘å¬é›†åˆä¸­ç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„æ•°æ®çš„æ›´æ–°äº‹ä»¶</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>onChange</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æˆåŠŸå›è°ƒï¼Œå›è°ƒä¼ å…¥çš„å‚æ•° snapshot æ˜¯å˜æ›´å¿«ç…§</td></tr><tr><td>onError</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>å¤±è´¥å›è°ƒ</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="isnapshot">ISnapshot<a class="hash-link" href="#isnapshot" title="Direct link to heading">â€‹</a></h4><p>å˜æ›´å¿«ç…§</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>docChanges</td><td><code>ChangeEvent[]</code></td><td>æ›´æ–°äº‹ä»¶æ•°ç»„</td></tr><tr><td>docs</td><td><code>TaroGeneral.IAnyObject[]</code></td><td>æ•°æ®å¿«ç…§ï¼Œè¡¨ç¤ºæ­¤æ›´æ–°äº‹ä»¶å‘ç”ŸåæŸ¥è¯¢è¯­å¥å¯¹åº”çš„æŸ¥è¯¢ç»“æœ</td></tr><tr><td>type</td><td><code>string</code></td><td>å¿«ç…§ç±»å‹ï¼Œä»…åœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ•°æ®æ—¶æœ‰å€¼ä¸º init</td></tr><tr><td>id</td><td><code>number</code></td><td>å˜æ›´äº‹ä»¶ id</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="changeevent">ChangeEvent<a class="hash-link" href="#changeevent" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°äº‹ä»¶</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>id</td><td><code>number</code></td><td>æ›´æ–°äº‹ä»¶ id</td></tr><tr><td>queueType</td><td><code>keyof QueueType</code></td><td>åˆ—è¡¨æ›´æ–°ç±»å‹ï¼Œè¡¨ç¤ºæ›´æ–°äº‹ä»¶å¯¹ç›‘å¬åˆ—è¡¨çš„å½±å“ï¼Œæšä¸¾å€¼</td></tr><tr><td>dataType</td><td><code>keyof DataType</code></td><td>æ•°æ®æ›´æ–°ç±»å‹ï¼Œè¡¨ç¤ºè®°å½•çš„å…·ä½“æ›´æ–°ç±»å‹ï¼Œæšä¸¾å€¼</td></tr><tr><td>docId</td><td><code>string</code></td><td>æ›´æ–°çš„è®°å½• id</td></tr><tr><td>doc</td><td><code>TaroGeneral.IAnyObject</code></td><td>æ›´æ–°çš„å®Œæ•´è®°å½•</td></tr><tr><td>updatedFields</td><td><code>TaroGeneral.IAnyObject</code></td><td>æ‰€æœ‰æ›´æ–°çš„å­—æ®µåŠå­—æ®µæ›´æ–°åçš„å€¼ï¼Œ<code>key</code> ä¸ºæ›´æ–°çš„å­—æ®µè·¯å¾„ï¼Œ<code>value</code> ä¸ºå­—æ®µæ›´æ–°åçš„å€¼ï¼Œä»…åœ¨ <code>update</code> æ“ä½œæ—¶æœ‰æ­¤ä¿¡æ¯</td></tr><tr><td>removedFields</td><td><code>string[]</code></td><td>æ‰€æœ‰è¢«åˆ é™¤çš„å­—æ®µï¼Œä»…åœ¨ <code>update</code> æ“ä½œæ—¶æœ‰æ­¤ä¿¡æ¯</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="queuetype">QueueType<a class="hash-link" href="#queuetype" title="Direct link to heading">â€‹</a></h4><p>åˆ—è¡¨æ›´æ–°ç±»å‹ï¼Œè¡¨ç¤ºæ›´æ–°äº‹ä»¶å¯¹ç›‘å¬åˆ—è¡¨çš„å½±å“ï¼Œæšä¸¾å€¼</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>init</td><td>åˆå§‹åŒ–åˆ—è¡¨</td></tr><tr><td>update</td><td>åˆ—è¡¨ä¸­çš„è®°å½•å†…å®¹æœ‰æ›´æ–°ï¼Œä½†åˆ—è¡¨åŒ…å«çš„è®°å½•ä¸å˜</td></tr><tr><td>enqueue</td><td>è®°å½•è¿›å…¥åˆ—è¡¨</td></tr><tr><td>dequeue</td><td>è®°å½•ç¦»å¼€åˆ—è¡¨</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="datatype">DataType<a class="hash-link" href="#datatype" title="Direct link to heading">â€‹</a></h4><p>æ•°æ®æ›´æ–°ç±»å‹ï¼Œè¡¨ç¤ºè®°å½•çš„å…·ä½“æ›´æ–°ç±»å‹ï¼Œæšä¸¾å€¼</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>init</td><td>åˆå§‹åŒ–åˆ—è¡¨</td></tr><tr><td>update</td><td>è®°å½•å†…å®¹æ›´æ–°ï¼Œå¯¹åº” <code>update</code> æ“ä½œ</td></tr><tr><td>replace</td><td>è®°å½•å†…å®¹è¢«æ›¿æ¢ï¼Œå¯¹åº” <code>set</code> æ“ä½œ</td></tr><tr><td>add</td><td>è®°å½•æ–°å¢ï¼Œå¯¹åº” <code>add</code> æ“ä½œ</td></tr><tr><td>remove</td><td>è®°å½•è¢«åˆ é™¤ï¼Œå¯¹åº” <code>remove</code> æ“ä½œ</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iwatcher">IWatcher<a class="hash-link" href="#iwatcher" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_mojV" id="close">close<a class="hash-link" href="#close" title="Direct link to heading">â€‹</a></h5><p>å…³é—­ç›‘å¬ï¼Œæ— éœ€å‚æ•°ï¼Œè¿”å› Promiseï¼Œä¼šåœ¨å…³é—­å®Œæˆæ—¶ resolve</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">any</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="igetdocumentoptions">IGetDocumentOptions<a class="hash-link" href="#igetdocumentoptions" title="Direct link to heading">â€‹</a></h4><p>è·å–è®°å½•å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>success</td><td><code>(res: T) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td>fail</td><td><code>(err: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>complete</td><td><code>(val: any) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="icountdocumentoptions">ICountDocumentOptions<a class="hash-link" href="#icountdocumentoptions" title="Direct link to heading">â€‹</a></h4><p>è·å–è®°å½•æ¡æ•°å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>success</td><td><code>(res: T) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td>fail</td><td><code>(err: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>complete</td><td><code>(val: any) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iupdatedocumentoptions">IUpdateDocumentOptions<a class="hash-link" href="#iupdatedocumentoptions" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°è®°å½•å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>data</td><td><code>IUpdateCondition</code></td><td align="center">æ˜¯</td><td></td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>complete</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr><tr><td>fail</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>success</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iupdatesingledocumentoptions">IUpdateSingleDocumentOptions<a class="hash-link" href="#iupdatesingledocumentoptions" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°å•æ¡è®°å½•å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>data</td><td><code>IUpdateCondition</code></td><td align="center">æ˜¯</td><td>æ›¿æ¢è®°å½•çš„å®šä¹‰</td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>complete</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr><tr><td>fail</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>success</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="isetdocumentoptions">ISetDocumentOptions<a class="hash-link" href="#isetdocumentoptions" title="Direct link to heading">â€‹</a></h4><p>æ›¿æ¢è®°å½•å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>data</td><td><code>IUpdateCondition</code></td><td align="center">æ˜¯</td><td>æ›¿æ¢è®°å½•çš„å®šä¹‰</td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>complete</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr><tr><td>fail</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>success</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="isetsingledocumentoptions">ISetSingleDocumentOptions<a class="hash-link" href="#isetsingledocumentoptions" title="Direct link to heading">â€‹</a></h4><p>æ›¿æ¢ä¸€æ¡è®°å½•å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>data</td><td><code>IUpdateCondition</code></td><td align="center">æ˜¯</td><td></td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>complete</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr><tr><td>fail</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>success</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iremovedocumentoptions">IRemoveDocumentOptions<a class="hash-link" href="#iremovedocumentoptions" title="Direct link to heading">â€‹</a></h4><p>åˆ é™¤è®°å½•å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>query</td><td><code>IQueryCondition</code></td><td align="center">æ˜¯</td><td></td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>complete</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr><tr><td>fail</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>success</td><td><code>(res: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iremovesingledocumentoptions">IRemoveSingleDocumentOptions<a class="hash-link" href="#iremovesingledocumentoptions" title="Direct link to heading">â€‹</a></h4><p>åˆ é™¤ä¸€æ¡è®°å½•å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td align="center">å¦</td><td>é…ç½®</td></tr><tr><td>success</td><td><code>(res: T) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td>fail</td><td><code>(err: TaroGeneral.CallbackResult) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td>complete</td><td><code>(val: any) =&gt; void</code></td><td align="center">å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iupdatecondition">IUpdateCondition<a class="hash-link" href="#iupdatecondition" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°è®°å½•å®šä¹‰</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>__index</td><td><code>__index</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="query">Query<a class="hash-link" href="#query" title="Direct link to heading">â€‹</a></h3><p>æ•°æ®åº“ Query å¼•ç”¨</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Query.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><h4 class="anchor anchorWithStickyNavbar_mojV" id="where-1">where<a class="hash-link" href="#where-1" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼Œè¿”å›å¸¦æ–°æŸ¥è¯¢æ¡ä»¶çš„æ–°çš„é›†åˆå¼•ç”¨</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.where.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">condition</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> IQueryCondition</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Query</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>condition</td><td><code>IQueryCondition</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -18">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -18" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> _ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">lt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="orderby-1">orderBy<a class="hash-link" href="#orderby-1" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šæŸ¥è¯¢æ’åºæ¡ä»¶</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.orderBy.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">fieldPath</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> order</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Query</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>fieldPath</td><td><code>string</code></td></tr><tr><td>order</td><td><code>string</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -19">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -19" title="Direct link to heading">â€‹</a></h5><p>æŒ‰ä¸€ä¸ªå­—æ®µæ’åºï¼šæŒ‰è¿›åº¦æ’å‡åºå–å¾…åŠäº‹é¡¹</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orderBy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;progress&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;asc&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æŒ‰å¤šä¸ªå­—æ®µæ’åºï¼šå…ˆæŒ‰ progress æ’é™åºï¼ˆprogress è¶Šå¤§è¶Šé å‰ï¼‰ã€å†æŒ‰ description æ’å‡åºï¼ˆå­—æ¯åºè¶Šå‰è¶Šé å‰ï¼‰å–å¾…åŠäº‹é¡¹</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orderBy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;progress&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;desc&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">orderBy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;description&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;asc&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="limit-1">limit<a class="hash-link" href="#limit-1" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šæŸ¥è¯¢ç»“æœé›†æ•°é‡ä¸Šé™</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.limit.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">max</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Query</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>max</td><td><code>number</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -20">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -20" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">limit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="skip-1">skip<a class="hash-link" href="#skip-1" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šæŸ¥è¯¢è¿”å›ç»“æœæ—¶ä»æŒ‡å®šåºåˆ—åçš„ç»“æœå¼€å§‹è¿”å›ï¼Œå¸¸ç”¨äºåˆ†é¡µ</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.skip.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">offset</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Query</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>offset</td><td><code>number</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -21">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -21" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">skip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="field-1">field<a class="hash-link" href="#field-1" title="Direct link to heading">â€‹</a></h4><p>æŒ‡å®šè¿”å›ç»“æœä¸­è®°å½•éœ€è¿”å›çš„å­—æ®µ</p><p><strong>è¯´æ˜</strong></p><p>æ–¹æ³•æ¥å—ä¸€ä¸ªå¿…å¡«å¯¹è±¡ç”¨äºæŒ‡å®šéœ€è¿”å›çš„å­—æ®µï¼Œå¯¹è±¡çš„å„ä¸ª key è¡¨ç¤ºè¦è¿”å›æˆ–ä¸è¦è¿”å›çš„å­—æ®µï¼Œvalue ä¼ å…¥ true|falseï¼ˆæˆ– 1|-1ï¼‰è¡¨ç¤ºè¦è¿”å›è¿˜æ˜¯ä¸è¦è¿”å›ã€‚
å¦‚æœæŒ‡å®šçš„å­—æ®µæ˜¯æ•°ç»„å­—æ®µï¼Œè¿˜å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•åªè¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼šåœ¨è¯¥å­—æ®µ key åé¢æ‹¼æ¥ä¸Š <code>.$</code> æˆä¸º <code>å­—æ®µ.$</code> çš„å½¢å¼ã€‚
å¦‚æœæŒ‡å®šçš„å­—æ®µæ˜¯æ•°ç»„å­—æ®µï¼Œè¿˜å¯ä»¥ç”¨ <code>db.command.project.slice</code> æ–¹æ³•è¿”å›æ•°ç»„çš„å­æ•°ç»„ï¼š
æ–¹æ³•æ—¢å¯ä»¥æ¥æ”¶ä¸€ä¸ªæ­£æ•°è¡¨ç¤ºè¿”å›å‰ n ä¸ªå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªè´Ÿæ•°è¡¨ç¤ºè¿”å›å n ä¸ªå…ƒç´ ï¼›è¿˜å¯ä»¥æ¥æ”¶ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ•°å­— <code>[ skip, limit ]</code> çš„æ•°ç»„ï¼Œå¦‚æœ <code>skip</code> æ˜¯æ­£æ•°ï¼Œè¡¨ç¤ºè·³è¿‡ <code>skip</code> ä¸ªå…ƒç´ åå†è¿”å›æ¥ä¸‹æ¥çš„ <code>limit</code> ä¸ªå…ƒç´ ï¼Œå¦‚æœ <code>skip</code> æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºä»å€’æ•°ç¬¬ <code>skip</code> ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¿”å›å¾€åæ•°çš„ <code>limit</code> ä¸ªå…ƒç´ </p><ul><li>è¿”å›æ•°ç»„çš„å‰ 5 ä¸ªå…ƒç´ ï¼š<code>{ tags: db.command.project.slice(5) }</code></li><li>è¿”å›æ•°ç»„çš„å 5 ä¸ªå…ƒç´ ï¼š<code>{ tags: db.command.project.slice(-5) }</code></li><li>è·³è¿‡å‰ 5 ä¸ªå…ƒç´ ï¼Œè¿”å›æ¥ä¸‹æ¥ 10 ä¸ªå…ƒç´ ï¼š<code>{ tags: db.command.project.slice(5, 10) }</code></li><li>ä»å€’æ•°ç¬¬ 5 ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¿”å›æ¥ä¸‹æ¥æ­£æ–¹å‘æ•°çš„ 10 ä¸ªå…ƒç´ ï¼š<code>{ tags: db.command.project.slice(-5, 10) }</code></li></ul><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.field.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> TaroGeneral</span><span class="token parameter punctuation" style="color:#393A34">.</span><span class="token parameter">IAnyObject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Query</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>TaroGeneral.IAnyObject</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -22">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -22" title="Direct link to heading">â€‹</a></h5><p>è¿”å› description, done å’Œ progress ä¸‰ä¸ªå­—æ®µï¼š</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">field</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  done</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  progress</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// åªè¿”å› tags æ•°ç»„å‰ 3 ä¸ªå…ƒç´ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tags</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">project</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="get-2">get<a class="hash-link" href="#get-2" title="Direct link to heading">â€‹</a></h4><p>è·å–é›†åˆæ•°æ®ï¼Œæˆ–è·å–æ ¹æ®æŸ¥è¯¢æ¡ä»¶ç­›é€‰åçš„é›†åˆæ•°æ®ã€‚</p><p><strong>ä½¿ç”¨è¯´æ˜</strong></p><p>ç»Ÿè®¡é›†åˆè®°å½•æ•°æˆ–ç»Ÿè®¡æŸ¥è¯¢è¯­å¥å¯¹åº”çš„ç»“æœè®°å½•æ•°</p><p>å°ç¨‹åºç«¯ä¸äº‘å‡½æ•°ç«¯çš„è¡¨ç°ä¼šæœ‰å¦‚ä¸‹å·®å¼‚ï¼š</p><ul><li>å°ç¨‹åºç«¯ï¼šå¦‚æœæ²¡æœ‰æŒ‡å®š limitï¼Œåˆ™é»˜è®¤ä¸”æœ€å¤šå– 20 æ¡è®°å½•ã€‚</li><li>äº‘å‡½æ•°ç«¯ï¼šå¦‚æœæ²¡æœ‰æŒ‡å®š limitï¼Œåˆ™é»˜è®¤ä¸”æœ€å¤šå– 100 æ¡è®°å½•ã€‚</li></ul><p>å¦‚æœæ²¡æœ‰æŒ‡å®š skipï¼Œåˆ™é»˜è®¤ä»ç¬¬ 0 æ¡è®°å½•å¼€å§‹å–ï¼Œskip å¸¸ç”¨äºåˆ†é¡µã€‚</p><p>å¦‚æœéœ€è¦å–é›†åˆä¸­æ‰€æœ‰çš„æ•°æ®ï¼Œä»…åœ¨æ•°æ®é‡ä¸å¤§ä¸”åœ¨äº‘å‡½æ•°ä¸­æ—¶</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.get.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">OQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IDBAPIParam</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">RQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IDBAPIParam</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IQueryResult</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IDBAPIParam&gt;</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -23">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -23" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  _openid</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¡«å…¥å½“å‰ç”¨æˆ· openid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="count-1">count<a class="hash-link" href="#count-1" title="Direct link to heading">â€‹</a></h4><p>ç»Ÿè®¡åŒ¹é…æŸ¥è¯¢æ¡ä»¶çš„è®°å½•çš„æ¡æ•°</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.count.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">OQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IDBAPIParam</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">RQ</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">IDBAPIParam</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">ICountResult</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IDBAPIParam&gt;</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -24">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -24" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-8">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-8" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  _openid</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¡«å…¥å½“å‰ç”¨æˆ· openid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">total</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-8">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-8" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cloud</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  _openid</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¡«å…¥å½“å‰ç”¨æˆ· openid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">total</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="iquerycondition">IQueryCondition<a class="hash-link" href="#iquerycondition" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>__index</td><td><code>__index</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="istringquerycondition">IStringQueryCondition<a class="hash-link" href="#istringquerycondition" title="Direct link to heading">â€‹</a></h4><h4 class="anchor anchorWithStickyNavbar_mojV" id="iqueryresult">IQueryResult<a class="hash-link" href="#iqueryresult" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>data</td><td><code>IDocumentData[]</code></td><td>æŸ¥è¯¢çš„ç»“æœæ•°ç»„ï¼Œæ•°æ®çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ª Objectï¼Œä»£è¡¨ä¸€æ¡è®°å½•</td></tr><tr><td>errMsg</td><td><code>string</code></td><td>è°ƒç”¨ç»“æœ</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iquerysingleresult">IQuerySingleResult<a class="hash-link" href="#iquerysingleresult" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>data</td><td><code>IDocumentData</code></td><td></td></tr><tr><td>errMsg</td><td><code>string</code></td><td>è°ƒç”¨ç»“æœ</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iaddresult">IAddResult<a class="hash-link" href="#iaddresult" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>_id</td><td><code>DocumentId</code></td><td></td></tr><tr><td>errMsg</td><td><code>string</code></td><td>è°ƒç”¨ç»“æœ</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iupdateresult">IUpdateResult<a class="hash-link" href="#iupdateresult" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>stats</td><td><code>{ updated: number; }</code></td><td></td></tr><tr><td>errMsg</td><td><code>string</code></td><td>è°ƒç”¨ç»“æœ</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="isetresult">ISetResult<a class="hash-link" href="#isetresult" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>_id</td><td><code>DocumentId</code></td><td></td></tr><tr><td>stats</td><td><code>{ updated: number; created: number; }</code></td><td></td></tr><tr><td>errMsg</td><td><code>string</code></td><td>è°ƒç”¨ç»“æœ</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="iremoveresult">IRemoveResult<a class="hash-link" href="#iremoveresult" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>stats</td><td><code>{ removed: number; }</code></td><td></td></tr><tr><td>errMsg</td><td><code>string</code></td><td>è°ƒç”¨ç»“æœ</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="icountresult">ICountResult<a class="hash-link" href="#icountresult" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>total</td><td><code>number</code></td><td>ç»“æœæ•°é‡</td></tr><tr><td>errMsg</td><td><code>string</code></td><td>è°ƒç”¨ç»“æœ</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="command">Command<a class="hash-link" href="#command" title="Direct link to heading">â€‹</a></h3><p>æ•°æ®åº“æ“ä½œç¬¦ï¼Œé€šè¿‡ db.command è·å–</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Command.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><h4 class="anchor anchorWithStickyNavbar_mojV" id="eq">eq<a class="hash-link" href="#eq" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢ç­›é€‰æ¡ä»¶ï¼Œè¡¨ç¤ºå­—æ®µç­‰äºæŸä¸ªå€¼ã€‚eq æŒ‡ä»¤æ¥å—ä¸€ä¸ªå­—é¢é‡ (literal)ï¼Œå¯ä»¥æ˜¯ number, boolean, string, object, array, Dateã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.eq.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="neq">neq<a class="hash-link" href="#neq" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢ç­›é€‰æ¡ä»¶ï¼Œè¡¨ç¤ºå­—æ®µä¸ç­‰äºæŸä¸ªå€¼ã€‚eq æŒ‡ä»¤æ¥å—ä¸€ä¸ªå­—é¢é‡ (literal)ï¼Œå¯ä»¥æ˜¯ number, boolean, string, object, array, Dateã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.neq.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="gt">gt<a class="hash-link" href="#gt" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºéœ€å¤§äºæŒ‡å®šå€¼ã€‚å¯ä»¥ä¼ å…¥ Date å¯¹è±¡ç”¨äºè¿›è¡Œæ—¥æœŸæ¯”è¾ƒã€‚</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.gt.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="gte">gte<a class="hash-link" href="#gte" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºéœ€å¤§äºæˆ–ç­‰äºæŒ‡å®šå€¼ã€‚å¯ä»¥ä¼ å…¥ Date å¯¹è±¡ç”¨äºè¿›è¡Œæ—¥æœŸæ¯”è¾ƒã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.gte.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="lt">lt<a class="hash-link" href="#lt" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºéœ€å°äºæŒ‡å®šå€¼ã€‚å¯ä»¥ä¼ å…¥ Date å¯¹è±¡ç”¨äºè¿›è¡Œæ—¥æœŸæ¯”è¾ƒã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.lt.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="lte">lte<a class="hash-link" href="#lte" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºéœ€å°äºæˆ–ç­‰äºæŒ‡å®šå€¼ã€‚å¯ä»¥ä¼ å…¥ Date å¯¹è±¡ç”¨äºè¿›è¡Œæ—¥æœŸæ¯”è¾ƒã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.lte.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="in">in<a class="hash-link" href="#in" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºè¦æ±‚å€¼åœ¨ç»™å®šçš„æ•°ç»„å†…ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.in.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>val</td><td><code>any[]</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="nin">nin<a class="hash-link" href="#nin" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºè¦æ±‚å€¼ä¸åœ¨ç»™å®šçš„æ•°ç»„å†…ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.nin.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>val</td><td><code>any[]</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="geonear">geoNear<a class="hash-link" href="#geonear" title="Direct link to heading">â€‹</a></h4><p>æŒ‰ä»è¿‘åˆ°è¿œçš„é¡ºåºï¼Œæ‰¾å‡ºå­—æ®µå€¼åœ¨ç»™å®šç‚¹çš„é™„è¿‘çš„è®°å½•ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoNear.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> NearCommandOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>NearCommandOptions</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="geowithin">geoWithin<a class="hash-link" href="#geowithin" title="Direct link to heading">â€‹</a></h4><p>æ‰¾å‡ºå­—æ®µå€¼åœ¨æŒ‡å®šåŒºåŸŸå†…çš„è®°å½•ï¼Œæ— æ’åºã€‚æŒ‡å®šçš„åŒºåŸŸå¿…é¡»æ˜¯å¤šè¾¹å½¢ï¼ˆPolygonï¼‰æˆ–å¤šè¾¹å½¢é›†åˆï¼ˆMultiPolygonï¼‰ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoWithin.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> WithinCommandOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>WithinCommandOptions</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="geointersects">geoIntersects<a class="hash-link" href="#geointersects" title="Direct link to heading">â€‹</a></h4><p>æ‰¾å‡ºç»™å®šçš„åœ°ç†ä½ç½®å›¾å½¢ç›¸äº¤çš„è®°å½•</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoIntersects.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> IntersectsCommandOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseQueryCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>IntersectsCommandOptions</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="and">and<a class="hash-link" href="#and" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢æ“ä½œç¬¦ï¼Œç”¨äºè¡¨ç¤ºé€»è¾‘ &quot;ä¸&quot; çš„å…³ç³»ï¼Œè¡¨ç¤ºéœ€åŒæ—¶æ»¡è¶³å¤šä¸ªæŸ¥è¯¢ç­›é€‰æ¡ä»¶</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.and.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">expressions</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">(</span><span class="token parameter">IQueryCondition </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> DatabaseLogicCommand</span><span class="token parameter punctuation" style="color:#393A34">)</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>expressions</td><td>(IQueryCondition or DatabaseLogicCommand)[]</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="or">or<a class="hash-link" href="#or" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢æ“ä½œç¬¦ï¼Œç”¨äºè¡¨ç¤ºé€»è¾‘ &quot;æˆ–&quot; çš„å…³ç³»ï¼Œè¡¨ç¤ºéœ€åŒæ—¶æ»¡è¶³å¤šä¸ªæŸ¥è¯¢ç­›é€‰æ¡ä»¶ã€‚æˆ–æŒ‡ä»¤æœ‰ä¸¤ç§ç”¨æ³•ï¼Œä¸€æ˜¯å¯ä»¥è¿›è¡Œå­—æ®µå€¼çš„ â€œæˆ–â€ æ“ä½œï¼ŒäºŒæ˜¯ä¹Ÿå¯ä»¥è¿›è¡Œè·¨å­—æ®µçš„ â€œæˆ–â€ æ“ä½œã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.or.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">expressions</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">(</span><span class="token parameter">IQueryCondition </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> DatabaseLogicCommand</span><span class="token parameter punctuation" style="color:#393A34">)</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>expressions</td><td>(IQueryCondition or DatabaseLogicCommand)[]</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="set-1">set<a class="hash-link" href="#set-1" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢æ“ä½œç¬¦ï¼Œç”¨äºè¡¨ç¤ºé€»è¾‘ &quot;ä¸&quot; çš„å…³ç³»ï¼Œè¡¨ç¤ºéœ€åŒæ—¶æ»¡è¶³å¤šä¸ªæŸ¥è¯¢ç­›é€‰æ¡ä»¶</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.set.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseUpdateCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="remove">remove<a class="hash-link" href="#remove" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°æ“ä½œç¬¦ï¼Œç”¨äºè¡¨ç¤ºåˆ é™¤æŸä¸ªå­—æ®µã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.remove.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseUpdateCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="inc">inc<a class="hash-link" href="#inc" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°æ“ä½œç¬¦ï¼ŒåŸå­æ“ä½œï¼Œç”¨äºæŒ‡ç¤ºå­—æ®µè‡ªå¢</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.inc.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseUpdateCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>val</td><td><code>number</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="mul">mul<a class="hash-link" href="#mul" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°æ“ä½œç¬¦ï¼ŒåŸå­æ“ä½œï¼Œç”¨äºæŒ‡ç¤ºå­—æ®µè‡ªä¹˜æŸä¸ªå€¼</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.mul.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseUpdateCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>val</td><td><code>number</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="push">push<a class="hash-link" href="#push" title="Direct link to heading">â€‹</a></h4><p>æ•°ç»„æ›´æ–°æ“ä½œç¬¦ã€‚å¯¹ä¸€ä¸ªå€¼ä¸ºæ•°ç»„çš„å­—æ®µï¼Œå¾€æ•°ç»„æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ã€‚æˆ–å­—æ®µåŸä¸ºç©ºï¼Œåˆ™åˆ›å»ºè¯¥å­—æ®µå¹¶è®¾æ•°ç»„ä¸ºä¼ å…¥å€¼ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.push.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">values</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseUpdateCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>values</td><td><code>any[]</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="pop">pop<a class="hash-link" href="#pop" title="Direct link to heading">â€‹</a></h4><p>æ•°ç»„æ›´æ–°æ“ä½œç¬¦ï¼Œå¯¹ä¸€ä¸ªå€¼ä¸ºæ•°ç»„çš„å­—æ®µï¼Œå°†æ•°ç»„å°¾éƒ¨å…ƒç´ åˆ é™¤</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.pop.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseUpdateCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="shift">shift<a class="hash-link" href="#shift" title="Direct link to heading">â€‹</a></h4><p>æ•°ç»„æ›´æ–°æ“ä½œç¬¦ï¼Œå¯¹ä¸€ä¸ªå€¼ä¸ºæ•°ç»„çš„å­—æ®µï¼Œå°†æ•°ç»„å¤´éƒ¨å…ƒç´ åˆ é™¤ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.shift.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseUpdateCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="unshift">unshift<a class="hash-link" href="#unshift" title="Direct link to heading">â€‹</a></h4><p>æ•°ç»„æ›´æ–°æ“ä½œç¬¦ï¼Œå¯¹ä¸€ä¸ªå€¼ä¸ºæ•°ç»„çš„å­—æ®µï¼Œå¾€æ•°ç»„å¤´éƒ¨æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ã€‚æˆ–å­—æ®µåŸä¸ºç©ºï¼Œåˆ™åˆ›å»ºè¯¥å­—æ®µå¹¶è®¾æ•°ç»„ä¸ºä¼ å…¥å€¼ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.unshift.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">values</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseUpdateCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>values</td><td><code>any[]</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="databaselogiccommand">DatabaseLogicCommand<a class="hash-link" href="#databaselogiccommand" title="Direct link to heading">â€‹</a></h4><p>æ•°æ®åº“é€»è¾‘æ“ä½œç¬¦</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>fieldName</td><td>string or InternalSymbol</td><td>ä½œç”¨åŸŸåç§°</td></tr><tr><td>operator</td><td><code>string</code></td><td>æ“ä½œç¬¦</td></tr><tr><td>operands</td><td><code>any[]</code></td><td>æ“ä½œæ•°</td></tr><tr><td>_setFieldName</td><td><code>(fieldName: string) =&gt; DatabaseLogicCommand</code></td><td>è®¾ç½®ä½œç”¨åŸŸåç§°</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="and-1">and<a class="hash-link" href="#and-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢æ“ä½œç¬¦ï¼Œç”¨äºè¡¨ç¤ºé€»è¾‘ &quot;ä¸&quot; çš„å…³ç³»ï¼Œè¡¨ç¤ºéœ€åŒæ—¶æ»¡è¶³å¤šä¸ªæŸ¥è¯¢ç­›é€‰æ¡ä»¶</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.and.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">expressions</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">(</span><span class="token parameter">IQueryCondition </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> DatabaseLogicCommand</span><span class="token parameter punctuation" style="color:#393A34">)</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>expressions</td><td>(IQueryCondition or DatabaseLogicCommand)[]</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="or-1">or<a class="hash-link" href="#or-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢æ“ä½œç¬¦ï¼Œç”¨äºè¡¨ç¤ºé€»è¾‘ &quot;æˆ–&quot; çš„å…³ç³»ï¼Œè¡¨ç¤ºéœ€åŒæ—¶æ»¡è¶³å¤šä¸ªæŸ¥è¯¢ç­›é€‰æ¡ä»¶ã€‚æˆ–æŒ‡ä»¤æœ‰ä¸¤ç§ç”¨æ³•ï¼Œä¸€æ˜¯å¯ä»¥è¿›è¡Œå­—æ®µå€¼çš„ â€œæˆ–â€ æ“ä½œï¼ŒäºŒæ˜¯ä¹Ÿå¯ä»¥è¿›è¡Œè·¨å­—æ®µçš„ â€œæˆ–â€ æ“ä½œã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.or.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter operator" style="color:#393A34">...</span><span class="token parameter">expressions</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">(</span><span class="token parameter">IQueryCondition </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> DatabaseLogicCommand</span><span class="token parameter punctuation" style="color:#393A34">)</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>expressions</td><td>(IQueryCondition or DatabaseLogicCommand)[]</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="databasequerycommand">DatabaseQueryCommand<a class="hash-link" href="#databasequerycommand" title="Direct link to heading">â€‹</a></h4><p>æ•°æ®åº“æŸ¥è¯¢æ“ä½œç¬¦</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>operator</td><td><code>string</code></td><td>æ“ä½œç¬¦</td></tr><tr><td>_setFieldName</td><td><code>(fieldName: string) =&gt; DatabaseQueryCommand</code></td><td>è®¾ç½®ä½œç”¨åŸŸåç§°</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="eq-1">eq<a class="hash-link" href="#eq-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢ç­›é€‰æ¡ä»¶ï¼Œè¡¨ç¤ºå­—æ®µç­‰äºæŸä¸ªå€¼ã€‚eq æŒ‡ä»¤æ¥å—ä¸€ä¸ªå­—é¢é‡ (literal)ï¼Œå¯ä»¥æ˜¯ number, boolean, string, object, array, Dateã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.eq.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="neq-1">neq<a class="hash-link" href="#neq-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢ç­›é€‰æ¡ä»¶ï¼Œè¡¨ç¤ºå­—æ®µä¸ç­‰äºæŸä¸ªå€¼ã€‚eq æŒ‡ä»¤æ¥å—ä¸€ä¸ªå­—é¢é‡ (literal)ï¼Œå¯ä»¥æ˜¯ number, boolean, string, object, array, Dateã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.neq.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="gt-1">gt<a class="hash-link" href="#gt-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºéœ€å¤§äºæŒ‡å®šå€¼ã€‚å¯ä»¥ä¼ å…¥ Date å¯¹è±¡ç”¨äºè¿›è¡Œæ—¥æœŸæ¯”è¾ƒã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.gt.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="gte-1">gte<a class="hash-link" href="#gte-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºéœ€å¤§äºæˆ–ç­‰äºæŒ‡å®šå€¼ã€‚å¯ä»¥ä¼ å…¥ Date å¯¹è±¡ç”¨äºè¿›è¡Œæ—¥æœŸæ¯”è¾ƒã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.gte.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="lt-1">lt<a class="hash-link" href="#lt-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºéœ€å°äºæŒ‡å®šå€¼ã€‚å¯ä»¥ä¼ å…¥ Date å¯¹è±¡ç”¨äºè¿›è¡Œæ—¥æœŸæ¯”è¾ƒã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.lt.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="lte-1">lte<a class="hash-link" href="#lte-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºéœ€å°äºæˆ–ç­‰äºæŒ‡å®šå€¼ã€‚å¯ä»¥ä¼ å…¥ Date å¯¹è±¡ç”¨äºè¿›è¡Œæ—¥æœŸæ¯”è¾ƒã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.lte.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="in-1">in<a class="hash-link" href="#in-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºè¦æ±‚å€¼åœ¨ç»™å®šçš„æ•°ç»„å†…ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.in.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>val</td><td><code>any[]</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="nin-1">nin<a class="hash-link" href="#nin-1" title="Direct link to heading">â€‹</a></h5><p>æŸ¥è¯¢ç­›é€‰æ“ä½œç¬¦ï¼Œè¡¨ç¤ºè¦æ±‚å€¼ä¸åœ¨ç»™å®šçš„æ•°ç»„å†…ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.nin.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">val</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>val</td><td><code>any[]</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="geonear-1">geoNear<a class="hash-link" href="#geonear-1" title="Direct link to heading">â€‹</a></h5><p>æŒ‰ä»è¿‘åˆ°è¿œçš„é¡ºåºï¼Œæ‰¾å‡ºå­—æ®µå€¼åœ¨ç»™å®šç‚¹çš„é™„è¿‘çš„è®°å½•ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoNear.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> NearCommandOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>NearCommandOptions</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="geowithin-1">geoWithin<a class="hash-link" href="#geowithin-1" title="Direct link to heading">â€‹</a></h5><p>æ‰¾å‡ºå­—æ®µå€¼åœ¨æŒ‡å®šåŒºåŸŸå†…çš„è®°å½•ï¼Œæ— æ’åºã€‚æŒ‡å®šçš„åŒºåŸŸå¿…é¡»æ˜¯å¤šè¾¹å½¢ï¼ˆPolygonï¼‰æˆ–å¤šè¾¹å½¢é›†åˆï¼ˆMultiPolygonï¼‰ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoWithin.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> WithinCommandOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>WithinCommandOptions</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="geointersects-1">geoIntersects<a class="hash-link" href="#geointersects-1" title="Direct link to heading">â€‹</a></h5><p>æ‰¾å‡ºç»™å®šçš„åœ°ç†ä½ç½®å›¾å½¢ç›¸äº¤çš„è®°å½•</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoIntersects.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> IntersectsCommandOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">DatabaseLogicCommand</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>IntersectsCommandOptions</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="databaseupdatecommand">DatabaseUpdateCommand<a class="hash-link" href="#databaseupdatecommand" title="Direct link to heading">â€‹</a></h4><p>æ•°æ®åº“æ›´æ–°æ“ä½œç¬¦</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>fieldName</td><td>string or InternalSymbol</td><td>ä½œç”¨åŸŸåç§°</td></tr><tr><td>operator</td><td><code>keyof UPDATE_COMMANDS_LITERAL</code></td><td>æ“ä½œç¬¦</td></tr><tr><td>operands</td><td><code>any[]</code></td><td>æ“ä½œæ•°</td></tr><tr><td>_setFieldName</td><td><code>(fieldName: string) =&gt; DatabaseUpdateCommand</code></td><td>è®¾ç½®ä½œç”¨åŸŸåç§°</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="logic_commands_literal">LOGIC_COMMANDS_LITERAL<a class="hash-link" href="#logic_commands_literal" title="Direct link to heading">â€‹</a></h4><p>é€»è¾‘å‘½ä»¤å­—é¢é‡</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>and</td><td>ä¸</td></tr><tr><td>or</td><td>æˆ–</td></tr><tr><td>not</td><td>é</td></tr><tr><td>nor</td><td>éƒ½ä¸</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="query_commands_literal">QUERY_COMMANDS_LITERAL<a class="hash-link" href="#query_commands_literal" title="Direct link to heading">â€‹</a></h4><p>æŸ¥è¯¢å‘½ä»¤å­—é¢é‡</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>eq</td><td>ç­‰äº</td></tr><tr><td>neq</td><td>ä¸ç­‰äº</td></tr><tr><td>gt</td><td>å¤§äº</td></tr><tr><td>gte</td><td>å¤§äºç­‰äº</td></tr><tr><td>lt</td><td>å°äº</td></tr><tr><td>lte</td><td>å°äºç­‰äº</td></tr><tr><td>in</td><td>èŒƒå›´å†…</td></tr><tr><td>nin</td><td>èŒƒå›´å¤–</td></tr><tr><td>geoNear</td><td>é™„è¿‘æ’åº</td></tr><tr><td>geoWithin</td><td>æŒ‡å®šåŒºåŸŸå†…</td></tr><tr><td>geoIntersects</td><td>ç›¸äº¤åŒºåŸŸ</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="update_commands_literal">UPDATE_COMMANDS_LITERAL<a class="hash-link" href="#update_commands_literal" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°å‘½ä»¤å­—é¢é‡</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>set</td><td>ç­‰äº</td></tr><tr><td>remove</td><td>åˆ é™¤</td></tr><tr><td>inc</td><td>è‡ªå¢</td></tr><tr><td>mul</td><td>è‡ªä¹˜</td></tr><tr><td>push</td><td>å°¾éƒ¨æ·»åŠ </td></tr><tr><td>pop</td><td>å°¾éƒ¨åˆ é™¤</td></tr><tr><td>shift</td><td>å¤´éƒ¨åˆ é™¤</td></tr><tr><td>unshift</td><td>å¤´éƒ¨æ·»åŠ </td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="nearcommandoptions">NearCommandOptions<a class="hash-link" href="#nearcommandoptions" title="Direct link to heading">â€‹</a></h4><p>æŒ‰ä»è¿‘åˆ°è¿œçš„é¡ºåºï¼Œæ‰¾å‡ºå­—æ®µå€¼åœ¨ç»™å®šç‚¹çš„é™„è¿‘çš„è®°å½•å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th align="center">å¿…å¡«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>geometry</td><td><code>GeoPoint</code></td><td align="center">æ˜¯</td><td>åœ°ç†ä½ç½®ç‚¹ (Point)</td></tr><tr><td>maxDistance</td><td><code>number</code></td><td align="center">å¦</td><td>æœ€å¤§è·ç¦»ï¼Œå•ä½ä¸ºç±³</td></tr><tr><td>minDistance</td><td><code>number</code></td><td align="center">å¦</td><td>æœ€å°è·ç¦»ï¼Œå•ä½ä¸ºç±³</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="withincommandoptions">WithinCommandOptions<a class="hash-link" href="#withincommandoptions" title="Direct link to heading">â€‹</a></h4><p>æ‰¾å‡ºå­—æ®µå€¼åœ¨æŒ‡å®šåŒºåŸŸå†…çš„è®°å½•ï¼Œæ— æ’åºå‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>geometry</td><td>GeoPolygon or GeoMultiPolygon</td><td>åœ°ç†ä¿¡æ¯ç»“æ„ï¼ŒPolygonï¼ŒMultiPolygonï¼Œæˆ– { centerSphere }</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="intersectscommandoptions">IntersectsCommandOptions<a class="hash-link" href="#intersectscommandoptions" title="Direct link to heading">â€‹</a></h4><p>æ‰¾å‡ºç»™å®šçš„åœ°ç†ä½ç½®å›¾å½¢ç›¸äº¤çš„è®°å½•</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>geometry</td><td>GeoPoint or GeoPolygon or GeoMultiPolygon or GeoMultiPoint or GeoLineString or GeoMultiLineString</td><td>åœ°ç†ä¿¡æ¯ç»“æ„</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="aggregate-1">Aggregate<a class="hash-link" href="#aggregate-1" title="Direct link to heading">â€‹</a></h3><p>æ•°æ®åº“é›†åˆçš„èšåˆæ“ä½œå®ä¾‹</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><h4 class="anchor anchorWithStickyNavbar_mojV" id="addfields">addFields<a class="hash-link" href="#addfields" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚æ·»åŠ æ–°å­—æ®µåˆ°è¾“å‡ºçš„è®°å½•ã€‚ç»è¿‡ addFields èšåˆé˜¶æ®µï¼Œè¾“å‡ºçš„æ‰€æœ‰è®°å½•ä¸­é™¤äº†è¾“å…¥æ—¶å¸¦æœ‰çš„å­—æ®µå¤–ï¼Œè¿˜å°†å¸¦æœ‰ addFields æŒ‡å®šçš„å­—æ®µã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.addFields.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="bucket">bucket<a class="hash-link" href="#bucket" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚å°†è¾“å…¥è®°å½•æ ¹æ®ç»™å®šçš„æ¡ä»¶å’Œè¾¹ç•Œåˆ’åˆ†æˆä¸åŒçš„ç»„ï¼Œæ¯ç»„å³ä¸€ä¸ª bucketã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.bucket.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="bucketauto">bucketAuto<a class="hash-link" href="#bucketauto" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚å°†è¾“å…¥è®°å½•æ ¹æ®ç»™å®šçš„æ¡ä»¶åˆ’åˆ†æˆä¸åŒçš„ç»„ï¼Œæ¯ç»„å³ä¸€ä¸ª bucketã€‚ä¸ bucket çš„å…¶ä¸­ä¸€ä¸ªä¸åŒä¹‹å¤„åœ¨äºæ— éœ€æŒ‡å®š boundariesï¼ŒbucketAuto ä¼šè‡ªåŠ¨å°è¯•å°†è®°å½•å°½å¯èƒ½å¹³å‡çš„åˆ†æ•£åˆ°æ¯ç»„ä¸­ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.bucketAuto.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="count-2">count<a class="hash-link" href="#count-2" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚è®¡ç®—ä¸Šä¸€èšåˆé˜¶æ®µè¾“å…¥åˆ°æœ¬é˜¶æ®µçš„è®°å½•æ•°ï¼Œè¾“å‡ºä¸€ä¸ªè®°å½•ï¼Œå…¶ä¸­æŒ‡å®šå­—æ®µçš„å€¼ä¸ºè®°å½•æ•°ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.count.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">fieldName</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>fieldName</td><td><code>string</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="end">end<a class="hash-link" href="#end" title="Direct link to heading">â€‹</a></h4><p>æ ‡å¿—èšåˆæ“ä½œå®šä¹‰å®Œæˆï¼Œå‘èµ·å®é™…èšåˆæ“ä½œ</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.end.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token known-class-name class-name">Object</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="geonear-2">geoNear<a class="hash-link" href="#geonear-2" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚å°†è®°å½•æŒ‰ç…§ç¦»ç»™å®šç‚¹ä»è¿‘åˆ°è¿œè¾“å‡ºã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.geoNear.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">options</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>options</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="group">group<a class="hash-link" href="#group" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚å°†è¾“å…¥è®°å½•æŒ‰ç»™å®šè¡¨è¾¾å¼åˆ†ç»„ï¼Œè¾“å‡ºæ—¶æ¯ä¸ªè®°å½•ä»£è¡¨ä¸€ä¸ªåˆ†ç»„ï¼Œæ¯ä¸ªè®°å½•çš„ _id æ˜¯åŒºåˆ†ä¸åŒç»„çš„ keyã€‚è¾“å‡ºè®°å½•ä¸­ä¹Ÿå¯ä»¥åŒ…æ‹¬ç´¯è®¡å€¼ï¼Œå°†è¾“å‡ºå­—æ®µè®¾ä¸ºç´¯è®¡å€¼å³ä¼šä»è¯¥åˆ†ç»„ä¸­è®¡ç®—ç´¯è®¡å€¼ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.group.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="limit-2">limit<a class="hash-link" href="#limit-2" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚é™åˆ¶è¾“å‡ºåˆ°ä¸‹ä¸€é˜¶æ®µçš„è®°å½•æ•°ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.limit.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">value</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>value</td><td><code>number</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="lookup">lookup<a class="hash-link" href="#lookup" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚èšåˆé˜¶æ®µã€‚è”è¡¨æŸ¥è¯¢ã€‚ä¸åŒä¸ªæ•°æ®åº“ä¸‹çš„ä¸€ä¸ªæŒ‡å®šçš„é›†åˆåš left outer join(å·¦å¤–è¿æ¥)ã€‚å¯¹è¯¥é˜¶æ®µçš„æ¯ä¸€ä¸ªè¾“å…¥è®°å½•ï¼Œlookup ä¼šåœ¨è¯¥è®°å½•ä¸­å¢åŠ ä¸€ä¸ªæ•°ç»„å­—æ®µï¼Œè¯¥æ•°ç»„æ˜¯è¢«è”è¡¨ä¸­æ»¡è¶³åŒ¹é…æ¡ä»¶çš„è®°å½•åˆ—è¡¨ã€‚lookup ä¼šå°†è¿æ¥åçš„ç»“æœè¾“å‡ºç»™ä¸‹ä¸ªé˜¶æ®µã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.lookup.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="match">match<a class="hash-link" href="#match" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚æ ¹æ®æ¡ä»¶è¿‡æ»¤æ–‡æ¡£ï¼Œå¹¶ä¸”æŠŠç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ä¼ é€’ç»™ä¸‹ä¸€ä¸ªæµæ°´çº¿é˜¶æ®µã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.match.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="project">project<a class="hash-link" href="#project" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚æŠŠæŒ‡å®šçš„å­—æ®µä¼ é€’ç»™ä¸‹ä¸€ä¸ªæµæ°´çº¿ï¼ŒæŒ‡å®šçš„å­—æ®µå¯ä»¥æ˜¯æŸä¸ªå·²ç»å­˜åœ¨çš„å­—æ®µï¼Œä¹Ÿå¯ä»¥æ˜¯è®¡ç®—å‡ºæ¥çš„æ–°å­—æ®µã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.project.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="replaceroot">replaceRoot<a class="hash-link" href="#replaceroot" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚æŒ‡å®šä¸€ä¸ªå·²æœ‰å­—æ®µä½œä¸ºè¾“å‡ºçš„æ ¹èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªè®¡ç®—å‡ºçš„æ–°å­—æ®µä½œä¸ºæ ¹èŠ‚ç‚¹ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.replaceRoot.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="sample">sample<a class="hash-link" href="#sample" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚éšæœºä»æ–‡æ¡£ä¸­é€‰å–æŒ‡å®šæ•°é‡çš„è®°å½•ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.sample.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">size</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>size</td><td><code>number</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="skip-2">skip<a class="hash-link" href="#skip-2" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚æŒ‡å®šä¸€ä¸ªæ­£æ•´æ•°ï¼Œè·³è¿‡å¯¹åº”æ•°é‡çš„æ–‡æ¡£ï¼Œè¾“å‡ºå‰©ä¸‹çš„æ–‡æ¡£ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.skip.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">value</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>value</td><td><code>number</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="sort">sort<a class="hash-link" href="#sort" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚æ ¹æ®æŒ‡å®šçš„å­—æ®µï¼Œå¯¹è¾“å…¥çš„æ–‡æ¡£è¿›è¡Œæ’åºã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.sort.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="sortbycount">sortByCount<a class="hash-link" href="#sortbycount" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚æ ¹æ®ä¼ å…¥çš„è¡¨è¾¾å¼ï¼Œå°†ä¼ å…¥çš„é›†åˆè¿›è¡Œåˆ†ç»„ï¼ˆgroupï¼‰ã€‚ç„¶åè®¡ç®—ä¸åŒç»„çš„æ•°é‡ï¼Œå¹¶ä¸”å°†è¿™äº›ç»„æŒ‰ç…§å®ƒä»¬çš„æ•°é‡è¿›è¡Œæ’åºï¼Œè¿”å›æ’åºåçš„ç»“æœã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.sortByCount.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">object</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> Object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="unwind">unwind<a class="hash-link" href="#unwind" title="Direct link to heading">â€‹</a></h4><p>èšåˆé˜¶æ®µã€‚ä½¿ç”¨æŒ‡å®šçš„æ•°ç»„å­—æ®µä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå¯¹æ–‡æ¡£è¿›è¡Œæ‹†åˆ†ã€‚æ‹†åˆ†åï¼Œæ–‡æ¡£ä¼šä»ä¸€ä¸ªå˜ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªï¼Œåˆ†åˆ«å¯¹åº”æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ã€‚</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.unwind.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">value</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">Aggregate</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>value</td><td>string or object</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="igeo">IGeo<a class="hash-link" href="#igeo" title="Direct link to heading">â€‹</a></h3><p>æ•°æ®åº“åœ°ç†ä½ç½®ç»“æ„é›†</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Geo.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><h4 class="anchor anchorWithStickyNavbar_mojV" id="point">Point<a class="hash-link" href="#point" title="Direct link to heading">â€‹</a></h4><p>æ„é€ ä¸€ä¸ªåœ°ç†ä½ç½® â€ç‚¹â€œã€‚æ–¹æ³•æ¥å—ä¸¤ä¸ªå¿…å¡«å‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç»åº¦ï¼ˆlongitudeï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯çº¬åº¦ï¼ˆlatitudeï¼‰ï¼ŒåŠ¡å¿…æ³¨æ„é¡ºåºã€‚</p><p>å¦‚å­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯çš„å­—æ®µæœ‰è¢«æŸ¥è¯¢çš„éœ€æ±‚ï¼ŒåŠ¡å¿…å¯¹å­—æ®µå»ºç«‹åœ°ç†ä½ç½®ç´¢å¼•</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.Point.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">longitude</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> latitide</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">GeoPoint</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>longitude</td><td><code>number</code></td></tr><tr><td>latitide</td><td><code>number</code></td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -25">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -25" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-9">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-9" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-9">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-9" title="Direct link to heading">â€‹</a></h6><p>é™¤äº†ä½¿ç”¨æ¥å£æ„é€ ä¸€ä¸ªç‚¹å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç­‰ä»·çš„ GeoJSON çš„ ç‚¹ (Point) çš„ JSON è¡¨ç¤ºï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Point&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;coordinates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">longitude</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> latitude</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ•°å­—æ•°ç»„ï¼š[ç»åº¦, çº¬åº¦]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Point&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      coordinates</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="linestring">LineString<a class="hash-link" href="#linestring" title="Direct link to heading">â€‹</a></h4><p>æ„é€ ä¸€ä¸ªåœ°ç†ä½ç½®çš„ â€çº¿â€œã€‚ä¸€ä¸ªçº¿ç”±ä¸¤ä¸ªæˆ–æ›´å¤šçš„ç‚¹æœ‰åºè¿æ¥ç»„æˆã€‚</p><p>å¦‚å­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯çš„å­—æ®µæœ‰è¢«æŸ¥è¯¢çš„éœ€æ±‚ï¼ŒåŠ¡å¿…å¯¹å­—æ®µå»ºç«‹åœ°ç†ä½ç½®ç´¢å¼•</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.LineString.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">points</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> JSONMultiPoint </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> GeoPoint</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">GeoMultiPoint</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>points</td><td>JSONMultiPoint or GeoPoint[]</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -26">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -26" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-10">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-10" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">LineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// ... å¯é€‰æ›´å¤šç‚¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-10">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-10" title="Direct link to heading">â€‹</a></h6><p>é™¤äº†ä½¿ç”¨æ¥å£æ„é€ ä¸€æ¡ LineString å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç­‰ä»·çš„ GeoJSON çš„ çº¿ (LineString) çš„ JSON è¡¨ç¤ºï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;LineString&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;coordinates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">p1_lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p1_lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">p2_lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p2_lng</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ... å¯é€‰æ›´å¤šç‚¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;LineString&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      coordinates</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="polygon">Polygon<a class="hash-link" href="#polygon" title="Direct link to heading">â€‹</a></h4><p>æ„é€ ä¸€ä¸ªåœ°ç†ä½ç½® â€å¤šè¾¹å½¢â€œ</p><p>å¦‚å­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯çš„å­—æ®µæœ‰è¢«æŸ¥è¯¢çš„éœ€æ±‚ï¼ŒåŠ¡å¿…å¯¹å­—æ®µå»ºç«‹åœ°ç†ä½ç½®ç´¢å¼•</p><p><strong>è¯´æ˜</strong></p><p>ä¸€ä¸ªå¤šè¾¹å½¢ç”±ä¸€ä¸ªæˆ–å¤šä¸ªçº¿æ€§ç¯ï¼ˆLinear Ringï¼‰ç»„æˆï¼Œä¸€ä¸ªçº¿æ€§ç¯å³ä¸€ä¸ªé—­åˆçš„çº¿æ®µã€‚ä¸€ä¸ªé—­åˆçº¿æ®µè‡³å°‘ç”±å››ä¸ªç‚¹ç»„æˆï¼Œå…¶ä¸­æœ€åä¸€ä¸ªç‚¹å’Œç¬¬ä¸€ä¸ªç‚¹çš„åæ ‡å¿…é¡»ç›¸åŒï¼Œä»¥æ­¤è¡¨ç¤ºç¯çš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚å¦‚æœä¸€ä¸ªå¤šè¾¹å½¢ç”±å¤šä¸ªçº¿æ€§ç¯ç»„æˆï¼Œåˆ™ç¬¬ä¸€ä¸ªçº¿æ€§ç¯è¡¨ç¤ºå¤–ç¯ï¼ˆå¤–è¾¹ç•Œï¼‰ï¼Œæ¥ä¸‹æ¥çš„æ‰€æœ‰çº¿æ€§ç¯è¡¨ç¤ºå†…ç¯ï¼ˆå³å¤–ç¯ä¸­çš„æ´ï¼Œä¸è®¡åœ¨æ­¤å¤šè¾¹å½¢ä¸­çš„åŒºåŸŸï¼‰ã€‚å¦‚æœä¸€ä¸ªå¤šè¾¹å½¢åªæœ‰ä¸€ä¸ªçº¿æ€§ç¯ç»„æˆï¼Œåˆ™è¿™ä¸ªç¯å°±æ˜¯å¤–ç¯ã€‚</p><p>å¤šè¾¹å½¢æ„é€ è§„åˆ™ï¼š</p><ol><li>ç¬¬ä¸€ä¸ªçº¿æ€§ç¯å¿…é¡»æ˜¯å¤–ç¯</li><li>å¤–ç¯ä¸èƒ½è‡ªäº¤</li><li>æ‰€æœ‰å†…ç¯å¿…é¡»å®Œå…¨åœ¨å¤–ç¯å†…</li><li>å„ä¸ªå†…ç¯é—´ä¸èƒ½ç›¸äº¤æˆ–é‡å ï¼Œä¹Ÿä¸èƒ½æœ‰å…±åŒçš„è¾¹</li><li>å¤–ç¯åº”ä¸ºé€†æ—¶é’ˆï¼Œå†…ç¯åº”ä¸ºé¡ºæ—¶é’ˆ</li></ol><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.Polygon.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">lineStrings</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> JSONPolygon </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> GeoLineString</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">GeoPolygon</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>lineStrings</td><td>JSONPolygon or GeoLineString[]</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -27">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -27" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-11">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-11" title="Direct link to heading">â€‹</a></h6><p>å•ç¯å¤šè¾¹å½¢</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">Polygon</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">LineString</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Point</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Polygon</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function maybe-class-name" style="color:#d73a49">LineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-11">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-11" title="Direct link to heading">â€‹</a></h6><p>å«ä¸€ä¸ªå¤–ç¯å’Œä¸€ä¸ªå†…ç¯çš„å¤šè¾¹å½¢</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">Polygon</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">LineString</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Point</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Polygon</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// å¤–ç¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function maybe-class-name" style="color:#d73a49">LineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// å†…ç¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function maybe-class-name" style="color:#d73a49">LineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-3-1">ç¤ºä¾‹ 3<a class="hash-link" href="#ç¤ºä¾‹-3-1" title="Direct link to heading">â€‹</a></h6><p>é™¤äº†ä½¿ç”¨æ¥å£æ„é€ ä¸€ä¸ª Polygon å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç­‰ä»·çš„ GeoJSON çš„ å¤šè¾¹å½¢ (Polygon) çš„ JSON è¡¨ç¤ºï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Polygon&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;coordinates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¤–ç¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¯é€‰å†…ç¯ 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¯é€‰å†…ç¯ n</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Polygon&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      coordinates</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="multipoint">MultiPoint<a class="hash-link" href="#multipoint" title="Direct link to heading">â€‹</a></h4><p>æ„é€ ä¸€ä¸ªåœ°ç†ä½ç½®çš„ â€ç‚¹â€œ çš„é›†åˆã€‚ä¸€ä¸ªç‚¹é›†åˆç”±ä¸€ä¸ªæˆ–æ›´å¤šçš„ç‚¹ç»„æˆã€‚</p><p>å¦‚å­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯çš„å­—æ®µæœ‰è¢«æŸ¥è¯¢çš„éœ€æ±‚ï¼ŒåŠ¡å¿…å¯¹å­—æ®µå»ºç«‹åœ°ç†ä½ç½®ç´¢å¼•</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.MultiPoint.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">polygons</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> JSONMultiPolygon </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> GeoPolygon</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">GeoMultiPolygon</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>polygons</td><td>JSONMultiPolygon or GeoPolygon[]</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -28">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -28" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-12">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-12" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">MultiPoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// ... å¯é€‰æ›´å¤šç‚¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-12">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-12" title="Direct link to heading">â€‹</a></h6><p>é™¤äº†ä½¿ç”¨æ¥å£æ„é€  MultiPoint å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç­‰ä»·çš„ GeoJSON çš„ ç‚¹é›†åˆ (MultiPoint) çš„ JSON è¡¨ç¤ºï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;MultiPoint&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;coordinates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">p1_lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p1_lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">p2_lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p2_lng</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ... å¯é€‰æ›´å¤šç‚¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MultiPoint&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      coordinates</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">113</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">120</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="multilinestring">MultiLineString<a class="hash-link" href="#multilinestring" title="Direct link to heading">â€‹</a></h4><p>æ„é€ ä¸€ä¸ªåœ°ç†ä½ç½® â€çº¿â€œ é›†åˆã€‚ä¸€ä¸ªçº¿é›†åˆç”±å¤šæ¡çº¿ç»„æˆã€‚</p><p>å¦‚å­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯çš„å­—æ®µæœ‰è¢«æŸ¥è¯¢çš„éœ€æ±‚ï¼ŒåŠ¡å¿…å¯¹å­—æ®µå»ºç«‹åœ°ç†ä½ç½®ç´¢å¼•</p><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.MultiLineString.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">lineStrings</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> JSONMultiLineString </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> GeoLineString</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">GeoMultiLineString</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>lineStrings</td><td>JSONMultiLineString or GeoLineString[]</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -29">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -29" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-13">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-13" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">LineString</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">MultiLineString</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Point</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MultiLineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function maybe-class-name" style="color:#d73a49">LineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function maybe-class-name" style="color:#d73a49">LineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-13">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-13" title="Direct link to heading">â€‹</a></h6><p>é™¤äº†ä½¿ç”¨æ¥å£æ„é€ ä¸€ä¸ª MultiLineString å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç­‰ä»·çš„ GeoJSON çš„ çº¿é›†åˆ (MultiLineString) çš„ JSON è¡¨ç¤ºï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;MultiLineString&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;coordinates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MultiLineString&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      coordinates</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="multipolygon">MultiPolygon<a class="hash-link" href="#multipolygon" title="Direct link to heading">â€‹</a></h4><p>æ„é€ ä¸€ä¸ªåœ°ç†ä½ç½® â€å¤šè¾¹å½¢â€œ é›†åˆã€‚ä¸€ä¸ªå¤šè¾¹å½¢é›†åˆç”±å¤šä¸ªå¤šè¾¹å½¢ç»„æˆã€‚</p><p>å¦‚å­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯çš„å­—æ®µæœ‰è¢«æŸ¥è¯¢çš„éœ€æ±‚ï¼ŒåŠ¡å¿…å¯¹å­—æ®µå»ºç«‹åœ°ç†ä½ç½®ç´¢å¼•</p><p><strong>è¯´æ˜</strong></p><p>ä¸€ä¸ªå¤šè¾¹å½¢ç”±ä¸€ä¸ªæˆ–å¤šä¸ªçº¿æ€§ç¯ï¼ˆLinear Ringï¼‰ç»„æˆï¼Œä¸€ä¸ªçº¿æ€§ç¯å³ä¸€ä¸ªé—­åˆçš„çº¿æ®µã€‚ä¸€ä¸ªé—­åˆçº¿æ®µè‡³å°‘ç”±å››ä¸ªç‚¹ç»„æˆï¼Œå…¶ä¸­æœ€åä¸€ä¸ªç‚¹å’Œç¬¬ä¸€ä¸ªç‚¹çš„åæ ‡å¿…é¡»ç›¸åŒï¼Œä»¥æ­¤è¡¨ç¤ºç¯çš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚å¦‚æœä¸€ä¸ªå¤šè¾¹å½¢ç”±å¤šä¸ªçº¿æ€§ç¯ç»„æˆï¼Œåˆ™ç¬¬ä¸€ä¸ªçº¿æ€§ç¯è¡¨ç¤ºå¤–ç¯ï¼ˆå¤–è¾¹ç•Œï¼‰ï¼Œæ¥ä¸‹æ¥çš„æ‰€æœ‰çº¿æ€§ç¯è¡¨ç¤ºå†…ç¯ï¼ˆå³å¤–ç¯ä¸­çš„æ´ï¼Œä¸è®¡åœ¨æ­¤å¤šè¾¹å½¢ä¸­çš„åŒºåŸŸï¼‰ã€‚å¦‚æœä¸€ä¸ªå¤šè¾¹å½¢åªæœ‰ä¸€ä¸ªçº¿æ€§ç¯ç»„æˆï¼Œåˆ™è¿™ä¸ªç¯å°±æ˜¯å¤–ç¯ã€‚</p><p>å¤šè¾¹å½¢æ„é€ è§„åˆ™ï¼š</p><ol><li>ç¬¬ä¸€ä¸ªçº¿æ€§ç¯å¿…é¡»æ˜¯å¤–ç¯</li><li>å¤–ç¯ä¸èƒ½è‡ªäº¤</li><li>æ‰€æœ‰å†…ç¯å¿…é¡»å®Œå…¨åœ¨å¤–ç¯å†…</li><li>å„ä¸ªå†…ç¯é—´ä¸èƒ½ç›¸äº¤æˆ–é‡å ï¼Œä¹Ÿä¸èƒ½æœ‰å…±åŒçš„è¾¹</li><li>å¤–ç¯åº”ä¸ºé€†æ—¶é’ˆï¼Œå†…ç¯åº”ä¸ºé¡ºæ—¶é’ˆ</li></ol><p>æ”¯æŒæƒ…å†µï¼š<img title="å¾®ä¿¡å°ç¨‹åº" src="/taro/assets/images/weapp-0e8fbe2d5eb3676de4961b54ee7f5ba4.png" class="icon_platform" width="25px"> <img title="H5" src="/taro/assets/images/h5-81f73c447874b6528e84ee395bece16e.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="React Native" src="/taro/assets/images/rn-ecec68ba194e4b5e9fc3e853cc00c569.png" class="icon_platform icon_platform--not-support" width="25px"> <img title="Harmony" src="/taro/assets/images/harmony-736bf88652a8ed1b8d792107239a9004.png" class="icon_platform icon_platform--not-support" width="25px"></p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.MultiPolygon.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">polygons</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> JSONMultiPolygon </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> GeoPolygon</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">GeoMultiPolygon</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>polygons</td><td>JSONMultiPolygon or GeoPolygon[]</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹ä»£ç -30">ç¤ºä¾‹ä»£ç <a class="hash-link" href="#ç¤ºä¾‹ä»£ç -30" title="Direct link to heading">â€‹</a></h5><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-1-14">ç¤ºä¾‹ 1<a class="hash-link" href="#ç¤ºä¾‹-1-14" title="Direct link to heading">â€‹</a></h6><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">MultiPolygon</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Polygon</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">LineString</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Point</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Geo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MultiPolygon</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function maybe-class-name" style="color:#d73a49">Polygon</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:#d73a49">LineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function maybe-class-name" style="color:#d73a49">Polygon</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:#d73a49">LineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function maybe-class-name" style="color:#d73a49">LineString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h6 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹-2-14">ç¤ºä¾‹ 2<a class="hash-link" href="#ç¤ºä¾‹-2-14" title="Direct link to heading">â€‹</a></h6><p>é™¤äº†ä½¿ç”¨æ¥å£æ„é€ ä¸€ä¸ª MultiPolygon å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç­‰ä»·çš„ GeoJSON çš„ å¤šè¾¹å½¢ (MultiPolygon) çš„ JSON è¡¨ç¤ºï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx json"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;MultiPolygon&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;coordinates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// polygon 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// polygon n</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">lng</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">collection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;eat an apple&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;MultiPolygon&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      coordinates</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="geopoint">GeoPoint<a class="hash-link" href="#geopoint" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½® â€œç‚¹â€</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoPoint.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>longitude</td><td><code>number</code></td><td>ç»åº¦</td></tr><tr><td>latitude</td><td><code>number</code></td><td>çº¬åº¦</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="tojson">toJSON<a class="hash-link" href="#tojson" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸º JSON ç»“æ„</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> object</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="tostring">toString<a class="hash-link" href="#tostring" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">string</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="geolinestring">GeoLineString<a class="hash-link" href="#geolinestring" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½®çš„ â€çº¿â€œã€‚ä¸€ä¸ªçº¿ç”±ä¸¤ä¸ªæˆ–æ›´å¤šçš„ç‚¹æœ‰åºè¿æ¥ç»„æˆã€‚</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoLineString.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>points</td><td><code>GeoPoint[]</code></td><td>ç‚¹é›†åˆ</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="tojson-1">toJSON<a class="hash-link" href="#tojson-1" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸º JSON ç»“æ„</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">JSONLineString</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="tostring-1">toString<a class="hash-link" href="#tostring-1" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">string</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="geopolygon">GeoPolygon<a class="hash-link" href="#geopolygon" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½® â€å¤šè¾¹å½¢â€œ</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoPolygon.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>lines</td><td><code>GeoLineString[]</code></td><td>çº¿é›†åˆ</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="tojson-2">toJSON<a class="hash-link" href="#tojson-2" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸º JSON ç»“æ„</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">JSONPolygon</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="tostring-2">toString<a class="hash-link" href="#tostring-2" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">string</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="geomultipoint">GeoMultiPoint<a class="hash-link" href="#geomultipoint" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½®çš„ â€ç‚¹â€œ çš„é›†åˆã€‚ä¸€ä¸ªç‚¹é›†åˆç”±ä¸€ä¸ªæˆ–æ›´å¤šçš„ç‚¹ç»„æˆã€‚</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoMultiPoint.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>points</td><td><code>GeoPoint[]</code></td><td>ç‚¹é›†åˆ</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="tojson-3">toJSON<a class="hash-link" href="#tojson-3" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸º JSON ç»“æ„</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">JSONMultiPoint</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="tostring-3">toString<a class="hash-link" href="#tostring-3" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">string</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="geomultilinestring">GeoMultiLineString<a class="hash-link" href="#geomultilinestring" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½® â€çº¿â€œ é›†åˆã€‚ä¸€ä¸ªçº¿é›†åˆç”±å¤šæ¡çº¿ç»„æˆã€‚</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoMultiLineString.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>lines</td><td><code>GeoLineString[]</code></td><td>çº¿é›†åˆ</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="tojson-4">toJSON<a class="hash-link" href="#tojson-4" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸º JSON ç»“æ„</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">JSONMultiLineString</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="tostring-4">toString<a class="hash-link" href="#tostring-4" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">string</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="geomultipolygon">GeoMultiPolygon<a class="hash-link" href="#geomultipolygon" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½® â€å¤šè¾¹å½¢â€œ é›†åˆã€‚ä¸€ä¸ªå¤šè¾¹å½¢é›†åˆç”±å¤šä¸ªå¤šè¾¹å½¢ç»„æˆã€‚</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoMultiPolygon.html" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></p></blockquote><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>polygons</td><td><code>GeoPolygon[]</code></td><td>å¤šè¾¹å½¢é›†åˆ</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="tojson-5">toJSON<a class="hash-link" href="#tojson-5" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸º JSON ç»“æ„</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token maybe-class-name">JSONMultiPolygon</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="tostring-5">toString<a class="hash-link" href="#tostring-5" title="Direct link to heading">â€‹</a></h5><p>æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²</p><div class="codeBlockContainer_I0IT language-tsx theme-code-block"><div class="codeBlockContent_wNvx tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">string</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="jsonpoint">JSONPoint<a class="hash-link" href="#jsonpoint" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½® â€œç‚¹â€ çš„ JSON ç»“æ„</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;Point&quot;</code></td><td>ç±»å‹</td></tr><tr><td>coordinates</td><td><code>[number, number]</code></td><td>åæ ‡</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="jsonlinestring">JSONLineString<a class="hash-link" href="#jsonlinestring" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½® â€çº¿â€œ çš„ JSON ç»“æ„</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;LineString&quot;</code></td><td>ç±»å‹</td></tr><tr><td>coordinates</td><td><code>[number, number][]</code></td><td>åæ ‡</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="jsonpolygon">JSONPolygon<a class="hash-link" href="#jsonpolygon" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½® â€å¤šè¾¹å½¢â€œ çš„ JSON ç»“æ„</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;Polygon&quot;</code></td><td>ç±»å‹</td></tr><tr><td>coordinates</td><td><code>[number, number][][]</code></td><td>åæ ‡</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="jsonmultipoint">JSONMultiPoint<a class="hash-link" href="#jsonmultipoint" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½®çš„ â€ç‚¹â€œ é›†åˆçš„ JSON ç»“æ„</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;MultiPoint&quot;</code></td><td>ç±»å‹</td></tr><tr><td>coordinates</td><td><code>[number, number][]</code></td><td>åæ ‡</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="jsonmultilinestring">JSONMultiLineString<a class="hash-link" href="#jsonmultilinestring" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½® â€çº¿â€œ é›†åˆçš„ JSON ç»“æ„</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;MultiLineString&quot;</code></td><td>ç±»å‹</td></tr><tr><td>coordinates</td><td><code>[number, number][][]</code></td><td>åæ ‡</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_mojV" id="jsonmultipolygon">JSONMultiPolygon<a class="hash-link" href="#jsonmultipolygon" title="Direct link to heading">â€‹</a></h4><p>åœ°ç†ä½ç½® â€å¤šè¾¹å½¢â€œ é›†åˆçš„ JSON ç»“æ„</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;MultiPolygon&quot;</code></td><td>ç±»å‹</td></tr><tr><td>coordinates</td><td><code>[number, number][][][]</code></td><td>åæ ‡</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nervjs/taro/edit/docs/docs/apis/cloud/DB.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/taro/docs/next/apis/cloud/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cloud</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/taro/docs/next/apis/alipay/getOpenUserInfo"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">getOpenUserInfo</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å‚æ•°" class="table-of-contents__link toc-highlight">å‚æ•°</a><ul><li><a href="#database" class="table-of-contents__link toc-highlight">Database</a></li><li><a href="#collection-1" class="table-of-contents__link toc-highlight">Collection</a></li><li><a href="#document" class="table-of-contents__link toc-highlight">Document</a></li><li><a href="#query" class="table-of-contents__link toc-highlight">Query</a></li><li><a href="#command" class="table-of-contents__link toc-highlight">Command</a></li><li><a href="#aggregate-1" class="table-of-contents__link toc-highlight">Aggregate</a></li><li><a href="#igeo" class="table-of-contents__link toc-highlight">IGeo</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer" id="footer"><div class="grid_c1 footer_cont"><div class="footer_logo_container"><div class="footer_logo"></div><span class="footer_designedby"></span></div><div class="footer_link_container"><div class="footer_link"><h3 class="footer_link_tit footer_link_tit1">ç›¸å…³èµ„æº</h3><p><a class="link" href="https://taro.jd.com/" target="_blank">Taro</a></p><p><a class="link" href="https://taro-ui.jd.com/" target="_blank">Taro UI</a></p><p><a class="link" href="https://at-ui.github.io/at-ui/#/zh" target="_blank">At-UI</a></p><p><a class="link" href="https://nerv.aotu.io/" target="_blank">Nerv</a></p><p><a class="link" href="https://athena.aotu.io/" target="_blank">Athena</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit2">ç¤¾åŒº</h3><p><a href="https://github.com/NervJS/taro/issues" target="_blank">GitHub</a></p><p><a href="https://taro-club.jd.com" target="_blank">Taro BBS</a></p><p class="footer_link_connect_wrap"><span class="footer_link_connect footer_link_wechat">å¾®ä¿¡<span class="wechat_qrcode_icon"><svg t="1554966525626" class="icon svgicon" viewBox="0 0 1024 1024" version="1.1" xmlns="https://www.w3.org/2000/svg" p-id="2588" data-spm-anchor-id="a313x.7781069.0.i0"><path d="M240.071 241.095h59.278v59.278h-59.278v-59.278z" fill="" p-id="2589"></path><path d="M405.959 134.485h-272.611v272.611h106.723v47.445h59.278v-47.445h106.723v-59.278h47.445v-47.445h-47.445l-0.114-165.888zM346.795 347.819h-154.169v-154.055h154.055v154.055h0.114zM240.071 727.154h59.278v59.278h-59.278v-59.278zM726.016 241.095h59.278v59.278h-59.278v-59.278zM512.683 509.042v63.943h59.278v-59.165h47.445v-59.278h-47.445v-47.445h-59.278v101.945zM512.683 725.789v60.643h59.278v-106.723h47.445v-59.278h-106.723v105.358zM571.961 786.432h47.445v47.445h-47.445v-47.445zM453.405 833.877v59.165h118.557v-59.165h-118.557z" fill="" p-id="2590"></path><path d="M678.685 679.709h-59.278v106.723h106.61v-59.278h-47.331v-47.445zM726.016 893.042h166.002v-59.165h-106.723v-47.445h-59.278v106.61zM892.018 513.821v-59.278h-106.723v59.278h106.723zM832.739 727.154h59.278v59.278h-59.278v-59.278zM453.405 347.819h59.278v59.278h-59.278v-59.278zM726.016 454.542v-47.445h166.002v-272.611h-272.611v59.278h-106.723v47.445h106.723v59.165h-47.445v47.445h47.445v59.278h59.278v47.445h47.331zM678.685 193.763h154.055v154.055h-154.055v-154.055zM678.685 572.985h47.331v47.445h-47.331v-47.445zM785.294 679.709h-59.278v47.445h106.723v-106.723h59.278v-47.445h-106.723v106.723zM453.405 241.095h59.278v59.278h-59.278v-59.278zM299.349 513.821h47.445v59.165h-47.445v-59.165zM453.405 454.542h-106.61v59.278h59.165v59.165h47.445v-118.443z" fill="" p-id="2591"></path><path d="M405.959 786.432v-106.723h47.445v-59.278h-213.333v-106.61h-106.723v59.278h59.278v47.445h-59.278v272.611h272.611v-59.278h47.445v-47.445h-47.445zM346.795 833.877h-154.169v-154.169h154.055v154.169h0.114zM453.405 572.985h59.278v47.445h-59.278v-47.445zM619.406 513.821h59.278v59.165h-59.278v-59.165zM726.016 513.821h59.278v59.165h-59.278v-59.165z" fill="" p-id="2592"></path></svg></span></span><span class="footer_link_wechat_img"><img src="https://camo.githubusercontent.com/10834a234b99a5880b5dff7c0ca7235e2a0772e7/687474703a2f2f696d6732302e333630627579696d672e636f6d2f7562612f6a66732f7432303139372f3238332f313638373136383837342f3133363034322f32623464383131662f35623330613635634e39643166303366312e706e67"></span></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit3">å…³äºæˆ‘ä»¬</h3><p><a href="https://aotu.io/" target="_blank">å‡¹å‡¸å®éªŒå®¤</a></p><p><a href="https://aotu.io/join/" target="_blank">åŠ å…¥æˆ‘ä»¬</a></p><p><a href="mailto:taro@jd.com?subject=ã€Taro åˆä½œã€‘åˆä½œæ ‡é¢˜">è”ç³»æˆ‘ä»¬</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit4">æ„Ÿè°¢</h3><p><a href="https://jdc.jd.com/" target="_blank">ç”¨æˆ·ä½“éªŒè®¾è®¡éƒ¨</a></p><p><a href="https://github.com/nervjs/taro#%E8%B4%A1%E7%8C%AE%E8%80%85%E4%BB%AC" target="_blank">Taro è´¡çŒ®è€…ä»¬</a></p></div></div></div><div class="copyright"><div class="in">Copyright Â© <!-- -->2022<!-- -->. All Rights Reserved. ç²¤ICPå¤‡15077732å·-2</div></div></footer></div>
<script src="/taro/assets/js/runtime~main.379d424f.js"></script>
<script src="/taro/assets/js/main.1d9bc12a.js"></script>
</body>
</html>