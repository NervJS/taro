<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>React Native ç«¯å¼€å‘æµç¨‹ Â· Taro</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&gt; æœ¬ç¯‡ä¸»è¦è®²è§£ Taro React Native ç«¯ ç¯å¢ƒå®‰è£…-å¼€å‘-è°ƒè¯•-æ‰“åŒ…-å‘å¸ƒ åŸç†åŠæµç¨‹ï¼ŒReact Native å¼€å‘å‰æ³¨æ„äº‹é¡¹è¯·çœ‹ [å¼€å‘å‰æ³¨æ„](./before-dev-remind.html)"/><meta name="docsearch:version" content="1.3.24"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="React Native ç«¯å¼€å‘æµç¨‹ Â· Taro"/><meta property="og:type" content="website"/><meta property="og:url" content="https://taro.jd.com/taro/index.html"/><meta property="og:description" content="&gt; æœ¬ç¯‡ä¸»è¦è®²è§£ Taro React Native ç«¯ ç¯å¢ƒå®‰è£…-å¼€å‘-è°ƒè¯•-æ‰“åŒ…-å‘å¸ƒ åŸç†åŠæµç¨‹ï¼ŒReact Native å¼€å‘å‰æ³¨æ„äº‹é¡¹è¯·çœ‹ [å¼€å‘å‰æ³¨æ„](./before-dev-remind.html)"/><meta property="og:image" content="https://taro.jd.com/taro/img/logo-taro.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://taro.jd.com/taro/img/logo-taro.png"/><link rel="shortcut icon" href="/taro/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="https://storage.jd.com/taro-resource/vs.min.css"/><link rel="alternate" type="application/atom+xml" href="https://taro.jd.com/taro/blog/atom.xml" title="Taro Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://taro.jd.com/taro/blog/feed.xml" title="Taro Blog RSS Feed"/><script type="text/javascript" src="https://storage.jd.com/taro-docs/buttons.js"></script><script type="text/javascript" src="https://storage.jd.com/taro-resource/tongji.js" async=""></script><script type="text/javascript" src="https://storage.jd.com/taro-docs/taro-doc-hotjar.js" async=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/taro/js/scrollSpy.js"></script><link rel="stylesheet" href="/taro/css/prism.css"/><link rel="stylesheet" href="/taro/css/main.css"/><script src="/taro/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/taro/"><img class="logo" src="/taro/img/logo-taro.png" alt="Taro"/><h2 class="headerTitleWithLogo">Taro</h2></a><a href="/taro/versions.html"><h3>1.3.24</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/taro/docs/1.3.24/README.html" target="_self">æ–‡æ¡£</a></li><li class=""><a href="/taro/docs/1.3.24/components-desc.html" target="_self">ç»„ä»¶åº“</a></li><li class=""><a href="/taro/docs/1.3.24/apis/about/desc.html" target="_self">API</a></li><li class=""><a href="/taro/blog/" target="_self">Blog</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://taro-ui.jd.com" target="_self">Taro-UI</a></li><li class=""><a href="https://taro-ext.jd.com" target="_self">ç‰©æ–™å¸‚åœº</a></li><li class=""><a href="https://taro-club.jd.com" target="_self">è®ºå›</a></li><li class=""><a href="https://taro.jd.com/jdmp/index.html" target="_self">äº¬ä¸œå°ç¨‹åº</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>â€º</i><span>å¤šç«¯å¼€å‘</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">å…³äºTaro<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/README.html">Taro ä»‹ç»</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/taroize.html">å¾®ä¿¡å°ç¨‹åºè½¬ Taro</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/team.html">Taro å›¢é˜Ÿ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">å¿«é€Ÿå¼€å§‹<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/GETTING-STARTED.html">å®‰è£…åŠä½¿ç”¨</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/composition.html">æ›´å¤šèµ„æº</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/before-dev-remind.html">å„ç«¯å¼€å‘å‰æ³¨æ„</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/specials.html">ç‰¹æ®Šé—®é¢˜çš„å¤„ç†</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">åŸºç¡€æ•™ç¨‹<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/spec-for-taro.html">Taro è§„èŒƒ</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/tutorial.html">æ¡†æ¶</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/project-config.html">é¡¹ç›®é…ç½®</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/best-practice.html">æœ€ä½³å®è·µ</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/router.html">è·¯ç”±åŠŸèƒ½</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/size.html">è®¾è®¡ç¨¿åŠå°ºå¯¸å•ä½</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/static-reference.html">é™æ€èµ„æºå¼•ç”¨</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/component-style.html">ç»„ä»¶çš„å¤–éƒ¨æ ·å¼å’Œå…¨å±€æ ·å¼</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">è¯­æ³•ç‰¹æ€§</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/jsx.html">JSX ç®€ä»‹</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/props.html">ç»„ä»¶åŒ– &amp; Props</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/state.html">ç”Ÿå‘½å‘¨æœŸ &amp; State</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/event.html">äº‹ä»¶å¤„ç†</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/condition.html">æ¡ä»¶æ¸²æŸ“</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/list.html">åˆ—è¡¨æ¸²æŸ“</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/functional-component.html">å‡½æ•°å¼ç»„ä»¶</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/context.html">Context</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/children.html">Children ä¸ç»„åˆ</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/render-props.html">Render Props</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/ref.html">Refs å¼•ç”¨</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">å¤šç«¯å¼€å‘</h4><ul><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/envs.html">è·¨å¹³å°å¼€å‘</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/envs-debug.html">å¤šç«¯åŒæ­¥è°ƒè¯•</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/relations.html">å°ç¨‹åºåŸç”Ÿä½œç”¨åŸŸè·å–</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/wxcloud.html">å°ç¨‹åºäº‘å¼€å‘æ¨¡æ¿</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/miniprogram-plugin.html">å°ç¨‹åºæ’ä»¶å¼€å‘</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/quick-app.html">å¿«åº”ç”¨ç«¯å¼€å‘æµç¨‹</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/taro/docs/1.3.24/react-native.html">React Native ç«¯å¼€å‘æµç¨‹</a></li></ul></div><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/debug.html">Debug æŒ‡å—</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">è¿›é˜¶æŒ‡å—<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/config.html">ç¼–è¯‘é…ç½®</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/config-detail.html">ç¼–è¯‘é…ç½®è¯¦æƒ…</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/hooks.html">Hooks</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/ui-lib.html">åŸºäº Taro å¼€å‘ç¬¬ä¸‰æ–¹å¤šç«¯ UI åº“</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/async-await.html">å¼‚æ­¥ç¼–ç¨‹</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/mini-third-party.html">ä½¿ç”¨å°ç¨‹åºåŸç”Ÿç¬¬ä¸‰æ–¹ç»„ä»¶å’Œæ’ä»¶</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/hybrid.html">Taro ä»£ç ä¸å°ç¨‹åºä»£ç æ··å†™</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/optimized-practice.html">æ€§èƒ½ä¼˜åŒ–å®è·µ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ç¤¾åŒºç”Ÿæ€<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/redux.html">ä½¿ç”¨ Redux</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/mobx.html">ä½¿ç”¨ MobX</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/css-modules.html">CSS Modules çš„ä½¿ç”¨</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/template.html">é¡¹ç›®æ¨¡æ¿</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/report.html">æ¥å…¥ç»Ÿè®¡å¹³å°</a></li><li class="navListItem"><a class="navItem" href="/taro/docs/1.3.24/join-in.html">åŠ å…¥ç¤¾åŒºå…±å»º</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/nervjs/taro/edit/master/docs/react-native.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">React Native ç«¯å¼€å‘æµç¨‹</h1></header><article><div><span><blockquote>
<p>æœ¬ç¯‡ä¸»è¦è®²è§£ Taro React Native ç«¯ ç¯å¢ƒå®‰è£…-å¼€å‘-è°ƒè¯•-æ‰“åŒ…-å‘å¸ƒ åŸç†åŠæµç¨‹ï¼ŒReact Native å¼€å‘å‰æ³¨æ„äº‹é¡¹è¯·çœ‹ <a href="./before-dev-remind.html">å¼€å‘å‰æ³¨æ„</a></p>
<p>é€‚é… RN ç«¯å¯å‚è€ƒé¡¹ç›®ï¼š<a href="https://github.com/js-newbee/taro-yanxuan">é¦–ä¸ª Taro å¤šç«¯ç»Ÿä¸€å®ä¾‹ - ç½‘æ˜“ä¸¥é€‰ï¼ˆå°ç¨‹åº + H5 + React Nativeï¼‰ - By è¶£åº— FED</a></p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="ç®€ä»‹"></a><a href="#ç®€ä»‹" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ç®€ä»‹</h2>
<p>Taro ç§»åŠ¨ç«¯çš„å¼€å‘åŸºäº Facebook çš„å¼€æºé¡¹ç›® <a href="https://github.com/facebook/react-native">React Native</a>ï¼Œç›®å‰æ˜¯é¡¹ç›®ä¾èµ–ä¸­å›ºå®š React Native ç‰ˆæœ¬ä¸º <code>0.55.4</code>ã€‚</p>
<p>æ•´ä¸ª RN ç«¯çš„æ¶æ„å¦‚ä¸‹ï¼š</p>
<p><img src="http://assets.processon.com/chart_image/5c988481e4b01e76978bd6ab.png" alt="image"></p>
<h2><a class="anchor" aria-hidden="true" id="æ­å»º-ios-å¼€å‘ç¯å¢ƒ"></a><a href="#æ­å»º-ios-å¼€å‘ç¯å¢ƒ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ­å»º iOS å¼€å‘ç¯å¢ƒ</h2>
<p>å¿…é¡»å®‰è£…çš„ä¾èµ–æœ‰ï¼šNodeã€Watchman å’Œ React Native å‘½ä»¤è¡Œå·¥å…·ä»¥åŠ Xcodeã€‚</p>
<p>è™½ç„¶ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ç¼–è¾‘å™¨æ¥å¼€å‘åº”ç”¨ï¼ˆç¼–å†™ js ä»£ç ï¼‰ï¼Œä½†ä½ ä»ç„¶å¿…é¡»å®‰è£… Xcode æ¥è·å¾—ç¼–è¯‘ iOS åº”ç”¨æ‰€éœ€çš„å·¥å…·å’Œç¯å¢ƒã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="node-watchman"></a><a href="#node-watchman" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Node, Watchman</h3>
<p>æˆ‘ä»¬æ¨èä½¿ç”¨ <a href="http://brew.sh/">Homebrew</a> æ¥å®‰è£… Node å’Œ Watchmanã€‚åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œä¸‹åˆ—å‘½ä»¤å®‰è£…ï¼š</p>
<pre><code class="hljs css language-sh">brew install node
brew install watchman
</code></pre>
<p>å¦‚æœä½ å·²ç»å®‰è£…äº† Nodeï¼Œè¯·æ£€æŸ¥å…¶ç‰ˆæœ¬æ˜¯å¦åœ¨ v8.3 ä»¥ä¸Šã€‚å®‰è£…å®Œ Node åå»ºè®®è®¾ç½® npm é•œåƒä»¥åŠ é€Ÿåé¢çš„è¿‡ç¨‹ï¼ˆæˆ–ä½¿ç”¨ç§‘å­¦ä¸Šç½‘å·¥å…·ï¼‰ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šä¸è¦ä½¿ç”¨ cnpmï¼cnpm å®‰è£…çš„æ¨¡å—è·¯å¾„æ¯”è¾ƒå¥‡æ€ªï¼Œpackager ä¸èƒ½æ­£å¸¸è¯†åˆ«ï¼</p>
</blockquote>
<p>è®¾ç½® npm é•œåƒï¼š</p>
<pre><code class="hljs">npm config <span class="token keyword">set</span> registry https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org <span class="token operator">--</span>global
npm config <span class="token keyword">set</span> disturl https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>dist <span class="token operator">--</span>global
</code></pre>
<p>æˆ–è€…ä½¿ç”¨ <a href="https://github.com/Pana/nrm">nrm</a>ï¼š</p>
<pre><code class="hljs css language-sh">$ nrm ls

* npm -----  https://registry.npmjs.org/
  cnpm ----  http://r.cnpmjs.org/
  taobao --  https://registry.npm.taobao.org/
  nj ------  https://registry.nodejitsu.com/
  skimdb -- https://skimdb.npmjs.com/registry

</code></pre>
<pre><code class="hljs css language-sh">$ nrm use cnpm  //switch registry to cnpm

    Registry has been <span class="hljs-built_in">set</span> to: http://r.cnpmjs.org/
</code></pre>
<p><a href="https://facebook.github.io/watchman">Watchman</a> åˆ™æ˜¯ç”± Facebook æä¾›çš„ç›‘è§†æ–‡ä»¶ç³»ç»Ÿå˜æ›´çš„å·¥å…·ã€‚å®‰è£…æ­¤å·¥å…·å¯ä»¥æé«˜å¼€å‘æ—¶çš„æ€§èƒ½ï¼ˆpackager å¯ä»¥å¿«é€Ÿæ•æ‰æ–‡ä»¶çš„å˜åŒ–ä»è€Œå®ç°å®æ—¶åˆ·æ–°ï¼‰ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="yarn-react-native-çš„å‘½ä»¤è¡Œå·¥å…·-react-native-cli"></a><a href="#yarn-react-native-çš„å‘½ä»¤è¡Œå·¥å…·-react-native-cli" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Yarnã€React Native çš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆreact-native-cliï¼‰</h3>
<p>Yarn æ˜¯ Facebook æä¾›çš„æ›¿ä»£ npm çš„å·¥å…·ï¼Œå¯ä»¥åŠ é€Ÿ node æ¨¡å—çš„ä¸‹è½½ã€‚React Native çš„å‘½ä»¤è¡Œå·¥å…·ç”¨äºæ‰§è¡Œåˆ›å»ºã€åˆå§‹åŒ–ã€æ›´æ–°é¡¹ç›®ã€è¿è¡Œæ‰“åŒ…æœåŠ¡ï¼ˆpackagerï¼‰ç­‰ä»»åŠ¡ã€‚</p>
<pre><code class="hljs css language-sh">npm install -g yarn react-native-cli
</code></pre>
<p>å®‰è£…å®Œ yarn ååŒç†ä¹Ÿè¦è®¾ç½®é•œåƒæºï¼š</p>
<pre><code class="hljs css language-sh">yarn config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org --global
yarn config <span class="hljs-built_in">set</span> disturl https://npm.taobao.org/dist --global
</code></pre>
<p>å®‰è£…å®Œ yarn ä¹‹åå°±å¯ä»¥ç”¨ yarn ä»£æ›¿ npm äº†ï¼Œä¾‹å¦‚ç”¨ yarn ä»£æ›¿ npm install å‘½ä»¤ï¼Œç”¨ yarn add æŸç¬¬ä¸‰æ–¹åº“åä»£æ›¿ npm install æŸç¬¬ä¸‰æ–¹åº“åã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="xcode"></a><a href="#xcode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Xcode</h3>
<p>React Native ç›®å‰éœ€è¦ <a href="https://developer.apple.com/xcode/downloads/">Xcode</a> 9.4 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚ä½ å¯ä»¥é€šè¿‡ App Store æˆ–æ˜¯åˆ° <a href="https://developer.apple.com/xcode/downloads/">Apple å¼€å‘è€…å®˜ç½‘</a> ä¸Šä¸‹è½½ã€‚è¿™ä¸€æ­¥éª¤ä¼šåŒæ—¶å®‰è£… Xcode IDEã€Xcode çš„å‘½ä»¤è¡Œå·¥å…·å’Œ iOS æ¨¡æ‹Ÿå™¨ã€‚</p>
<p>Xcode çš„å‘½ä»¤è¡Œå·¥å…·</p>
<p>å¯åŠ¨ Xcodeï¼Œå¹¶åœ¨ <code>Xcode | Preferences | Locations</code> èœå•ä¸­æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦è£…æœ‰æŸä¸ªç‰ˆæœ¬çš„ <code>Command Line Tools</code>ã€‚Xcode çš„å‘½ä»¤è¡Œå·¥å…·ä¸­åŒ…å«ä¸€äº›å¿…é¡»çš„å·¥å…·ï¼Œæ¯”å¦‚ <code>git</code> ç­‰ã€‚</p>
<p><img src="https://reactnative.cn/docs/assets/GettingStartedXcodeCommandLineTools.png" alt="image"></p>
<h2><a class="anchor" aria-hidden="true" id="æ­å»º-android-å¼€å‘ç¯å¢ƒ"></a><a href="#æ­å»º-android-å¼€å‘ç¯å¢ƒ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ­å»º Android å¼€å‘ç¯å¢ƒ</h2>
<h3><a class="anchor" aria-hidden="true" id="å®‰è£…ä¾èµ–"></a><a href="#å®‰è£…ä¾èµ–" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å®‰è£…ä¾èµ–</h3>
<p>å¿…é¡»å®‰è£…çš„ä¾èµ–æœ‰ï¼šNodeã€Watchman å’Œ React Native å‘½ä»¤è¡Œå·¥å…·ä»¥åŠ JDK å’Œ Android Studioã€‚</p>
<p>è™½ç„¶ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ç¼–è¾‘å™¨æ¥å¼€å‘åº”ç”¨ï¼ˆç¼–å†™ js ä»£ç ï¼‰ï¼Œä½†ä½ ä»ç„¶å¿…é¡»å®‰è£… Android Studio æ¥è·å¾—ç¼–è¯‘ Android åº”ç”¨æ‰€éœ€çš„å·¥å…·å’Œç¯å¢ƒã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="java-development-kit"></a><a href="#java-development-kit" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Java Development Kit</h3>
<p>React Native éœ€è¦ Java Development Kit [JDK] 1.8ï¼ˆæš‚ä¸æ”¯æŒ 1.9 åŠæ›´é«˜ç‰ˆæœ¬ï¼‰ã€‚ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥</p>
<blockquote>
<p>javac -versionæ¥æŸ¥çœ‹ä½ å½“å‰å®‰è£…çš„ JDK ç‰ˆæœ¬ã€‚å¦‚æœç‰ˆæœ¬ä¸åˆè¦æ±‚ï¼Œåˆ™å¯ä»¥åˆ° å®˜ç½‘ä¸Šä¸‹è½½ã€‚</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="android-å¼€å‘ç¯å¢ƒ"></a><a href="#android-å¼€å‘ç¯å¢ƒ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Android å¼€å‘ç¯å¢ƒ</h3>
<p>å¦‚æœä½ ä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡ Android çš„å¼€å‘ç¯å¢ƒï¼Œé‚£ä¹ˆè¯·åšå¥½å¿ƒç†å‡†å¤‡ï¼Œè¿™ä¸€è¿‡ç¨‹ç›¸å½“ç¹çã€‚è¯· <code>ä¸‡åˆ†ä»”ç»†</code>åœ°é˜…è¯»ä¸‹é¢çš„è¯´æ˜ï¼Œä¸¥æ ¼å¯¹ç…§æ–‡æ¡£è¿›è¡Œé…ç½®æ“ä½œã€‚</p>
<blockquote>
<p>æ³¨ï¼šè¯·æ³¨æ„ï¼ï¼ï¼å›½å†…ç”¨æˆ·å¿…é¡»å¿…é¡»å¿…é¡»æœ‰ç¨³å®šçš„ç¿»å¢™å·¥å…·ï¼Œå¦åˆ™åœ¨ä¸‹è½½ã€å®‰è£…ã€é…ç½®è¿‡ç¨‹ä¸­ä¼šä¸æ–­é­é‡é“¾æ¥è¶…æ—¶æˆ–æ–­å¼€ï¼Œæ— æ³•è¿›è¡Œå¼€å‘å·¥ä½œã€‚æŸäº›ç¿»å¢™å·¥å…·å¯èƒ½åªæä¾›æµè§ˆå™¨çš„ä»£ç†åŠŸèƒ½ï¼Œæˆ–åªé’ˆå¯¹ç‰¹å®šç½‘ç«™ä»£ç†ç­‰ç­‰ï¼Œè¯·è‡ªè¡Œç ”ç©¶é…ç½®æˆ–æ›´æ¢å…¶ä»–è½¯ä»¶ã€‚æ€»ä¹‹å¦‚æœæŠ¥é”™ä¸­å‡ºç°æœ‰ç½‘å€ï¼Œé‚£ä¹ˆ 99% å°±æ˜¯æ— æ³•æ­£å¸¸ç¿»å¢™ã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚æœæ˜¯ socks5 ä»£ç† ï¼Œå¦‚ä¸‹è¿™æ ·è®¾ç½®å…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨</p>
</blockquote>
<pre><code class="hljs">#systemProp<span class="token punctuation">.</span>socks<span class="token punctuation">.</span>proxyHost<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
#systemProp<span class="token punctuation">.</span>socks<span class="token punctuation">.</span>proxyPort<span class="token operator">=</span><span class="token number">8016</span>

#systemProp<span class="token punctuation">.</span>https<span class="token punctuation">.</span>proxyHost<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
#systemProp<span class="token punctuation">.</span>https<span class="token punctuation">.</span>proxyPort<span class="token operator">=</span><span class="token number">8016</span>

#systemProp<span class="token punctuation">.</span>https<span class="token punctuation">.</span>proxyHost<span class="token operator">=</span>socks5<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
#systemProp<span class="token punctuation">.</span>https<span class="token punctuation">.</span>proxyPort<span class="token operator">=</span><span class="token number">8016</span>
</code></pre>
<blockquote>
<p>æ­£ç¡®è®¾ç½®æ–¹æ³•åº”è¯¥æ˜¯è¿™æ ·ï¼š
org.gradle.jvmargs=-DsocksProxyHost=127.0.0.1 -DsocksProxyPort=8016</p>
</blockquote>
<blockquote>
<p>ä¿®æ”¹ $HOME/.gradle/gradle.properties æ–‡ä»¶,åŠ å…¥ä¸Šé¢é‚£å¥ï¼Œè¿™æ ·å°±å¯ä»¥å…¨å±€å¼€å¯ gradle ä»£ç†</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="1-å®‰è£…-android-studio"></a><a href="#1-å®‰è£…-android-studio" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. å®‰è£… Android Studio</h4>
<p><a href="https://developer.android.com/studio/index.html">é¦–å…ˆä¸‹è½½å’Œå®‰è£… Android Studio</a>ï¼Œå›½å†…ç”¨æˆ·å¯èƒ½æ— æ³•æ‰“å¼€å®˜æ–¹é“¾æ¥ï¼Œè¯·è‡ªè¡Œä½¿ç”¨æœç´¢å¼•æ“æœç´¢å¯ç”¨çš„ä¸‹è½½é“¾æ¥ã€‚å®‰è£…ç•Œé¢ä¸­é€‰æ‹©&quot;Custom&quot;é€‰é¡¹ï¼Œç¡®ä¿é€‰ä¸­äº†ä»¥ä¸‹å‡ é¡¹ï¼š</p>
<ul>
<li>Android SDK</li>
<li>Android SDK Platform</li>
<li>Performance (Intel Â® HAXM) (<a href="https://android-developers.googleblog.com/2018/07/android-emulator-amd-processor-hyper-v.html">AMD å¤„ç†å™¨çœ‹è¿™é‡Œ</a>)</li>
<li>Android Virtual Device</li>
</ul>
<p>ç„¶åç‚¹å‡»&quot;Next&quot;æ¥å®‰è£…é€‰ä¸­çš„ç»„ä»¶ã€‚</p>
<blockquote>
<p>å¦‚æœé€‰æ‹©æ¡†æ˜¯ç°çš„ï¼Œä½ ä¹Ÿå¯ä»¥å…ˆè·³è¿‡ï¼Œç¨åå†æ¥å®‰è£…è¿™äº›ç»„ä»¶ã€‚</p>
</blockquote>
<p>å®‰è£…å®Œæˆåï¼Œçœ‹åˆ°æ¬¢è¿ç•Œé¢æ—¶ï¼Œå°±å¯ä»¥è¿›è¡Œä¸‹é¢çš„æ“ä½œäº†ã€‚</p>
<h4><a class="anchor" aria-hidden="true" id="2-å®‰è£…-android-sdk"></a><a href="#2-å®‰è£…-android-sdk" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. å®‰è£… Android SDK</h4>
<p>Android Studio é»˜è®¤ä¼šå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Android SDKã€‚ç›®å‰ç¼–è¯‘ React Native åº”ç”¨éœ€è¦çš„æ˜¯ <code>Android 6.0 (Marshmallow)</code> ç‰ˆæœ¬çš„ SDKï¼ˆæ³¨æ„ SDK ç‰ˆæœ¬ä¸ç­‰äºç»ˆç«¯ç³»ç»Ÿç‰ˆæœ¬ï¼ŒRN ç›®å‰æ”¯æŒ android 4.1 ä»¥ä¸Šè®¾å¤‡ï¼‰ã€‚ä½ å¯ä»¥åœ¨ Android Studio çš„ SDK Manager ä¸­é€‰æ‹©å®‰è£…å„ç‰ˆæœ¬çš„ SDKã€‚</p>
<p>ä½ å¯ä»¥åœ¨ Android Studio çš„æ¬¢è¿ç•Œé¢ä¸­æ‰¾åˆ° SDK Managerã€‚ç‚¹å‡» &quot;Configure&quot;ï¼Œç„¶åå°±èƒ½çœ‹åˆ° &quot;SDK Manager&quot;ã€‚</p>
<p><img src="https://reactnative.cn/docs/assets/GettingStartedAndroidStudioWelcomeMacOS.png" alt="image"></p>
<blockquote>
<p>SDK Manager è¿˜å¯ä»¥åœ¨ Android Studio çš„ &quot;Preferences&quot; èœå•ä¸­æ‰¾åˆ°ã€‚å…·ä½“è·¯å¾„æ˜¯ <code>Appearance &amp; Behavior â†’ System Settings â†’ Android SDK</code>ã€‚</p>
</blockquote>
<p>åœ¨ SDK Manager ä¸­é€‰æ‹© &quot;SDK Platforms&quot;é€‰é¡¹å¡ï¼Œç„¶ååœ¨å³ä¸‹è§’å‹¾é€‰ &quot;Show Package Details&quot;ã€‚å±•å¼€ <code>Android 6.0 (Marshmallow)</code> é€‰é¡¹ï¼Œç¡®ä¿å‹¾é€‰äº†ä¸‹é¢è¿™äº›ç»„ä»¶ï¼ˆé‡ç”³ä½ å¿…é¡»ä½¿ç”¨ç¨³å®šçš„ç¿»å¢™å·¥å…·ï¼Œå¦åˆ™å¯èƒ½éƒ½çœ‹ä¸åˆ°è¿™ä¸ªç•Œé¢ï¼‰ï¼š</p>
<ul>
<li><code>Android SDK Platform 28</code></li>
<li><code>Intel x86 Atom_64 System Image</code>ï¼ˆå®˜æ–¹æ¨¡æ‹Ÿå™¨é•œåƒæ–‡ä»¶ï¼Œä½¿ç”¨éå®˜æ–¹æ¨¡æ‹Ÿå™¨ä¸éœ€è¦å®‰è£…æ­¤ç»„ä»¶ï¼‰</li>
</ul>
<p>ç„¶åç‚¹å‡»&quot;SDK Tools&quot;é€‰é¡¹å¡ï¼ŒåŒæ ·å‹¾ä¸­å³ä¸‹è§’çš„&quot;Show Package Details&quot;ã€‚å±•å¼€&quot;Android SDK Build-Tools&quot;é€‰é¡¹ï¼Œç¡®ä¿é€‰ä¸­äº† React Native æ‰€å¿…é¡»çš„ <code>23.0.1</code> ç‰ˆæœ¬ã€‚ä½ å¯ä»¥åŒæ—¶å®‰è£…å¤šä¸ªå…¶ä»–ç‰ˆæœ¬ï¼Œç„¶åè¿˜è¦å‹¾é€‰æœ€åº•éƒ¨çš„ <code>Android Support Repository</code>ã€‚</p>
<p><img src="https://reactnative.cn/docs/assets/GettingStartedAndroidSDKManagerSDKToolsMacOS.png" alt="image"></p>
<p>æœ€åç‚¹å‡»&quot;Apply&quot;æ¥ä¸‹è½½å’Œå®‰è£…è¿™äº›ç»„ä»¶ã€‚</p>
<p><img src="https://reactnative.cn/docs/assets/GettingStartedAndroidSDKManagerInstallsMacOS.png" alt="image"></p>
<h4><a class="anchor" aria-hidden="true" id="3-é…ç½®-android_home-ç¯å¢ƒå˜é‡"></a><a href="#3-é…ç½®-android_home-ç¯å¢ƒå˜é‡" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. é…ç½® ANDROID_HOME ç¯å¢ƒå˜é‡</h4>
<p>React Native éœ€è¦é€šè¿‡ç¯å¢ƒå˜é‡æ¥äº†è§£ä½ çš„ Android SDK è£…åœ¨ä»€ä¹ˆè·¯å¾„ï¼Œä»è€Œæ­£å¸¸è¿›è¡Œç¼–è¯‘ã€‚</p>
<p>å…·ä½“çš„åšæ³•æ˜¯æŠŠä¸‹é¢çš„å‘½ä»¤åŠ å…¥åˆ° <code>~/.bash_profile</code> æ–‡ä»¶ä¸­ï¼š</p>
<blockquote>
<p>~è¡¨ç¤ºç”¨æˆ·ç›®å½•ï¼Œå³/Users/ä½ çš„ç”¨æˆ·å/ï¼Œè€Œå°æ•°ç‚¹å¼€å¤´çš„æ–‡ä»¶åœ¨ Finder ä¸­æ˜¯éšè—çš„ï¼Œå¹¶ä¸”è¿™ä¸ªæ–‡ä»¶æœ‰å¯èƒ½å¹¶ä¸å­˜åœ¨ã€‚å¯åœ¨ç»ˆç«¯ä¸‹ä½¿ç”¨vi ~/.bash_profileå‘½ä»¤åˆ›å»ºæˆ–ç¼–è¾‘ã€‚å¦‚ä¸ç†Ÿæ‚‰ vi æ“ä½œï¼Œè¯·ç‚¹å‡» <a href="http://www.eepw.com.cn/article/48018.htm">è¿™é‡Œ</a> å­¦ä¹ ã€‚</p>
</blockquote>
<pre><code class="hljs css language-sh"><span class="hljs-comment"># å¦‚æœä½ ä¸æ˜¯é€šè¿‡Android Studioå®‰è£…çš„sdkï¼Œåˆ™å…¶è·¯å¾„å¯èƒ½ä¸åŒï¼Œè¯·è‡ªè¡Œç¡®å®šæ¸…æ¥šã€‚</span>
<span class="hljs-built_in">export</span> ANDROID_HOME=<span class="hljs-variable">$HOME</span>/Library/Android/sdk
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$ANDROID_HOME</span>/tools
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$ANDROID_HOME</span>/platform-tools
</code></pre>
<blockquote>
<p>å¦‚æœä½ çš„å‘½ä»¤è¡Œä¸æ˜¯ bashï¼Œè€Œæ˜¯ä¾‹å¦‚ zsh ç­‰å…¶ä»–ï¼Œè¯·ä½¿ç”¨å¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚</p>
</blockquote>
<p>ä½¿ç”¨ <code>source $HOME/.bash_profile</code> å‘½ä»¤æ¥ä½¿ç¯å¢ƒå˜é‡è®¾ç½®ç«‹å³ç”Ÿæ•ˆï¼ˆå¦åˆ™é‡å¯åæ‰ç”Ÿæ•ˆï¼‰ã€‚å¯ä»¥ä½¿ç”¨ <code>echo $ANDROID_HOME</code> æ£€æŸ¥æ­¤å˜é‡æ˜¯å¦å·²æ­£ç¡®è®¾ç½®ã€‚</p>
<blockquote>
<p>è¯·ç¡®ä¿ä½ æ­£å¸¸æŒ‡å®šäº† Android SDK è·¯å¾„ã€‚ä½ å¯ä»¥åœ¨ Android Studio çš„ &quot;Preferences&quot; èœå•ä¸­æŸ¥çœ‹ SDK çš„çœŸå®è·¯å¾„ï¼Œå…·ä½“æ˜¯<code>Appearance &amp; Behavior â†’ System Settings â†’ Android SDK</code>ã€‚</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="å‡†å¤‡-android-è®¾å¤‡"></a><a href="#å‡†å¤‡-android-è®¾å¤‡" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å‡†å¤‡ Android è®¾å¤‡</h3>
<p>ä½ éœ€è¦å‡†å¤‡ä¸€å° Android è®¾å¤‡æ¥è¿è¡Œ React Native Android åº”ç”¨ã€‚è¿™é‡Œæ‰€æŒ‡çš„è®¾å¤‡æ—¢å¯ä»¥æ˜¯çœŸæœºï¼Œä¹Ÿå¯ä»¥æ˜¯æ¨¡æ‹Ÿå™¨ã€‚Android å®˜æ–¹æä¾›äº†åä¸º Android Virtual Deviceï¼ˆç®€ç§° AVDï¼‰çš„æ¨¡æ‹Ÿå™¨ã€‚æ­¤å¤–è¿˜æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹æä¾›çš„æ¨¡æ‹Ÿå™¨å¦‚ <a href="https://www.genymotion.com/download">Genymotion</a>ã€BlueStack ç­‰ã€‚ä¸€èˆ¬æ¥è¯´å®˜æ–¹æ¨¡æ‹Ÿå™¨å…è´¹ã€åŠŸèƒ½å®Œæ•´ï¼Œä½†æ€§èƒ½è¾ƒå·®ã€‚ç¬¬ä¸‰æ–¹æ¨¡æ‹Ÿå™¨æ€§èƒ½è¾ƒå¥½ï¼Œä½†å¯èƒ½éœ€è¦ä»˜è´¹ï¼Œæˆ–å¸¦æœ‰å¹¿å‘Šã€‚</p>
<h4><a class="anchor" aria-hidden="true" id="ä½¿ç”¨-android-çœŸæœº"></a><a href="#ä½¿ç”¨-android-çœŸæœº" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ Android çœŸæœº</h4>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Android çœŸæœºæ¥ä»£æ›¿æ¨¡æ‹Ÿå™¨è¿›è¡Œå¼€å‘ï¼Œåªéœ€ç”¨ usb æ•°æ®çº¿è¿æ¥åˆ°ç”µè„‘ï¼Œç„¶åéµç…§ <a href="https://reactnative.cn/docs/0.55/running-on-device">åœ¨è®¾å¤‡ä¸Šè¿è¡Œ</a> è¿™ç¯‡æ–‡æ¡£çš„è¯´æ˜æ“ä½œå³å¯ã€‚</p>
<h4><a class="anchor" aria-hidden="true" id="ä½¿ç”¨-android-æ¨¡æ‹Ÿå™¨"></a><a href="#ä½¿ç”¨-android-æ¨¡æ‹Ÿå™¨" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ Android æ¨¡æ‹Ÿå™¨</h4>
<p>ä½ å¯ä»¥åœ¨ Android Studi æ‰“å¼€ &quot;AVD Manager&quot; æ¥æŸ¥çœ‹å¯ç”¨çš„è™šæ‹Ÿè®¾å¤‡ï¼Œå®ƒçš„å›¾æ ‡çœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="https://reactnative.cn/docs/assets/GettingStartedAndroidStudioAVD.png" alt="image"></p>
<p>å¦‚æœä½ åˆšåˆšæ‰å®‰è£… Android Studioï¼Œé‚£ä¹ˆå¯èƒ½éœ€è¦å…ˆ <a href="https://developer.android.com/studio/run/managing-avds.html">åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿè®¾å¤‡</a>ã€‚ç‚¹å‡»&quot;Create Virtual Device...&quot;ï¼Œç„¶åé€‰æ‹©æ‰€éœ€çš„è®¾å¤‡ç±»å‹å¹¶ç‚¹å‡»&quot;Next&quot;ã€‚</p>
<p><img src="https://reactnative.cn/docs/assets/GettingStartedCreateAVDMacOS.png" alt="image"></p>
<p>é€‰æ‹© &quot;x86 Images&quot; é€‰é¡¹å¡ï¼Œè¿™é‡Œå¯ä»¥çœ‹åˆ°ä½ ä¹‹å‰å·²å®‰è£…è¿‡çš„é•œåƒæ–‡ä»¶ã€‚å¿…é¡»å…ˆå®‰è£…é•œåƒæ–‡ä»¶æ‰èƒ½åˆ›å»ºå¯¹åº”çš„è™šæ‹Ÿè®¾å¤‡ã€‚</p>
<p><img src="https://reactnative.cn/docs/assets/GettingStartedCreateAVDx86MacOS.png" alt="image"></p>
<blockquote>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… HAXMï¼ˆIntel è™šæ‹Ÿç¡¬ä»¶åŠ é€Ÿé©±åŠ¨ï¼‰ï¼Œåˆ™å…ˆæŒ‰ <a href="https://software.intel.com/en-us/android/articles/installation-instructions-for-intel-hardware-accelerated-execution-manager-mac-os-x">è¿™ç¯‡æ–‡æ¡£</a> è¯´æ˜æ¥è¿›è¡Œå®‰è£…ã€‚</p>
</blockquote>
<p><img src="https://reactnative.cn/docs/assets/GettingStartedAVDManagerMacOS.png" alt="image"></p>
<p>ç„¶åç‚¹å‡» &quot;Next&quot; å’Œ &quot;Finish&quot; æ¥å®Œæˆè™šæ‹Ÿè®¾å¤‡çš„åˆ›å»ºã€‚</p>
<h2><a class="anchor" aria-hidden="true" id="å¼€å‘"></a><a href="#å¼€å‘" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¼€å‘</h2>
<h3><a class="anchor" aria-hidden="true" id="ç¼–è¯‘"></a><a href="#ç¼–è¯‘" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ç¼–è¯‘</h3>
<p>RN ç¼–è¯‘é¢„è§ˆæ¨¡å¼:</p>
<pre><code class="hljs css language-shell"><span class="hljs-meta">#</span><span class="bash"> yarn</span>
<span class="hljs-meta">$</span><span class="bash"> yarn dev:rn</span>
<span class="hljs-meta">#</span><span class="bash"> npm script</span>
<span class="hljs-meta">$</span><span class="bash"> npm run dev:rn</span>
<span class="hljs-meta">#</span><span class="bash"> ä»…é™å…¨å±€å®‰è£…</span>
<span class="hljs-meta">$</span><span class="bash"> taro build --<span class="hljs-built_in">type</span> rn --watch</span>
<span class="hljs-meta">#</span><span class="bash"> npx ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨</span>
<span class="hljs-meta">$</span><span class="bash"> npx taro build --<span class="hljs-built_in">type</span> rn --watch</span>
</code></pre>
<p>Taro å°†ä¼šå¼€å§‹ç¼–è¯‘æ–‡ä»¶ï¼š</p>
<pre><code class="hljs css language-sh">âœ  taro-demo git:(master) âœ— taro build --<span class="hljs-built_in">type</span> rn --watch
ğŸ‘½ Taro v1.2.20

å¼€å§‹ç¼–è¯‘é¡¹ç›® taro-demo
ç¼–è¯‘  JS        /Users/chengshuai/Taro/taro-demo/src/app.js
ç¼–è¯‘  SCSS      /Users/chengshuai/Taro/taro-demo/src/app.scss
æ‹·è´  HTML      /Users/chengshuai/Taro/taro-demo/src/index.html
ç”Ÿæˆ  ç”Ÿæˆæ–‡ä»¶  /Users/chengshuai/Taro/taro-demo/rn_temp/app_styles.js
ç¼–è¯‘  JS        /Users/chengshuai/Taro/taro-demo/src/pages/index/index.js
ç¼–è¯‘  SCSS      /Users/chengshuai/Taro/taro-demo/src/pages/index/index.scss
ç”Ÿæˆ  index.js  /Users/chengshuai/Taro/taro-demo/rn_temp/index.js
ç”Ÿæˆ  app.json  /Users/chengshuai/Taro/taro-demo/rn_temp/app.json
ç”Ÿæˆ  package.json  /Users/chengshuai/Taro/taro-demo/rn_temp/package.json
ç¼–è¯‘  ç¼–è¯‘å®Œæˆï¼ŒèŠ±è´¹2504 ms
ç”Ÿæˆ  ç”Ÿæˆæ–‡ä»¶  /Users/chengshuai/Taro/taro-demo/rn_temp/pages/index/index_styles.js

åˆå§‹åŒ–å®Œæ¯•ï¼Œç›‘å¬æ–‡ä»¶ä¿®æ”¹ä¸­...

</code></pre>
<p>ç¼–è¯‘åçš„ä»£ç åŠåº”ç”¨æ–‡ä»¶åœ¨æ ¹ç›®å½•çš„ <code>rn_temp</code> ç›®å½•ä¸‹ï¼Œå¸¸è§çš„å·¥ç¨‹ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs css language-shell">rn_temp
â”œâ”€â”€ app.js
â”œâ”€â”€ app.json
â”œâ”€â”€ app_styles.js
â”œâ”€â”€ index.html
â”œâ”€â”€ index.js
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ pages
â”‚   â””â”€â”€ index
â”‚       â”œâ”€â”€ component.js
â”‚       â”œâ”€â”€ index.js
â”‚       â””â”€â”€ index_styles.js
â”œâ”€â”€ bundle
â”‚   â”œâ”€â”€ assets
â”‚   â”œâ”€â”€ index.bundle
â”‚   â””â”€â”€ index.bundle.meta
â””â”€â”€ yarn.lock
</code></pre>
<p>å…¶ä¸­å…³é”®æ–‡ä»¶åŠç›®å½•å¦‚ä¸‹ï¼š</p>
<ul>
<li>app.json React Native åº”ç”¨çš„é…ç½®ï¼Œä» <code>config.rn.appJson</code> ä¸­è·å–</li>
<li>bundle:å®æ—¶ç¼–è¯‘çš„ jsbundle ä¸´æ—¶æ–‡ä»¶</li>
</ul>
<p>å¦‚æœç¼–è¯‘æ²¡æœ‰æŠ¥é”™ï¼Œä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶åœ¨ 8081 ç«¯å£å¯åŠ¨ <a href="https://github.com/facebook/metro">Metro</a> Bundler è´Ÿè´£æ‰“åŒ… jsbundleï¼š</p>
<p><img src="https://user-images.githubusercontent.com/9441951/59322399-85780180-8d08-11e9-9ea7-b3e4b23c077c.png" alt="image"></p>
<blockquote>
<p>æ³¨æ„ï¼šå°‘æ•°ç”µè„‘ä¸Šï¼Œå¯èƒ½ä¸ä¼š <code>è‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªç»ˆç«¯</code>ï¼Œè¿™æ—¶ä½ å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š<code>react-native start</code> æ‰‹åŠ¨å¯åŠ¨ã€‚</p>
</blockquote>
<p>è¿™æ—¶ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥ <a href="http://127.0.0.1:8081">http://127.0.0.1:8081</a>ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼š
<img src="https://user-images.githubusercontent.com/9441951/55865494-13245d00-5bb1-11e9-9a97-8a785a83b584.png" alt="image"></p>
<p>è¾“å…¥ <a href="http://127.0.0.1:8081/rn_temp/index.bundle?platform=ios&amp;dev=true">http://127.0.0.1:8081/rn_temp/index.bundle?platform=ios&amp;dev=true</a> ä¼šè§¦å‘å¯¹åº”ç»ˆç«¯å¹³å°çš„ js bundle æ„å»ºã€‚</p>
<p><img src="https://user-images.githubusercontent.com/9441951/55865039-37336e80-5bb0-11e9-8aca-c121be4542f6.png" alt="image"></p>
<p>æ„å»ºå®Œæˆåï¼Œæµè§ˆå™¨ä¼šæ˜¾ç¤ºæ„å»ºåçš„ js ä»£ç ã€‚</p>
<blockquote>
<p>Noteï¼šè¿›å…¥ä¸‹ä¸€æ­¥ä¹‹å‰è¯·ç¡®ä¿ Metro Bundler Server æ­£å¸¸å¯åŠ¨ï¼Œå³æµè§ˆå™¨èƒ½æ­£å¸¸è®¿é—®è®¿é—® jsbundleã€‚</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="å¯åŠ¨åº”ç”¨"></a><a href="#å¯åŠ¨åº”ç”¨" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¯åŠ¨åº”ç”¨</h3>
<p>å¦‚æœä¸Šä¸€æ­¥çš„ç¼–è¯‘å’Œ Metro Bundler Server å¯åŠ¨æ²¡é—®é¢˜ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å¯åŠ¨åº”ç”¨äº†ã€‚</p>
<p>å¼€å‘è€…å¯ä»¥è‡ªè¡Œ<a href="https://reactnative.cn/docs/0.55/integration-with-existing-apps/">æ•´åˆ React Native (0.55.4) åˆ°åŸç”Ÿåº”ç”¨</a>ï¼ŒåŒæ—¶ä¸ºäº†æ–¹ä¾¿å¤§å®¶å¼€å‘å’Œæ•´åˆï¼ŒTaro å°† React Native å·¥ç¨‹ä¸­åŸç”Ÿçš„éƒ¨åˆ†å‰¥ç¦»å‡ºæ¥ï¼Œå•ç‹¬æ”¾åœ¨ä¸€ä¸ªå·¥ç¨‹é‡Œé¢ <a href="https://github.com/NervJS/taro-native-shell">NervJS/taro-native-shell</a>ï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹æˆæ˜¯ React Native iOS/Android ç©ºåº”ç”¨çš„å£³å­ã€‚</p>
<p>é¦–å…ˆå°†åº”ç”¨ä»£ç  clone ä¸‹æ¥ï¼š</p>
<pre><code class="hljs">git clone git@github<span class="token punctuation">.</span>com<span class="token operator">:</span>NervJS<span class="token operator">/</span>taro<span class="token operator">-</span>native<span class="token operator">-</span>shell<span class="token punctuation">.</span>git
</code></pre>
<p>ç„¶å <code>cd taro-native-shell</code>ï¼Œä½¿ç”¨ yarn æˆ–è€… npm install å®‰è£…ä¾èµ–ã€‚</p>
<p>å·¥ç¨‹ç›®å½•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs css language-sh">âœ  taro-native-shell git:(master) âœ— tree -L 1
.
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ android // Android å·¥ç¨‹ç›®å½•
â”œâ”€â”€ ios // iOS å·¥ç¨‹ç›®å½•
â”œâ”€â”€ node_modules
â”œâ”€â”€ package.json
â””â”€â”€ yarn.lock
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="ios"></a><a href="#ios" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>iOS</h3>
<h4><a class="anchor" aria-hidden="true" id="ä½¿ç”¨-react-native-å‘½ä»¤å¯åŠ¨"></a><a href="#ä½¿ç”¨-react-native-å‘½ä»¤å¯åŠ¨" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ React Native å‘½ä»¤å¯åŠ¨</h4>
<pre><code class="hljs css language-sh">$ react-native run-ios
</code></pre>
<p>iOS æ¨¡æ‹Ÿå™¨ä¼šè‡ªè¡Œå¯åŠ¨ï¼Œå¹¶è®¿é—® 8081 ç«¯å£è·å– js bundleï¼Œè¿™æ—¶ Metro Bundler ç»ˆç«¯ä¼šæ‰“å°ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs css language-sh"> BUNDLE  [ios, dev] ./index.js â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ 100.0% (1/1), <span class="hljs-keyword">done</span>.
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="ä½¿ç”¨-xcode-å¯åŠ¨"></a><a href="#ä½¿ç”¨-xcode-å¯åŠ¨" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ Xcode å¯åŠ¨</h4>
<p>iOS çš„å¯åŠ¨æ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨ Xcode æ‰“å¼€ ios ç›®å½•ï¼Œç„¶åç‚¹å‡» Run æŒ‰é’®å°±è¡Œã€‚</p>
<p><img src="https://developer.apple.com/library/archive/documentation/ToolsLanguages/Conceptual/Xcode_Overview/Art/XC_O_SchemeMenuWithCallouts_2x.png" alt="image"></p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ jsBundle çš„ moduleNameï¼Œé»˜è®¤çš„ moduleName ä¸º &quot;taroDemo&quot;ï¼Œéœ€è¦å’Œ <code>rn_temp/app.json</code> é‡Œé¢çš„ name å­—æ®µä¿æŒä¸€è‡´ã€‚è¯¥é…ç½®åœ¨ <code>AppDelegate.m</code> æ–‡ä»¶ä¸­ã€‚</p>
<pre><code class="hljs css language-objc"><span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">AppDelegate</span></span>

- (<span class="hljs-built_in">BOOL</span>)application:(<span class="hljs-built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="hljs-built_in">NSDictionary</span> *)launchOptions
{
  <span class="hljs-built_in">NSURL</span> *jsCodeLocation;

  jsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:<span class="hljs-string">@"rn_temp/index"</span> fallbackResource:<span class="hljs-literal">nil</span>];

  RCTRootView *rootView = [[RCTRootView alloc] initWithBundleURL:jsCodeLocation
                                                      moduleName:<span class="hljs-string">@"taroDemo"</span>
                                               initialProperties:<span class="hljs-literal">nil</span>
                                                   launchOptions:launchOptions];
  rootView.backgroundColor = [[<span class="hljs-built_in">UIColor</span> alloc] initWithRed:<span class="hljs-number">1.0</span>f green:<span class="hljs-number">1.0</span>f blue:<span class="hljs-number">1.0</span>f alpha:<span class="hljs-number">1</span>];

  <span class="hljs-keyword">self</span>.window = [[<span class="hljs-built_in">UIWindow</span> alloc] initWithFrame:[<span class="hljs-built_in">UIScreen</span> mainScreen].bounds];
  <span class="hljs-built_in">UIViewController</span> *rootViewController = [<span class="hljs-built_in">UIViewController</span> new];
  rootViewController.view = rootView;
  <span class="hljs-keyword">self</span>.window.rootViewController = rootViewController;
  [<span class="hljs-keyword">self</span>.window makeKeyAndVisible];
  <span class="hljs-keyword">return</span> <span class="hljs-literal">YES</span>;
}

<span class="hljs-keyword">@end</span>
</code></pre>
<p>app.json å­—æ®µçš„é…ç½®é»˜è®¤å–è‡ªäº package.json çš„ name å­—æ®µï¼Œé™¤éä½ åœ¨ rn -&gt; appJson é‡Œé¢æœ‰é…ç½®ã€‚</p>
<p>æ›´å¤šèµ„æ–™ï¼Œå¯ä»¥æŸ¥çœ‹ Xcode æ–‡æ¡£ï¼š<a href="https://developer.apple.com/library/archive/documentation/ToolsLanguages/Conceptual/Xcode_Overview/BuildingYourApp.html">Building Your App</a></p>
<h3><a class="anchor" aria-hidden="true" id="android"></a><a href="#android" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Android</h3>
<p>åœ¨ taro-native-shell/android ç›®å½•ä¸‹ï¼Œä½ å°±å¯ä»¥çœ‹åˆ° React Native çš„å·¥ç¨‹ä»£ç ã€‚</p>
<h4><a class="anchor" aria-hidden="true" id="ä½¿ç”¨-react-native-å‘½ä»¤å¯åŠ¨-1"></a><a href="#ä½¿ç”¨-react-native-å‘½ä»¤å¯åŠ¨-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ React Native å‘½ä»¤å¯åŠ¨</h4>
<pre><code class="hljs css language-sh">$ react-native run-android
</code></pre>
<p>Android æ¨¡æ‹Ÿå™¨ä¼šè‡ªè¡Œå¯åŠ¨ï¼Œå¹¶è®¿é—® 8081 ç«¯å£è·å– js bundleï¼Œè¿™æ—¶ Metro Bundler ç»ˆç«¯ä¼šæ‰“å°ä¸€ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs css language-sh"> BUNDLE  [android, dev] ./index.js â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ 100.0% (1/1), <span class="hljs-keyword">done</span>.
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="åœ¨çœŸå®è®¾å¤‡ä¸Šè¿è¡Œ"></a><a href="#åœ¨çœŸå®è®¾å¤‡ä¸Šè¿è¡Œ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åœ¨çœŸå®è®¾å¤‡ä¸Šè¿è¡Œ</h4>
<p>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è®¾ç½®æ‚¨çš„è®¾å¤‡ï¼š</p>
<ol>
<li><p>ä½¿ç”¨ä¸€æ ¹ USB ç”µç¼†å°†æ‚¨çš„è®¾å¤‡è¿æ¥åˆ°æ‚¨çš„å¼€å‘æœºå™¨ã€‚å¦‚æœæ‚¨æ˜¯åœ¨ Windows ä¸Šå¼€å‘ï¼Œå¯èƒ½éœ€è¦ä¸ºæ‚¨çš„è®¾å¤‡ <a href="https://developer.android.com/studio/run/oem-usb.html?hl=zh-cn">å®‰è£…ç›¸åº”çš„ USB é©±åŠ¨ç¨‹åº</a>ã€‚</p></li>
<li><p>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼Œåœ¨ Developer options ä¸­å¯ç”¨ USB debuggingã€‚
é¦–å…ˆï¼Œæ‚¨å¿…é¡»å¯ç”¨å¼€å‘è€…é€‰é¡¹ï¼š</p>
<ol>
<li>æ‰“å¼€ Settings åº”ç”¨ã€‚</li>
<li>ï¼ˆä»…åœ¨ Android 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸Šï¼‰é€‰æ‹© Systemã€‚</li>
<li>æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œç„¶åé€‰æ‹© About phoneã€‚</li>
<li>æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œç‚¹æŒ‰ Build number 7 æ¬¡ã€‚</li>
<li>è¿”å›ä¸Šä¸€å±å¹•ï¼Œåœ¨åº•éƒ¨é™„è¿‘å¯æ‰¾åˆ° Developer optionsã€‚
æ‰“å¼€ Developer optionsï¼Œç„¶åå‘ä¸‹æ»šåŠ¨ä»¥æ‰¾åˆ°å¹¶å¯ç”¨ USB debuggingã€‚</li>
</ol></li>
</ol>
<p>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼Œåœ¨æ‚¨çš„è®¾å¤‡ä¸Šè¿è¡Œåº”ç”¨ï¼š</p>
<ol>
<li>åœ¨ Android Studio ä¸­ï¼Œç‚¹å‡» Project çª—å£ä¸­çš„ app æ¨¡å—ï¼Œç„¶åé€‰æ‹© Run &gt; Runï¼ˆæˆ–ç‚¹å‡»å·¥å…·æ ä¸­çš„ Run  ï¼‰ã€‚</li>
</ol>
<p><img src="https://sdtimes.com/wp-content/uploads/2016/04/0408.sdt-androidstudio.png" alt="image"></p>
<ol start="2">
<li>åœ¨ Select Deployment Target çª—å£ä¸­ï¼Œé€‰æ‹©æ‚¨çš„è®¾å¤‡ï¼Œç„¶åç‚¹å‡» OKã€‚</li>
</ol>
<p><img src="https://developer.android.com/training/basics/firstapp/images/run-device_2x.png?hl=zh-cn" alt="image"></p>
<p>Android Studio ä¼šåœ¨æ‚¨è¿æ¥çš„è®¾å¤‡ä¸Šå®‰è£…å¹¶å¯åŠ¨åº”ç”¨ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="åœ¨æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œ"></a><a href="#åœ¨æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åœ¨æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œ</h3>
<p>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼Œåœ¨æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œåº”ç”¨ï¼š</p>
<ol>
<li>åœ¨ Android Studio ä¸­ï¼Œç‚¹å‡» Project çª—å£ä¸­çš„ app æ¨¡å—ï¼Œç„¶åé€‰æ‹© Run &gt; Runï¼ˆæˆ–ç‚¹å‡»å·¥å…·æ ä¸­çš„ Run  ï¼‰ã€‚</li>
<li>åœ¨ Select Deployment Target çª—å£ä¸­ï¼Œç‚¹å‡» Create New Virtual Deviceã€‚</li>
</ol>
<p><img src="https://developer.android.com/training/basics/firstapp/images/run-avd_2x.png?hl=zh-cn" alt="image"></p>
<ol start="3">
<li>åœ¨ Select Hardware å±å¹•ä¸­ï¼Œé€‰æ‹©ç”µè¯è®¾å¤‡ï¼ˆå¦‚ Pixelï¼‰ï¼Œç„¶åç‚¹å‡» Nextã€‚</li>
<li>åœ¨ System Image å±å¹•ä¸­ï¼Œé€‰æ‹©å…·æœ‰æœ€é«˜ API çº§åˆ«çš„ç‰ˆæœ¬ã€‚å¦‚æœæ‚¨æœªå®‰è£…è¯¥ç‰ˆæœ¬ï¼Œå°†æ˜¾ç¤ºä¸€ä¸ª Download é“¾æ¥ï¼Œå› æ­¤ï¼Œè¯·ç‚¹å‡»è¯¥é“¾æ¥å¹¶å®Œæˆä¸‹è½½ã€‚</li>
<li>ç‚¹å‡» Nextã€‚</li>
<li>åœ¨ Android Virtual Device (AVD) å±å¹•ä¸Šï¼Œä¿ç•™æ‰€æœ‰è®¾ç½®ä¸å˜ï¼Œç„¶åç‚¹å‡» Finishã€‚</li>
<li>è¿”å›åˆ° Select Deployment Target å¯¹è¯æ¡†ä¸­ï¼Œé€‰æ‹©æ‚¨åˆšåˆšåˆ›å»ºçš„è®¾å¤‡ï¼Œç„¶åç‚¹å‡» OKã€‚</li>
</ol>
<p>Android Studio ä¼šåœ¨æ¨¡æ‹Ÿå™¨ä¸Šå®‰è£…å¹¶å¯åŠ¨åº”ç”¨ã€‚</p>
<h4><a class="anchor" aria-hidden="true" id="module-name"></a><a href="#module-name" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Module Name</h4>
<p>åŒæ ·ï¼ŒAndroid è¿™è¾¹é»˜è®¤çš„ jsBundle moduleName ä¹Ÿæ˜¯ â€œtaroDemoâ€ï¼Œä½äº <code>MainActivity.java</code> çš„æ–‡ä»¶é‡Œé¢ï¼š</p>
<pre><code class="hljs css language-java"><span class="hljs-keyword">package</span> com.tarodemo;

<span class="hljs-keyword">import</span> com.facebook.react.ReactActivity;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ReactActivity</span> </span>{

    <span class="hljs-comment">/**
     * Returns the name of the main component registered from JavaScript.
     * This is used to schedule rendering of the component.
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> String <span class="hljs-title">getMainComponentName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"taroDemo"</span>;
    }
}

</code></pre>
<p>ä½ å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹ã€‚</p>
<h2><a class="anchor" aria-hidden="true" id="è°ƒè¯•"></a><a href="#è°ƒè¯•" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>è°ƒè¯•</h2>
<p>æ›´å¤šèµ„æ–™å¯ä»¥æŸ¥çœ‹ <a href="https://reactnative.cn/docs/debugging.html">React Native è°ƒè¯•</a>ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="å¼€å‘è€…èœå•"></a><a href="#å¼€å‘è€…èœå•" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¼€å‘è€…èœå•</h3>
<p>React Native åœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸Šæ”¯æŒä¸€äº›å¿«æ·é”®æ“ä½œï¼Œå…·ä½“ä¼šåœ¨ä¸‹æ–‡ä¸­æè¿°ã€‚è¦ä½¿ç”¨å¿«æ·é”®è¯·åŠ¡å¿…ç¡®ä¿æ¨¡æ‹Ÿå™¨çš„ Hardware èœå•ä¸­ï¼ŒKeyboard é€‰é¡¹ä¸‹çš„&quot;Connect Hardware Keyboard&quot;å¤„äºå¼€å¯çŠ¶æ€ï¼Œå¦åˆ™æŒ‰é”®æ˜¯æ²¡æœ‰å“åº”çš„ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡æ‘‡æ™ƒè®¾å¤‡æˆ–æ˜¯é€‰æ‹© iOS æ¨¡æ‹Ÿå™¨çš„ &quot;Hardware&quot; èœå•ä¸­çš„ &quot;Shake Gesture&quot; é€‰é¡¹æ¥æ‰“å¼€å¼€å‘èœå•ã€‚å¦å¤–ï¼Œå¦‚æœæ˜¯åœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œï¼Œè¿˜å¯ä»¥æŒ‰ä¸‹ <code>CommandâŒ˜ + D</code> å¿«æ·é”®ï¼ŒAndroid æ¨¡æ‹Ÿå™¨å¯¹åº”çš„åˆ™æ˜¯ <code>CommandâŒ˜ + M</code>ï¼ˆwindows ä¸Šå¯èƒ½æ˜¯ F1 æˆ–è€… F2ï¼‰ï¼Œæˆ–æ˜¯ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ <code>adb shell input keyevent 82</code> æ¥å‘é€èœå•é”®å‘½ä»¤ã€‚</p>
<p><img src="https://reactnative.cn/docs/assets/DeveloperMenu.png" alt="image"></p>
<blockquote>
<p>åœ¨å‘å¸ƒï¼ˆproductionï¼‰ç‰ˆæœ¬ä¸­å¼€å‘è€…èœå•å°†æ— æ³•ä½¿ç”¨ã€‚</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="åˆ·æ–°-javascript"></a><a href="#åˆ·æ–°-javascript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åˆ·æ–° JavaScript</h3>
<p>ä¼ ç»Ÿçš„åŸç”Ÿåº”ç”¨å¼€å‘ä¸­ï¼Œæ¯ä¸€æ¬¡ä¿®æ”¹éƒ½éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œä½†åœ¨ RN ä¸­ä½ åªéœ€è¦åˆ·æ–°ä¸€ä¸‹ JavaScript ä»£ç ï¼Œå°±èƒ½ç«‹åˆ»çœ‹åˆ°å˜åŒ–ã€‚å…·ä½“çš„æ“ä½œå°±æ˜¯åœ¨å¼€å‘èœå•ä¸­ç‚¹å‡» &quot;Reload&quot; é€‰é¡¹ã€‚ä¹Ÿå¯ä»¥åœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸­æŒ‰ä¸‹ <code>CommandâŒ˜ + R</code>ï¼ŒAndroid æ¨¡æ‹Ÿå™¨ä¸Šå¯¹åº”çš„åˆ™æ˜¯ <code>æŒ‰ä¸¤ä¸‹R</code>ã€‚</p>
<h4><a class="anchor" aria-hidden="true" id="è‡ªåŠ¨åˆ·æ–°"></a><a href="#è‡ªåŠ¨åˆ·æ–°" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>è‡ªåŠ¨åˆ·æ–°</h4>
<p>é€‰æ‹©å¼€å‘èœå•ä¸­çš„ &quot;Enable Live Reload&quot; å¯ä»¥å¼€å¯è‡ªåŠ¨åˆ·æ–°ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœä½ å¼€å‘ä¸­çš„æ—¶é—´ã€‚</p>
<p>æ›´ç¥å¥‡çš„æ˜¯ï¼Œä½ è¿˜å¯ä»¥ä¿æŒåº”ç”¨çš„å½“å‰è¿è¡ŒçŠ¶æ€ï¼Œä¿®æ”¹åçš„ JavaScript æ–‡ä»¶ä¼šè‡ªåŠ¨æ³¨å…¥è¿›æ¥ï¼ˆå°±å¥½æ¯”è¡Œé©¶ä¸­çš„æ±½è½¦ä¸ç”¨åœä¸‹å°±èƒ½æ›´æ¢æ–°çš„è½®èƒï¼‰ã€‚è¦å®ç°è¿™ä¸€ç‰¹æ€§åªéœ€å¼€å¯å¼€å‘èœå•ä¸­çš„ <a href="https://facebook.github.io/react-native/blog/2016/03/24/introducing-hot-reloading.html">Hot Reloading</a> é€‰é¡¹ã€‚</p>
<blockquote>
<p>æŸäº›æƒ…å†µä¸‹ hot reload å¹¶ä¸èƒ½é¡ºåˆ©å®æ–½ã€‚å¦‚æœç¢°åˆ°ä»»ä½•ç•Œé¢åˆ·æ–°ä¸Šçš„é—®é¢˜ï¼Œè¯·å°è¯•æ‰‹åŠ¨å®Œå…¨åˆ·æ–°ã€‚</p>
</blockquote>
<p>ä½†æœ‰äº›æ—¶å€™ä½ å¿…é¡»è¦é‡æ–°ç¼–è¯‘åº”ç”¨æ‰èƒ½ä½¿ä¿®æ”¹ç”Ÿæ•ˆï¼š</p>
<ul>
<li>å¢åŠ äº†æ–°çš„èµ„æº(æ¯”å¦‚ç»™ iOS çš„Images.xcassetsæˆ–æ˜¯ Andorid çš„res/drawableæ–‡ä»¶å¤¹æ·»åŠ äº†å›¾ç‰‡)</li>
<li>æ›´æ”¹äº†ä»»ä½•çš„åŸç”Ÿä»£ç ï¼ˆobjective-c/swift/javaï¼‰</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="åº”ç”¨å†…çš„é”™è¯¯ä¸è­¦å‘Šæç¤º-çº¢å±å’Œé»„å±"></a><a href="#åº”ç”¨å†…çš„é”™è¯¯ä¸è­¦å‘Šæç¤º-çº¢å±å’Œé»„å±" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åº”ç”¨å†…çš„é”™è¯¯ä¸è­¦å‘Šæç¤ºï¼ˆçº¢å±å’Œé»„å±ï¼‰</h3>
<p>çº¢å±æˆ–é»„å±æç¤ºéƒ½åªä¼šåœ¨å¼€å‘ç‰ˆæœ¬ä¸­æ˜¾ç¤ºï¼Œæ­£å¼çš„ç¦»çº¿åŒ…ä¸­æ˜¯ä¸ä¼šæ˜¾ç¤ºçš„ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="çº¢å±é”™è¯¯"></a><a href="#çº¢å±é”™è¯¯" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>çº¢å±é”™è¯¯</h3>
<p>åº”ç”¨å†…çš„æŠ¥é”™ä¼šä»¥å…¨å±çº¢è‰²æ˜¾ç¤ºåœ¨åº”ç”¨ä¸­ï¼ˆè°ƒè¯•æ¨¡å¼ä¸‹ï¼‰ï¼Œæˆ‘ä»¬ç§°ä¸ºçº¢å±ï¼ˆred boxï¼‰æŠ¥é”™ã€‚ä½ å¯ä»¥ä½¿ç”¨console.error()æ¥æ‰‹åŠ¨è§¦å‘çº¢å±é”™è¯¯ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="é»„å±è­¦å‘Š"></a><a href="#é»„å±è­¦å‘Š" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é»„å±è­¦å‘Š</h3>
<p>åº”ç”¨å†…çš„è­¦å‘Šä¼šä»¥å…¨å±é»„è‰²æ˜¾ç¤ºåœ¨åº”ç”¨ä¸­ï¼ˆè°ƒè¯•æ¨¡å¼ä¸‹ï¼‰ï¼Œæˆ‘ä»¬ç§°ä¸ºé»„å±ï¼ˆyellow boxï¼‰æŠ¥é”™ã€‚ç‚¹å‡»è­¦å‘Šå¯ä»¥æŸ¥çœ‹è¯¦æƒ…æˆ–æ˜¯å¿½ç•¥æ‰ã€‚å’Œçº¢å±æŠ¥è­¦ç±»ä¼¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>console.warn()</code> æ¥æ‰‹åŠ¨è§¦å‘é»„å±è­¦å‘Šã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼€å‘æ¨¡å¼ä¸­å¯ç”¨äº†é»„å±è­¦å‘Šã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç å…³é—­ï¼š</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">console</span>.disableYellowBox = <span class="hljs-literal">true</span>;
<span class="hljs-built_in">console</span>.warn(<span class="hljs-string">'YellowBox is disabled.'</span>);
</code></pre>
<p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡ä»£ç å±è”½æŒ‡å®šçš„è­¦å‘Šï¼Œåƒä¸‹é¢è¿™æ ·è°ƒç”¨ ignoreWarnings æ–¹æ³•ï¼Œå‚æ•°ä¸ºä¸€ä¸ªæ•°ç»„ï¼š</p>
<pre><code class="hljs"><span class="token keyword">import</span> <span class="token punctuation">{</span>YellowBox<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>
YellowBox<span class="token punctuation">.</span><span class="token function">ignoreWarnings</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Warning: ...'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>åœ¨ CI/Xcode ä¸­ï¼Œé»„å±è­¦å‘Šè¿˜å¯ä»¥é€šè¿‡è®¾ç½® <code>IS_TESTING</code> ç¯å¢ƒå˜é‡æ¥æ§åˆ¶å¯ç”¨ä¸å¦ã€‚</p>
<blockquote>
<p>çº¢å±é”™è¯¯å’Œé»„å±è­¦å‘Šåœ¨å‘å¸ƒç‰ˆï¼ˆrelease/productionï¼‰ä¸­éƒ½æ˜¯è‡ªåŠ¨ç¦ç”¨çš„ã€‚</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="chrome-å¼€å‘è€…å·¥å…·"></a><a href="#chrome-å¼€å‘è€…å·¥å…·" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Chrome å¼€å‘è€…å·¥å…·</h3>
<p>åœ¨å¼€å‘è€…èœå•ä¸­é€‰æ‹© &quot;Debug JS Remotely&quot; é€‰é¡¹ï¼Œå³å¯ä»¥å¼€å§‹åœ¨ Chrome ä¸­è°ƒè¯• JavaScript ä»£ç ã€‚ç‚¹å‡»è¿™ä¸ªé€‰é¡¹çš„åŒæ—¶ä¼šè‡ªåŠ¨æ‰“å¼€è°ƒè¯•é¡µé¢ <a href="http://localhost:8081/debugger-ui.(å¦‚æœåœ°å€æ æ‰“å¼€çš„æ˜¯">http://localhost:8081/debugger-ui.(å¦‚æœåœ°å€æ æ‰“å¼€çš„æ˜¯</a> ip åœ°å€ï¼Œåˆ™è¯·è‡ªè¡Œæ”¹ä¸º localhost)</p>
<p>åœ¨ Chrome çš„èœå•ä¸­é€‰æ‹© <code>Tools â†’ Developer Tools</code> å¯ä»¥æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é”®ç›˜å¿«æ·é”®æ¥æ‰“å¼€ï¼ˆMac ä¸Šæ˜¯ <code>CommandâŒ˜ + OptionâŒ¥ + I</code>ï¼ŒWindows ä¸Šæ˜¯ <code>Ctrl + Shift + Iæˆ–æ˜¯ F12</code>ï¼‰ã€‚æ‰“å¼€æœ‰ <a href="http://stackoverflow.com/questions/2233339/javascript-is-there-a-way-to-get-chrome-to-break-on-all-errors/17324511#17324511">å¼‚å¸¸æ—¶æš‚åœï¼ˆPause On Caught Exceptionsï¼‰</a> é€‰é¡¹ï¼Œèƒ½å¤Ÿè·å¾—æ›´å¥½çš„å¼€å‘ä½“éªŒã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šChrome ä¸­å¹¶ä¸èƒ½ç›´æ¥çœ‹åˆ° App çš„ç”¨æˆ·ç•Œé¢ï¼Œè€Œåªèƒ½æä¾› console çš„è¾“å‡ºï¼Œä»¥åŠåœ¨ sources é¡¹ä¸­æ–­ç‚¹è°ƒè¯• js è„šæœ¬ã€‚ä¸€äº›è€çš„æ•™ç¨‹å’Œæ–‡ç« ä¼šæåˆ° React çš„ Chrome æ’ä»¶ï¼Œè¿™ä¸€æ’ä»¶ç›®å‰å¹¶ä¸æ”¯æŒ React Nativeï¼Œè€Œä¸”è°ƒè¯•æœ¬èº«å¹¶ä¸éœ€è¦è¿™ä¸ªæ’ä»¶ã€‚ä¸è¿‡ä½ å¯ä»¥å®‰è£…ç‹¬ç«‹ï¼ˆéæ’ä»¶ï¼‰ç‰ˆæœ¬çš„ React Developer Tools æ¥è¾…åŠ©æŸ¥çœ‹ç•Œé¢å¸ƒå±€ï¼Œä¸‹æ–‡ä¼šè®²è¿°å…·ä½“å®‰è£…æ–¹æ³•ã€‚</p>
</blockquote>
<blockquote>
<p>æ³¨æ„ï¼šä½¿ç”¨ Chrome è°ƒè¯•ç›®å‰æ— æ³•è§‚æµ‹åˆ° React Native ä¸­çš„ç½‘ç»œè¯·æ±‚ï¼Œä½ å¯ä»¥ä½¿ç”¨åŠŸèƒ½æ›´å¼ºå¤§çš„ç¬¬ä¸‰æ–¹çš„ <a href="https://github.com/jhen0409/react-native-debugger">react-native-debugger</a>æ¥è¿›è¡Œè§‚æµ‹ã€‚</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="ä½¿ç”¨è‡ªå®šä¹‰çš„-javascript-è°ƒè¯•å™¨æ¥è°ƒè¯•"></a><a href="#ä½¿ç”¨è‡ªå®šä¹‰çš„-javascript-è°ƒè¯•å™¨æ¥è°ƒè¯•" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨è‡ªå®šä¹‰çš„ JavaScript è°ƒè¯•å™¨æ¥è°ƒè¯•</h3>
<p>å¦‚æœæƒ³ç”¨å…¶ä»–çš„ JavaScript è°ƒè¯•å™¨æ¥ä»£æ›¿ Chromeï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªåä¸º <code>REACT_DEBUGGER</code> çš„ç¯å¢ƒå˜é‡ï¼Œå…¶å€¼ä¸ºå¯åŠ¨è‡ªå®šä¹‰è°ƒè¯•å™¨çš„å‘½ä»¤ã€‚è°ƒè¯•çš„æµç¨‹ä¾ç„¶æ˜¯ä»å¼€å‘è€…èœå•ä¸­çš„ &quot;Debug JS Remotely&quot; é€‰é¡¹å¼€å§‹ã€‚</p>
<p>è¢«æŒ‡å®šçš„è°ƒè¯•å™¨éœ€è¦çŸ¥é“é¡¹ç›®æ‰€åœ¨çš„ç›®å½•ï¼ˆå¯ä»¥ä¸€æ¬¡ä¼ é€’å¤šä¸ªç›®å½•å‚æ•°ï¼Œä»¥ç©ºæ ¼éš”å¼€ï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è®¾å®šäº† <code>REACT_DEBUGGER=&quot;node /æŸä¸ªè·¯å¾„/launchDebugger.js --port 2345 --type ReactNative&quot;</code>ï¼Œé‚£ä¹ˆå¯åŠ¨è°ƒè¯•å™¨çš„å‘½ä»¤å°±åº”è¯¥æ˜¯ <code>node /æŸä¸ªè·¯å¾„/launchDebugger.js --port 2345 --type ReactNative /æŸä¸ªè·¯å¾„/ä½ çš„RNé¡¹ç›®ç›®å½•</code>ã€‚</p>
<blockquote>
<p>ä»¥è¿™ç§æ–¹å¼æ‰§è¡Œçš„è°ƒè¯•å™¨æœ€å¥½æ˜¯ä¸€ä¸ªçŸ­è¿›ç¨‹ï¼ˆshort-lived processesï¼‰ï¼ŒåŒæ—¶æœ€å¥½ä¹Ÿä¸è¦æœ‰è¶…è¿‡ 200k çš„æ–‡å­—è¾“å‡ºã€‚</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="ä½¿ç”¨-chrome-å¼€å‘è€…å·¥å…·æ¥åœ¨è®¾å¤‡ä¸Šè°ƒè¯•"></a><a href="#ä½¿ç”¨-chrome-å¼€å‘è€…å·¥å…·æ¥åœ¨è®¾å¤‡ä¸Šè°ƒè¯•" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ Chrome å¼€å‘è€…å·¥å…·æ¥åœ¨è®¾å¤‡ä¸Šè°ƒè¯•</h3>
<blockquote>
<p>If you're using Create React Native App, this is configured for you already.</p>
</blockquote>
<p>å¯¹äº iOS çœŸæœºæ¥è¯´ï¼Œéœ€è¦æ‰“å¼€ RCTWebSocketExecutor.m æ–‡ä»¶ï¼Œç„¶åå°†å…¶ä¸­çš„ &quot;localhost&quot; æ”¹ä¸ºä½ çš„ç”µè„‘çš„ IP åœ°å€ï¼Œæœ€åå¯ç”¨å¼€å‘è€…èœå•ä¸­çš„ &quot;Debug JS Remotely&quot; é€‰é¡¹ã€‚</p>
<p>å¯¹äº Android 5.0+è®¾å¤‡ï¼ˆåŒ…æ‹¬æ¨¡æ‹Ÿå™¨ï¼‰æ¥è¯´ï¼Œå°†è®¾å¤‡é€šè¿‡ USB è¿æ¥åˆ°ç”µè„‘ä¸Šåï¼Œå¯ä»¥ä½¿ç”¨adbå‘½ä»¤è¡Œå·¥å…·æ¥è®¾å®šä»è®¾å¤‡åˆ°ç”µè„‘çš„ç«¯å£è½¬å‘ï¼š</p>
<pre><code class="hljs css language-sh">adb reverse tcp:8081 tcp:8081
</code></pre>
<p>å¦‚æœè®¾å¤‡ Android ç‰ˆæœ¬åœ¨ 5.0 ä»¥ä¸‹ï¼Œåˆ™å¯ä»¥åœ¨å¼€å‘è€…èœå•ä¸­é€‰æ‹©&quot;Dev Settings - Debug server host for device&quot;ï¼Œç„¶ååœ¨å…¶ä¸­å¡«å…¥ç”µè„‘çš„â€IP åœ°å€:ç«¯å£â€œã€‚</p>
<p>å¦‚æœåœ¨ Chrome è°ƒè¯•æ—¶é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œé‚£æœ‰å¯èƒ½æ˜¯æŸäº› Chrome çš„æ’ä»¶å¼•èµ·çš„ã€‚è¯•ç€ç¦ç”¨æ‰€æœ‰çš„æ’ä»¶ï¼Œç„¶åé€ä¸ªå¯ç”¨ï¼Œä»¥ç¡®å®šæ˜¯å¦æŸä¸ªæ’ä»¶å½±å“åˆ°äº†è°ƒè¯•ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="ä½¿ç”¨-react-developer-tools-è°ƒè¯•"></a><a href="#ä½¿ç”¨-react-developer-tools-è°ƒè¯•" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ React Developer Tools è°ƒè¯•</h3>
<p>You can use <a href="https://github.com/facebook/react-devtools/tree/master/packages/react-devtools">the standalone version of React Developer Tools</a> to debug the React component hierarchy. To use it, install the react-devtools package globally:</p>
<pre><code class="hljs css language-sh">npm install -g react-devtools
</code></pre>
<blockquote>
<p>è¯‘æ³¨ï¼šreact-devtools ä¾èµ–äº electronï¼Œè€Œ electron éœ€è¦åˆ°å›½å¤–æœåŠ¡å™¨ä¸‹è½½äºŒè¿›åˆ¶åŒ…ï¼Œæ‰€ä»¥å›½å†…ç”¨æˆ·è¿™ä¸€æ­¥å¾ˆå¯èƒ½ä¼šå¡ä½ã€‚æ­¤æ—¶è¯·åœ¨ç¯å¢ƒå˜é‡ä¸­æ·»åŠ  electron ä¸“ç”¨çš„å›½å†…é•œåƒæºï¼šELECTRON_MIRROR=&quot;<a href="https://npm.taobao.org/mirrors/electron/">https://npm.taobao.org/mirrors/electron/</a>&quot;ï¼Œç„¶åå†å°è¯•å®‰è£… react-devtoolsã€‚</p>
</blockquote>
<p>å®‰è£…å®Œæˆååœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ <code>react-devtools</code> å³å¯å¯åŠ¨æ­¤å·¥å…·ï¼š</p>
<pre><code class="hljs css language-sh">react-devtools
</code></pre>
<p><img src="https://reactnative.cn/docs/assets/ReactDevTools.png" alt="image"></p>
<p>It should connect to your simulator within a few seconds.</p>
<blockquote>
<p>Note: if you prefer to avoid global installations, you can add react-devtools as a project dependency. Add the react-devtools package to your project using npm install --save-dev react-devtools, then add &quot;react-devtools&quot;: &quot;react-devtools&quot; to the scripts section in your package.json, and then run npm run react-devtools from your project folder to open the DevTools.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="integration-with-react-native-inspector"></a><a href="#integration-with-react-native-inspector" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Integration with React Native Inspector</h4>
<p>Open the in-app developer menu and choose &quot;Show Inspector&quot;. It will bring up an overlay that lets you tap on any UI element and see information about it:</p>
<p><img src="https://reactnative.cn/docs/assets/Inspector.gif" alt="image"></p>
<p>However, when <code>react-devtools</code> is running, Inspector will enter a special collapsed mode, and instead use the DevTools as primary UI. In this mode, clicking on something in the simulator will bring up the relevant components in the DevTools:</p>
<p><img src="https://reactnative.cn/docs/assets/ReactDevToolsInspector.gif" alt="image"></p>
<p>You can choose &quot;Hide Inspector&quot; in the same menu to exit this mode.</p>
<h4><a class="anchor" aria-hidden="true" id="inspecting-component-instances"></a><a href="#inspecting-component-instances" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Inspecting Component Instances</h4>
<p>When debugging JavaScript in Chrome, you can inspect the props and state of the React components in the browser console.</p>
<p>First, follow the instructions for debugging in Chrome to open the Chrome console.</p>
<p>Make sure that the dropdown in the top left corner of the Chrome console says <code>debuggerWorker.js</code>. This step is essential.</p>
<p>Then select a React component in React DevTools. There is a search box at the top that helps you find one by name. As soon as you select it, it will be available as <code>$r</code> in the Chrome console, letting you inspect its props, state, and instance properties.</p>
<p><img src="https://reactnative.cn/docs/assets/ReactDevToolsDollarR.gif" alt="image"></p>
<h3><a class="anchor" aria-hidden="true" id="ä½¿ç”¨-react-native-debugger-è°ƒè¯•"></a><a href="#ä½¿ç”¨-react-native-debugger-è°ƒè¯•" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ React Native Debugger è°ƒè¯•</h3>
<p><a href="https://github.com/jhen0409/react-native-debugger">React Native Debugger </a>ï¼Œä¸€ä¸ªåŸºäº React Native å®˜æ–¹è°ƒè¯•æ–¹å¼ã€åŒ…å« React Inspector / Redux DevTools ç‹¬ç«‹åº”ç”¨ï¼š</p>
<ul>
<li>åŸºäºå®˜æ–¹çš„ <a href="https://facebook.github.io/react-native/docs/debugging.html#chrome-developer-tools">Remote Debugger</a> ä¸”æä¾›äº†æ›´ä¸ºä¸°å¯Œçš„åŠŸèƒ½</li>
<li>åŒ…å« <a href="https://github.com/facebook/react-devtools/tree/master/packages/react-devtools-core"><code>react-devtools-core</code></a> çš„ <a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/react-devtools-integration.md">React Inspector</a></li>
<li>åŒ…å« Redux DevToolsï¼Œä¸”ä¸ <a href="https://github.com/zalmoxisus/redux-devtools-extension"><code>redux-devtools-extension</code></a> ä¿æŒ <a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/redux-devtools-integration.md">API</a> ä¸€è‡´</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/3001525/29451479-6621bf1a-83c8-11e7-8ebb-b4e98b1af91c.png" alt="image"></p>
<h4><a class="anchor" aria-hidden="true" id="å®‰è£…"></a><a href="#å®‰è£…" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å®‰è£…</h4>
<p>ä¸åŒå¹³å°åŠç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œè¯·ç‚¹å‡»<a href="https://github.com/jhen0409/react-native-debugger/releases">è¿™é‡Œ</a>ã€‚</p>
<p><strong>macOS</strong> å¹³å°å¯ä»¥ä½¿ç”¨ <a href="https://caskroom.github.io/">Homebrew Cask</a> å®‰è£…ï¼š</p>
<pre><code class="hljs css language-sh">$ brew update &amp;&amp; brew cask install react-native-debugger
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="å¯åŠ¨"></a><a href="#å¯åŠ¨" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¯åŠ¨</h4>
<p>åœ¨å¯åŠ¨ React Native Debugger ä¹‹å‰ï¼Œè¯·å…ˆç¡®è®¤ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>æ‰€æœ‰çš„ React Native çš„ debugger å®¢æˆ·ç«¯å·²å…³é—­ï¼Œç‰¹åˆ«æ˜¯ <code>http://localhost:&lt;port&gt;/debugger-ui</code></li>
<li>React Native Debugger ä¼šå°è¯•è¿æ¥ debugger ä»£ç†ï¼Œ React Native é»˜è®¤ä½¿ç”¨ <code>8081</code> ç«¯å£ï¼Œ ä½ å¯ä»¥æ–°å»ºä¸€ä¸ª debugger çª—å£ (macOS: <code>Command + T</code>ï¼ŒLinux/Windows: <code>Ctrl + T</code>) å¼€å®šä¹‰ç«¯å£</li>
<li>ä¿è¯ <a href="https://facebook.github.io/react-native/docs/debugging.html#accessing-the-in-app-developer-menu">developer menu</a>  çš„  <code>Debug JS Remotely</code> å¤„äºå¼€å¯çŠ¶æ€</li>
</ul>
<p>ä½ å¯ä»¥å¯åŠ¨åº”ç”¨ä¹‹åå†ä¿®æ”¹ç«¯å£ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨åº”ç”¨æ—¶æŒ‡å®šç«¯å£ï¼š</p>
<pre><code class="hljs css language-sh">$ open <span class="hljs-string">"rndebugger://set-debugger-loc?host=localhost&amp;port=8081"</span>
</code></pre>
<blockquote>
<p>å¦‚æœå¯åŠ¨ä¹‹åè°ƒè¯•çª—å£ç©ºç™½ï¼Œè¯·ç¡®è®¤è°ƒè¯•ç«¯å£æ­£ç¡®ã€‚</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="ä½¿ç”¨-redux-devtools-extension-api"></a><a href="#ä½¿ç”¨-redux-devtools-extension-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ Redux DevTools Extension API</h4>
<p>Use the same API as <a href="https://github.com/zalmoxisus/redux-devtools-extension#1-with-redux"><code>redux-devtools-extension</code></a> is very simple:</p>
<pre><code class="hljs css language-jsx"><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span> <span class="token comment">/* preloadedState, */</span>
  window<span class="token punctuation">.</span>__REDUX_DEVTOOLS_EXTENSION__ <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">__REDUX_DEVTOOLS_EXTENSION__</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre>
<p>See <a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/redux-devtools-integration.md"><code>Redux DevTools Integration</code></a> section for more information.</p>
<h4><a class="anchor" aria-hidden="true" id="æ›´å¤šèµ„æ–™"></a><a href="#æ›´å¤šèµ„æ–™" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ›´å¤šèµ„æ–™</h4>
<ul>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/getting-started.md">å¿«é€Ÿå¼€å§‹</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/debugger-integration.md">Debugger æ•´åˆ</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/react-devtools-integration.md">React DevTools æ•´åˆ</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/redux-devtools-integration.md">Redux DevTools æ•´åˆ</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/shortcut-references.md">Shortcut references</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/network-inspect-of-chrome-devtools.md">Network inspect of Chrome Developer Tools</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/enable-open-in-editor-in-console.md">Enable open in editor in console</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/troubleshooting.md">Troubleshooting</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger/blob/master/docs/contributing.md">Contributing</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="ä½¿ç”¨åŸç”Ÿæ¨¡å—"></a><a href="#ä½¿ç”¨åŸç”Ÿæ¨¡å—" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨åŸç”Ÿæ¨¡å—</h2>
<p>æœ‰ä¸€äº›å¹³å°æ€§çš„å·®å¼‚æ˜¯ Taro æ— æ³•æŠ¹å¹³çš„ï¼Œæ¯”å¦‚æ”¯ä»˜ã€ç™»å½•ç­‰ï¼Œè¿™æ—¶å€™å°±éœ€è¦è‡ªå·±å†™è·¨ç«¯ä»£ç ï¼ŒRN ç«¯è¿™è¾¹å¯èƒ½è¿˜éœ€è¦ä¿®æ”¹åŸç”Ÿä»£ç ã€‚</p>
<p>ä¾‹å¦‚ç™»å½•çš„åŠŸèƒ½ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/9441951/56015544-ff513600-5d2b-11e9-92a6-ad01d21b2b8f.png" alt="image"></p>
<p>React Native å‚è€ƒæ–‡æ¡£:<a href="https://reactnative.cn/docs/0.55/native-modules-ios/">åŸç”Ÿæ¨¡å—</a></p>
<h2><a class="anchor" aria-hidden="true" id="é›†æˆåˆ°ç°æœ‰åŸç”Ÿ-app"></a><a href="#é›†æˆåˆ°ç°æœ‰åŸç”Ÿ-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é›†æˆåˆ°ç°æœ‰åŸç”Ÿ app</h2>
<p>Taro  ç¼–è¯‘åçš„é¡¹ç›®å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª native React Native é¡¹ç›®ï¼Œæ‰€ä»¥é›†æˆåˆ°ç°æœ‰åŸç”Ÿ app çš„æµç¨‹å’Œ React Native ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p>
<p>å¦‚æœä½ æ­£å‡†å¤‡ä»å¤´å¼€å§‹åˆ¶ä½œä¸€ä¸ªæ–°çš„åº”ç”¨ï¼Œé‚£ä¹ˆ React Native ä¼šæ˜¯ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚ä½†å¦‚æœä½ åªæƒ³ç»™ç°æœ‰çš„åŸç”Ÿåº”ç”¨ä¸­æ·»åŠ ä¸€ä¸¤ä¸ªè§†å›¾æˆ–æ˜¯ä¸šåŠ¡æµç¨‹ï¼ŒReact Native ä¹ŸåŒæ ·ä¸åœ¨è¯ä¸‹ã€‚åªéœ€ç®€å•å‡ æ­¥ï¼Œä½ å°±å¯ä»¥ç»™åŸæœ‰åº”ç”¨åŠ ä¸Šæ–°çš„åŸºäº React Native çš„ç‰¹æ€§ã€ç”»é¢å’Œè§†å›¾ç­‰ã€‚</p>
<p>React Native å‚è€ƒæ–‡æ¡£ï¼š<a href="https://reactnative.cn/docs/0.55/integration-with-existing-apps/">é›†æˆåˆ°ç°æœ‰åŸç”Ÿåº”ç”¨</a></p>
<h2><a class="anchor" aria-hidden="true" id="æ„å»ºç‹¬ç«‹-app"></a><a href="#æ„å»ºç‹¬ç«‹-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ„å»ºç‹¬ç«‹ app</h2>
<p>æ¥ä¸‹æ¥çš„æ­¥éª¤å°†ä¼šå¸®åŠ©ä½ ä¸º iOS å’Œ Android åˆ›å»º Expo åº”ç”¨ç¨‹åºçš„ç‹¬ç«‹äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶å°†å…¶æäº¤åˆ° Apple App Store å’Œ Google Play Storeã€‚</p>
<p>æ„å»º iOS ç‹¬ç«‹åº”ç”¨ç¨‹åºéœ€è¦ Apple Developer å¸æˆ·ï¼Œä½†æ„å»º Android ç‹¬ç«‹åº”ç”¨ç¨‹åºä¸éœ€è¦ Google Play Developer å¸æˆ·ã€‚å¦‚æœæ‚¨æƒ³è¦æäº¤åˆ°ä»»ä¸€åº”ç”¨å•†åº—ï¼Œæ‚¨å°†éœ€è¦è¯¥å•†åº—çš„å¼€å‘è€…å¸æˆ·ã€‚</p>
<p>åœ¨æ‰“åŒ…å‘å¸ƒæ­¥éª¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¯¹å¼€å‘è€…çš„æºä»£ç è¿›è¡Œé¢„å¤„ç†ï¼Œå°† Taro ä»£ç è½¬æˆ React Native ä»£ç ï¼š</p>
<pre><code class="hljs css language-bash">taro build --type rn
</code></pre>
<p>ç„¶å <code>.rn_temp</code> ç›®å½•ï¼ˆå¦‚æœä½ æ²¡æœ‰ä¿®æ”¹ï¼‰ä¸‹ä¼šç”Ÿæˆè½¬æ¢åçš„ React Native ä»£ç ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="é…ç½®-appjson"></a><a href="#é…ç½®-appjson" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é…ç½® app.json</h3>
<p>åœ¨ config ç›®å½•é…ç½®ï¼Œå¦‚ï¼š</p>
<pre><code class="hljs css language-json">rn: {
  appJson: {
      "name": "Your App Name",
  }
}
</code></pre>
<p>Taro ä¼šè¯»å– appJson å­—æ®µçš„å†…å®¹ä¸”è‡ªåŠ¨è¦†ç›–åˆ° .rn_temp/app.jsonã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="æ„å»º-app"></a><a href="#æ„å»º-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ„å»º app</h3>
<p>é¦–å…ˆä½¿ç”¨ React Native çš„ bundle å‘½ä»¤å°† rn_temp ç›®å½•ä¸‹çš„ RN ä»£ç åŠèµ„æºæ‰“åŒ…æˆ jsbundleï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs css language-sh">node ../node_modules/react-native/<span class="hljs-built_in">local</span>-cli/cli.js bundle --entry-file ./rn_temp/index.js --bundle-output ./bundle/index.bundle --assets-dest ./<span class="hljs-variable">${BUNDLE_DIR_NAME}</span> --dev <span class="hljs-literal">false</span>
</code></pre>
<p>å…¶ä¸­å‚æ•°å¯ä»¥è‡ªè¡Œè°ƒæ•´ï¼Œ<code>--bundle-output</code> å¯ä»¥åˆ¶å®šä»»æ„ç›®å½•ï¼Œç„¶åå°† bundle ç›®å½•ä¸‹çš„æ–‡ä»¶ copy åˆ° <code>taro-native-shell</code>ç›®å½•å³å¯ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®š <code>--bundle-output</code> ç›´æ¥æ‰“åŒ…åˆ° <code>taro-native-shell</code>ç›®å½•ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§ React Native çš„æ–‡æ¡£æŒ‰ç…§ä¸åŒçš„ç«¯åˆ†åˆ«æ‰“åŒ…å¯¹åº”çš„åº”ç”¨å³å¯ã€‚</p>
<h4><a class="anchor" aria-hidden="true" id="ios-1"></a><a href="#ios-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>iOS</h4>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://reactnative.cn/docs/0.55/running-on-device/">åœ¨è®¾å¤‡ä¸Šè¿è¡Œ</a></p>
<h4><a class="anchor" aria-hidden="true" id="android-1"></a><a href="#android-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Android</h4>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://reactnative.cn/docs/0.55/signed-apk-android/">æ‰“åŒ…APK</a></p>
<h2><a class="anchor" aria-hidden="true" id="å‘å¸ƒ"></a><a href="#å‘å¸ƒ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å‘å¸ƒ</h2>
<p>æ‰“åŒ…å¥½çš„åº”ç”¨å‘å¸ƒåˆ° App Store æˆ–å„å¤§åº”ç”¨å•†åº—å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</p>
<ul>
<li><a href="https://help.apple.com/app-store-connect/#/dev34e9bbb5a">Overview of publishing an app</a></li>
<li><a href="https://developer.android.com/studio/publish">Publish your app | Android Developers</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="æ›´æ–°-react-native-ç‰ˆæœ¬"></a><a href="#æ›´æ–°-react-native-ç‰ˆæœ¬" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ›´æ–° React Native ç‰ˆæœ¬</h2>
<p>Taro RN ç‰ˆæœ¬æš‚æ—¶å›ºå®šåœ¨ 0.55.4 ,ç”¨æˆ·å¦‚æœ‰éœ€æ±‚ï¼Œå¯ä»¥è‡ªè¡Œå‡çº§åˆ°æ›´é«˜ç‰ˆæœ¬ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ›´æ–° Taro é¡¹ç›®ä¸­ <code>package.json</code> React Native ç‰ˆæœ¬ï¼Œå¹¶é‡æ–°å®‰è£…ä¾èµ–</li>
<li>æ›´æ–° <code>taro-native-shell</code> é¡¹ç›®ä¸­ <code>package.json</code>  React Native ç‰ˆæœ¬ï¼Œå¹¶é‡æ–°å®‰è£…ä¾èµ–</li>
<li>åˆ†åˆ«é‡æ–°å®‰è£… <code>taro-native-shell</code> é¡¹ç›®ä¸­ ios/android ä¾èµ–ï¼Œå¦‚ iOSï¼š<code>cd ios &amp;&amp; pod install</code></li>
</ol>
<blockquote>
<p>å¦‚æœå¯¹ react ç‰ˆæœ¬æœ‰è¦æ±‚ï¼Œå¯ä»¥åŒæ­¥æ›´æ–°ã€‚</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="å¸¸è§é”™è¯¯"></a><a href="#å¸¸è§é”™è¯¯" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¸¸è§é”™è¯¯</h2>
<h3><a class="anchor" aria-hidden="true" id="no-bundle-url-present"></a><a href="#no-bundle-url-present" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No bundle url present</h3>
<p>å¯¼è‡´è¿™ä¸ªæŠ¥é”™çš„åŸå› å¾ˆå¤šï¼Œæœ€å¸¸è§çš„æ˜¯ç”µè„‘å¼€äº†ä»£ç†ã€‚å…·ä½“å¯ä»¥å‚è€ƒ <a href="https://github.com/facebook/react-native/issues/12754">#12754</a></p>
<h3><a class="anchor" aria-hidden="true" id="unabletoresolveerror-unable-to-resolve-module-accessibilityinfo"></a><a href="#unabletoresolveerror-unable-to-resolve-module-accessibilityinfo" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>UnableToResolveError: Unable to resolve module <code>AccessibilityInfo</code></h3>
<p>åŸå› å¾ˆå¤šï¼Œæˆ‘è¿™è¾¹æ˜¯é‡å¯ç”µè„‘å°±å¥½äº†ğŸ˜‚ã€‚ å…·ä½“å¯ä»¥æŸ¥çœ‹ <a href="https://github.com/facebook/react-native/issues/14209">#14209</a></p>
<h3><a class="anchor" aria-hidden="true" id="metro-bundler-error-expected-path-to-be-relative-to-one-of-the-project-roots"></a><a href="#metro-bundler-error-expected-path-to-be-relative-to-one-of-the-project-roots" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Metro Bundler error: Expected path [â€¦] to be relative to one of the project roots</h3>
<p>ä¸æ”¯æŒ <code>npm link</code>ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://github.com/nicojs/node-install-local">nicojs/node-install-local</a> æ›¿ä»£ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="image-component-does-not-resolve-images-with-filenames-that-include-symbol"></a><a href="#image-component-does-not-resolve-images-with-filenames-that-include-symbol" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Image component does not resolve images with filenames that include '@' symbol</h3>
<p><img src="https://user-images.githubusercontent.com/22125059/44312799-373dee80-a3d4-11e8-8367-9cf44e851739.PNG" alt="image"></p>
<p>React Native ä¸æ”¯æŒè·¯å¾„ä¸­å¸¦ @ ç¬¦å·ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹ <a href="https://github.com/facebook/react-native/issues/14980">#14980</a>ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="the-development-server-returned-response-error-code-500"></a><a href="#the-development-server-returned-response-error-code-500" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The development server returned response error code 500</h3>
<p><img src="https://user-images.githubusercontent.com/25324938/41452372-42c1e766-708f-11e8-96ce-323eaa1eb03f.jpeg" alt="image">
å¤šåŠæ˜¯ä¾èµ–çš„é—®é¢˜ï¼Œè¿›å…¥ <code>.rn_temp/</code> ç›®å½•ï¼Œç„¶ååˆ é™¤ npm ä¾èµ–ï¼Œåœ¨é‡æ–°å®‰è£…å°±å¯ä»¥äº†ã€‚
ä¹Ÿå¯ä»¥è¯•ä¸€ä¸‹ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs css language-shell">watchman watch-del-all
rm -rf node_modules &amp;&amp; npm install
rm -fr $TMPDIR/react-*
</code></pre>
<p>å…·ä½“å¯ä»¥å‚è€ƒ <a href="https://github.com/expo/expo/issues/1282">#1282</a></p>
<h3><a class="anchor" aria-hidden="true" id="app-åŠ è½½é˜»å¡-building-javascript-bundle-100"></a><a href="#app-åŠ è½½é˜»å¡-building-javascript-bundle-100" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>app åŠ è½½é˜»å¡ï¼š &quot;Building JavaScript bundle... 100%&quot;</h3>
<p><img src="https://user-images.githubusercontent.com/9441951/47762170-7bb00980-dcf6-11e8-95ab-41152076c3de.png" alt="image"></p>
<p>å¯èƒ½çš„åŸå› å¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ª issueï¼š<a href="https://github.com/react-community/create-react-native-app/issues/392">react-community/create-react-native-app#392</a></p>
<h2><a class="anchor" aria-hidden="true" id="å‚è€ƒ"></a><a href="#å‚è€ƒ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å‚è€ƒ</h2>
<ul>
<li><a href="https://reactnative.cn/">React Native ä¸­æ–‡ç½‘</a></li>
<li><a href="https://developer.android.com/guide?hl=zh-cn">Android å¼€å‘æ–‡æ¡£</a></li>
<li><a href="https://developer.android.com/studio/intro?hl=zh-cn">Android Studio ç”¨æˆ·æŒ‡å—</a></li>
<li><a href="https://developer.apple.com/documentation/">Apple Developer Documentation</a></li>
<li><a href="https://github.com/jhen0409/react-native-debugger">React Native Debugger </a></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/taro/docs/1.3.24/quick-app.html"><span class="arrow-prev">â† </span><span>å¿«åº”ç”¨ç«¯å¼€å‘æµç¨‹</span></a><a class="docs-next button" href="/taro/docs/1.3.24/debug.html"><span>Debug æŒ‡å—</span><span class="arrow-next"> â†’</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#ç®€ä»‹">ç®€ä»‹</a></li><li><a href="#æ­å»º-ios-å¼€å‘ç¯å¢ƒ">æ­å»º iOS å¼€å‘ç¯å¢ƒ</a><ul class="toc-headings"><li><a href="#node-watchman">Node, Watchman</a></li><li><a href="#yarn-react-native-çš„å‘½ä»¤è¡Œå·¥å…·-react-native-cli">Yarnã€React Native çš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆreact-native-cliï¼‰</a></li><li><a href="#xcode">Xcode</a></li></ul></li><li><a href="#æ­å»º-android-å¼€å‘ç¯å¢ƒ">æ­å»º Android å¼€å‘ç¯å¢ƒ</a><ul class="toc-headings"><li><a href="#å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–</a></li><li><a href="#java-development-kit">Java Development Kit</a></li><li><a href="#android-å¼€å‘ç¯å¢ƒ">Android å¼€å‘ç¯å¢ƒ</a></li><li><a href="#å‡†å¤‡-android-è®¾å¤‡">å‡†å¤‡ Android è®¾å¤‡</a></li></ul></li><li><a href="#å¼€å‘">å¼€å‘</a><ul class="toc-headings"><li><a href="#ç¼–è¯‘">ç¼–è¯‘</a></li><li><a href="#å¯åŠ¨åº”ç”¨">å¯åŠ¨åº”ç”¨</a></li><li><a href="#ios">iOS</a></li><li><a href="#android">Android</a></li><li><a href="#åœ¨æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œ">åœ¨æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œ</a></li></ul></li><li><a href="#è°ƒè¯•">è°ƒè¯•</a><ul class="toc-headings"><li><a href="#å¼€å‘è€…èœå•">å¼€å‘è€…èœå•</a></li><li><a href="#åˆ·æ–°-javascript">åˆ·æ–° JavaScript</a></li><li><a href="#åº”ç”¨å†…çš„é”™è¯¯ä¸è­¦å‘Šæç¤º-çº¢å±å’Œé»„å±">åº”ç”¨å†…çš„é”™è¯¯ä¸è­¦å‘Šæç¤ºï¼ˆçº¢å±å’Œé»„å±ï¼‰</a></li><li><a href="#çº¢å±é”™è¯¯">çº¢å±é”™è¯¯</a></li><li><a href="#é»„å±è­¦å‘Š">é»„å±è­¦å‘Š</a></li><li><a href="#chrome-å¼€å‘è€…å·¥å…·">Chrome å¼€å‘è€…å·¥å…·</a></li><li><a href="#ä½¿ç”¨è‡ªå®šä¹‰çš„-javascript-è°ƒè¯•å™¨æ¥è°ƒè¯•">ä½¿ç”¨è‡ªå®šä¹‰çš„ JavaScript è°ƒè¯•å™¨æ¥è°ƒè¯•</a></li><li><a href="#ä½¿ç”¨-chrome-å¼€å‘è€…å·¥å…·æ¥åœ¨è®¾å¤‡ä¸Šè°ƒè¯•">ä½¿ç”¨ Chrome å¼€å‘è€…å·¥å…·æ¥åœ¨è®¾å¤‡ä¸Šè°ƒè¯•</a></li><li><a href="#ä½¿ç”¨-react-developer-tools-è°ƒè¯•">ä½¿ç”¨ React Developer Tools è°ƒè¯•</a></li><li><a href="#ä½¿ç”¨-react-native-debugger-è°ƒè¯•">ä½¿ç”¨ React Native Debugger è°ƒè¯•</a></li></ul></li><li><a href="#ä½¿ç”¨åŸç”Ÿæ¨¡å—">ä½¿ç”¨åŸç”Ÿæ¨¡å—</a></li><li><a href="#é›†æˆåˆ°ç°æœ‰åŸç”Ÿ-app">é›†æˆåˆ°ç°æœ‰åŸç”Ÿ app</a></li><li><a href="#æ„å»ºç‹¬ç«‹-app">æ„å»ºç‹¬ç«‹ app</a><ul class="toc-headings"><li><a href="#é…ç½®-appjson">é…ç½® app.json</a></li><li><a href="#æ„å»º-app">æ„å»º app</a></li></ul></li><li><a href="#å‘å¸ƒ">å‘å¸ƒ</a></li><li><a href="#æ›´æ–°-react-native-ç‰ˆæœ¬">æ›´æ–° React Native ç‰ˆæœ¬</a></li><li><a href="#å¸¸è§é”™è¯¯">å¸¸è§é”™è¯¯</a><ul class="toc-headings"><li><a href="#no-bundle-url-present">No bundle url present</a></li><li><a href="#unabletoresolveerror-unable-to-resolve-module-accessibilityinfo">UnableToResolveError: Unable to resolve module <code>AccessibilityInfo</code></a></li><li><a href="#metro-bundler-error-expected-path-to-be-relative-to-one-of-the-project-roots">Metro Bundler error: Expected path [â€¦] to be relative to one of the project roots</a></li><li><a href="#image-component-does-not-resolve-images-with-filenames-that-include-symbol">Image component does not resolve images with filenames that include '@' symbol</a></li><li><a href="#the-development-server-returned-response-error-code-500">The development server returned response error code 500</a></li><li><a href="#app-åŠ è½½é˜»å¡-building-javascript-bundle-100">app åŠ è½½é˜»å¡ï¼š &quot;Building JavaScript bundle... 100%&quot;</a></li></ul></li><li><a href="#å‚è€ƒ">å‚è€ƒ</a></li></ul></nav></div><footer class="footer" id="footer"><div class="grid_c1 footer_cont"><div class="footer_logo_container"><div class="footer_logo"></div><span class="footer_designedby"></span></div><div class="footer_link_container"><div class="footer_link"><h3 class="footer_link_tit footer_link_tit1">ç›¸å…³èµ„æº</h3><p><a class="link" href="https://taro.jd.com/" target="_blank">Taro</a></p><p><a class="link" href="https://taro-ui.jd.com/" target="_blank">Taro UI</a></p><p><a class="link" href="https://at-ui.github.io/at-ui/#/zh" target="_blank">At-UI</a></p><p><a class="link" href="https://nerv.aotu.io/" target="_blank">Nerv</a></p><p><a class="link" href="https://athena.aotu.io/" target="_blank">Athena</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit2">ç¤¾åŒº</h3><p><a href="https://github.com/NervJS/taro/issues" target="_blank">GitHub</a></p><p><a href="https://taro-club.jd.com" target="_blank">Taro BBS</a></p><p class="footer_link_connect_wrap"><span class="footer_link_connect footer_link_wechat">å¾®ä¿¡<span class="wechat_qrcode_icon"><svg t="1554966525626" class="icon svgicon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2588" data-spm-anchor-id="a313x.7781069.0.i0"><path d="M240.071 241.095h59.278v59.278h-59.278v-59.278z" fill="" p-id="2589"></path><path d="M405.959 134.485h-272.611v272.611h106.723v47.445h59.278v-47.445h106.723v-59.278h47.445v-47.445h-47.445l-0.114-165.888zM346.795 347.819h-154.169v-154.055h154.055v154.055h0.114zM240.071 727.154h59.278v59.278h-59.278v-59.278zM726.016 241.095h59.278v59.278h-59.278v-59.278zM512.683 509.042v63.943h59.278v-59.165h47.445v-59.278h-47.445v-47.445h-59.278v101.945zM512.683 725.789v60.643h59.278v-106.723h47.445v-59.278h-106.723v105.358zM571.961 786.432h47.445v47.445h-47.445v-47.445zM453.405 833.877v59.165h118.557v-59.165h-118.557z" fill="" p-id="2590"></path><path d="M678.685 679.709h-59.278v106.723h106.61v-59.278h-47.331v-47.445zM726.016 893.042h166.002v-59.165h-106.723v-47.445h-59.278v106.61zM892.018 513.821v-59.278h-106.723v59.278h106.723zM832.739 727.154h59.278v59.278h-59.278v-59.278zM453.405 347.819h59.278v59.278h-59.278v-59.278zM726.016 454.542v-47.445h166.002v-272.611h-272.611v59.278h-106.723v47.445h106.723v59.165h-47.445v47.445h47.445v59.278h59.278v47.445h47.331zM678.685 193.763h154.055v154.055h-154.055v-154.055zM678.685 572.985h47.331v47.445h-47.331v-47.445zM785.294 679.709h-59.278v47.445h106.723v-106.723h59.278v-47.445h-106.723v106.723zM453.405 241.095h59.278v59.278h-59.278v-59.278zM299.349 513.821h47.445v59.165h-47.445v-59.165zM453.405 454.542h-106.61v59.278h59.165v59.165h47.445v-118.443z" fill="" p-id="2591"></path><path d="M405.959 786.432v-106.723h47.445v-59.278h-213.333v-106.61h-106.723v59.278h59.278v47.445h-59.278v272.611h272.611v-59.278h47.445v-47.445h-47.445zM346.795 833.877h-154.169v-154.169h154.055v154.169h0.114zM453.405 572.985h59.278v47.445h-59.278v-47.445zM619.406 513.821h59.278v59.165h-59.278v-59.165zM726.016 513.821h59.278v59.165h-59.278v-59.165z" fill="" p-id="2592"></path></svg></span></span><span class="footer_link_wechat_img"><img src="https://img11.360buyimg.com/ling/jfs/t1/105094/21/15729/35411/5e74e903Ed1490359/5991e49a33964c93.png"/></span></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit3">å…³äºæˆ‘ä»¬</h3><p><a href="https://aotu.io/" target="_blank">å‡¹å‡¸å®éªŒå®¤</a></p><p><a href="https://aotu.io/join/" target="_blank">åŠ å…¥æˆ‘ä»¬</a></p><p><a href="mailto:taro@jd.com?subject=ã€Taro åˆä½œã€‘åˆä½œæ ‡é¢˜">è”ç³»æˆ‘ä»¬</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit4">æ„Ÿè°¢</h3><p><a href="http://jdc.jd.com/" target="_blank">ç”¨æˆ·ä½“éªŒè®¾è®¡éƒ¨</a></p><p><a href="https://github.com/nervjs/taro#%E8%B4%A1%E7%8C%AE%E8%80%85%E4%BB%AC" target="_blank">Taro è´¡çŒ®è€…ä»¬</a></p></div></div></div><div class="copyright"><div class="in">Copyright Â© 2019. All Rights Reserved. ç²¤ICPå¤‡15077732å·-2</div></div></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '57b9948bff42bc0dbc6c219556fbae35',
                indexName: 'taro',
                inputSelector: '#search_input_react'
              });
            </script></body></html>