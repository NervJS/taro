<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="search" type="application/opensearchdescription+xml" title="Taro æ–‡æ¡£" href="/taro/opensearch.xml">
<script src="https://storage.jd.com/taro-resource/tongji.js" async></script>
<script src="https://storage.jd.com/taro-docs/taro-doc-hotjar.js" async></script><title data-react-helmet="true">Debug æŒ‡å— | Taro æ–‡æ¡£</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="3.2.0-canary.3"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-3.2.0-canary.3"><meta data-react-helmet="true" property="og:title" content="Debug æŒ‡å— | Taro æ–‡æ¡£"><meta data-react-helmet="true" name="description" content="å’Œæ‰€æœ‰æ¡†æ¶ä¸€æ ·ï¼ŒTaro ä¹Ÿå¯èƒ½å­˜åœ¨ bugã€‚å½“ä½ è®¤ä¸ºä½ çš„ä»£ç æ²¡æœ‰é—®é¢˜ï¼Œé—®é¢˜å‡ºåœ¨ Taro æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æœ¬ç« å†…å®¹è¿›è¡Œè°ƒè¯•ã€‚"><meta data-react-helmet="true" property="og:description" content="å’Œæ‰€æœ‰æ¡†æ¶ä¸€æ ·ï¼ŒTaro ä¹Ÿå¯èƒ½å­˜åœ¨ bugã€‚å½“ä½ è®¤ä¸ºä½ çš„ä»£ç æ²¡æœ‰é—®é¢˜ï¼Œé—®é¢˜å‡ºåœ¨ Taro æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æœ¬ç« å†…å®¹è¿›è¡Œè°ƒè¯•ã€‚"><meta data-react-helmet="true" property="og:url" content="https://nervjs.github.io/taro/docs/3.2.0-canary.3/debug"><link data-react-helmet="true" rel="shortcut icon" href="/taro/./img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://nervjs.github.io/taro/docs/3.2.0-canary.3/debug"><link rel="stylesheet" href="/taro/styles.9b04ed7b.css">
<link rel="preload" href="/taro/styles.74fef534.js" as="script">
<link rel="preload" href="/taro/runtime~main.16d0eaa5.js" as="script">
<link rel="preload" href="/taro/main.67080be0.js" as="script">
<link rel="preload" href="/taro/1.af866ae7.js" as="script">
<link rel="preload" href="/taro/2.92e2c04b.js" as="script">
<link rel="preload" href="/taro/1be78505.280d62f0.js" as="script">
<link rel="preload" href="/taro/ee7f804b.f6730b4c.js" as="script">
<link rel="preload" href="/taro/17896441.5e392a47.js" as="script">
<link rel="preload" href="/taro/7724d845.fd60538b.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/taro/"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Taro</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/taro/docs/3.2.0-canary.3/README">3.2.0-canary.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/taro/docs/next/debug">ä¸‹ä¸ªç‰ˆæœ¬</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/taro/docs/3.2.0-canary.3/debug">3.2.0-canary.3</a></li><li><a class="dropdown__link" href="/taro/docs/debug">3.x</a></li><li><a class="dropdown__link" href="/taro/docs/2.x/debug">2.x</a></li><li><a class="dropdown__link" href="/taro/docs/1.x/debug">1.x</a></li><li><a class="dropdown__link" href="/taro/versions">å…¨éƒ¨ç‰ˆæœ¬</a></li></ul></div><a class="navbar__item navbar__link" href="/taro/docs/3.2.0-canary.3/README">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/taro/docs/3.2.0-canary.3/components-desc">ç»„ä»¶åº“</a><a class="navbar__item navbar__link" href="/taro/docs/3.2.0-canary.3/apis/about/desc">API</a><a class="navbar__item navbar__link" href="/taro/docs/guide">æ•™ç¨‹</a><a class="navbar__item navbar__link" href="/taro/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/taro/showcase">æ¡ˆä¾‹</a></div><div class="navbar__items navbar__items--right"><a href="https://taro-ui.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Taro UI</a><a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ç‰©æ–™å¸‚åœº</a><a href="https://taro-club.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">è®ºå›</a><a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">äº¬ä¸œå°ç¨‹åº</a><a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/taro/"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Taro</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/taro/docs/next/debug">ä¸‹ä¸ªç‰ˆæœ¬</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/taro/docs/3.2.0-canary.3/debug">3.2.0-canary.3</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/debug">3.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/2.x/debug">2.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/1.x/debug">1.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/versions">å…¨éƒ¨ç‰ˆæœ¬</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/3.2.0-canary.3/README">æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/3.2.0-canary.3/components-desc">ç»„ä»¶åº“</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/3.2.0-canary.3/apis/about/desc">API</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/guide">æ•™ç¨‹</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/blog">åšå®¢</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/showcase">æ¡ˆä¾‹</a></li><li class="menu__list-item"><a href="https://taro-ui.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">Taro UI</a></li><li class="menu__list-item"><a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">ç‰©æ–™å¸‚åœº</a></li><li class="menu__list-item"><a href="https://taro-club.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">è®ºå›</a></li><li class="menu__list-item"><a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer" class="menu__link">äº¬ä¸œå°ç¨‹åº</a></li><li class="menu__list-item"><a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div></div><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 3.2.0-canary.3</span></div><header><h1 class="docTitle_1Lrw">Debug æŒ‡å—</h1></header><div class="markdown"><p>å’Œæ‰€æœ‰æ¡†æ¶ä¸€æ ·ï¼ŒTaro ä¹Ÿå¯èƒ½å­˜åœ¨ bugã€‚å½“ä½ è®¤ä¸ºä½ çš„ä»£ç æ²¡æœ‰é—®é¢˜ï¼Œé—®é¢˜å‡ºåœ¨ Taro æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æœ¬ç« å†…å®¹è¿›è¡Œè°ƒè¯•ã€‚</p><p>å½“ä½ åœ¨ Taro è¿›è¡Œ debug æ—¶ï¼Œè¯·å…ˆç¡®è®¤ä¸€ä¸‹æµç¨‹å‡å·²å®Œæˆï¼š</p><ol><li>ESLint å·²ç»å¼€å¯å¹¶ä¸”æ²¡æœ‰æŠ¥é”™ï¼›</li><li>å¤§è‡´è¿‡äº†ä¸€éåŒ…æ‹¬<a href="/taro/docs/3.2.0-canary.3/best-practice">æœ€ä½³å®è·µ</a>åœ¨å†…çš„æ–‡æ¡£ï¼Œæ–‡æ¡£é‡Œæ²¡æœ‰å¯¹åº”é—®é¢˜çš„æè¿°ï¼›</li><li>æœç´¢è¿‡ç›¸å…³çš„ issueï¼Œissue æ²¡æœ‰æåˆ°ç›¸å…³è§£å†³æ–¹æ¡ˆï¼›</li><li>æŒ‰é¡¹ç›®ä½¿ç”¨çš„ Taro ç‰ˆæœ¬å¾€ä¸ŠæŸ¥çœ‹ <a href="https://github.com/NervJS/taro/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">changelog</a>ï¼Œchangelog ä¸­æ²¡æœ‰æ„è§ä¿®å¤ç›¸å…³é—®é¢˜çš„æäº¤ï¼›</li></ol><p>å¾ˆå¤šæ—¶å€™åªè¦ä½ æŠŠä»¥ä¸Šå››ä¸ªæµç¨‹éƒ½èµ°ä¸€éï¼Œé‡åˆ°çš„é—®é¢˜å°±ä¼šè¿åˆƒè€Œè§£ã€‚è€Œä½œä¸ºä¸€ä¸ªå¤šç«¯æ¡†æ¶ï¼ŒTaro æœ‰éå¸¸å¤šçš„æ¨¡å—ï¼Œå½“å‡ºç°é—®é¢˜æ—¶ Taro ä¹Ÿéœ€è¦åˆ†æ¨¡å—è¿›è¡Œè°ƒè¯•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šä¸¾ä¸€äº›å·²ç»è§£å†³äº†çš„ bug æ ·ä¾‹ï¼Œé˜è¿°æˆ‘ä»¬è°ƒè¯• bug çš„æ€è·¯ï¼š</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å®‰è£…"></a>å®‰è£…<a class="hash-link" href="#å®‰è£…" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ä½¿ç”¨-yarn-å®‰è£…å®Œ-cli-æŠ¥é”™"></a>ä½¿ç”¨ yarn å®‰è£…å®Œ CLI æŠ¥é”™<a class="hash-link" href="#ä½¿ç”¨-yarn-å®‰è£…å®Œ-cli-æŠ¥é”™" title="Direct link to heading">#</a></h3><p>ç”±äº <a href="https://github.com/tj/commander.js" target="_blank" rel="noopener noreferrer">commander.js</a> çš„<a href="https://github.com/tj/commander.js/issues/786" target="_blank" rel="noopener noreferrer">ç¼˜æ•…</a>ï¼Œåœ¨ Mac ä¸‹ä½¿ç”¨ yarn å®‰è£… CLIï¼Œå¶å°”ä¼šå‡ºç°æ‰§è¡Œå‘½ä»¤æŠ¥é”™çš„æƒ…å†µ</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-bash codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">taro-init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> does not exist, try --help</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>è¿™æ—¶å€™ï¼Œä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨ npm æˆ–è€… cnpm é‡æ–°å®‰è£… CLIï¼Œæˆ–è€…å°† CLI <a href="https://github.com/NervJS/taro/issues/2034" target="_blank" rel="noopener noreferrer">æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­æ¥è§£å†³</a>ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="é¡¹ç›®ä¾èµ–ä¸€ç›´å®‰è£…ä¸ä¸‹æ¥"></a>é¡¹ç›®ä¾èµ–ä¸€ç›´å®‰è£…ä¸ä¸‹æ¥<a class="hash-link" href="#é¡¹ç›®ä¾èµ–ä¸€ç›´å®‰è£…ä¸ä¸‹æ¥" title="Direct link to heading">#</a></h3><p>ç”±äº Taro çš„ <code>@tarojs/webpack-runner</code> åŒ…é»˜è®¤ä¾èµ–äº† <code>node-sass</code>ï¼Œå€’æ˜¯æœ‰äº›æ—¶å€™ä¾èµ–ä¸€ç›´å®‰è£…ä¸äº†ï¼Œåœ¨æ­¤ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨æ·˜å®çš„ <a href="https://npm.taobao.org/" target="_blank" rel="noopener noreferrer">cnpm</a> è¿›è¡Œå®‰è£…ä¾èµ–ï¼Œæˆ–è€…å°è¯•ä¸€ä¸‹<a href="https://github.com/gucong3000/mirror-config-china" target="_blank" rel="noopener noreferrer">è¿™ä¸ªåŒ…</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å°ç¨‹åº"></a>å°ç¨‹åº<a class="hash-link" href="#å°ç¨‹åº" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="æ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œä½†æ˜¾ç¤ºçš„ç»“æœä¸å¦‚é¢„æœŸ"></a>æ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œä½†æ˜¾ç¤ºçš„ç»“æœä¸å¦‚é¢„æœŸ<a class="hash-link" href="#æ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œä½†æ˜¾ç¤ºçš„ç»“æœä¸å¦‚é¢„æœŸ" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="è¢«-diff-é€»è¾‘è¿‡æ»¤"></a>è¢« diff é€»è¾‘è¿‡æ»¤<a class="hash-link" href="#è¢«-diff-é€»è¾‘è¿‡æ»¤" title="Direct link to heading">#</a></h4><p>æ­¤é—®é¢˜å‘ç”Ÿåœ¨é¡µé¢æˆ–ç»„ä»¶<strong>æ›´æ–°</strong>æ—¶ã€‚</p><p>åœ¨è°ƒç”¨å°ç¨‹åºçš„ setData æ–¹æ³•å‰ï¼ŒTaro ä¼šæŠŠ state ä¸ data åšä¸€æ¬¡ <a href="https://nervjs.github.io/taro/docs/best-practice.html#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%95%B0%E6%8D%AE-diff" target="_blank" rel="noopener noreferrer">diff</a>ã€‚</p><p>å¦‚æœ state ä¸ data çš„æŸä¸ªå±æ€§å€¼æ²¡æœ‰å˜åŒ–ï¼Œå¾ˆæœ‰å¯èƒ½å°±ä¸ä¼šé‡æ–° setData è¯¥å±æ€§ï¼Œå¯¼è‡´é¡µé¢æˆ–ç»„ä»¶æ²¡æœ‰æ­£ç¡®æ›´æ–°ã€‚</p><p>è¿™ç§é—®é¢˜å¤šå‡ºç°åœ¨å°ç¨‹åºçš„è¡¨å•ç»„ä»¶ä¸­ï¼Œä¾‹å¦‚ä»¥ä¸‹ä¸¤ä¸ª issueï¼š<a href="https://github.com/NervJS/taro/issues/1981" target="_blank" rel="noopener noreferrer">#1981</a>ã€<a href="https://github.com/NervJS/taro/issues/2257" target="_blank" rel="noopener noreferrer">#2257</a>ã€‚å› ä¸ºå°ç¨‹åºä¸€äº›è¡¨å•ç»„ä»¶ä¸ºéå—æ§ç»„ä»¶ï¼Œè¡¨å•æ›´æ–°æ—¶ï¼Œå¯¹åº” value å€¼çš„ data å¹¶ä¸ä¼šæ›´æ–°ï¼Œå¯¼è‡´ data å€¼è¿˜æ˜¯åˆå§‹å€¼ã€‚å¦‚æœå† setState æ­¤å±æ€§ä¸ºåˆå§‹å€¼ï¼Œç”±äº diff é€»è¾‘åˆ¤æ–­å±æ€§å€¼æ²¡æœ‰å˜åŒ–ï¼Œä¸ä¼š setData æ­¤å±æ€§ï¼Œå¯¼è‡´è§†å›¾æ²¡æœ‰æ›´æ–°ã€‚æ­£ç¡®åšæ³•æ˜¯åœ¨è¡¨å•ç»„ä»¶çš„ update äº‹ä»¶ä¸­ setData value ä¸ºå½“å‰å€¼ï¼Œä¿è¯ data ä¸è¡¨å•æ˜¾ç¤ºå€¼ä¿æŒä¸€è‡´ã€‚</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="debug-diff"></a>debug diff<a class="hash-link" href="#debug-diff" title="Direct link to heading">#</a></h5><p>å¼€å‘è€…å¯ä»¥åœ¨å¼€å‘è€…å·¥å…·ä¸­æ‰¾åˆ° taro è¿è¡Œæ—¶åº“ï¼Œåœ¨ diff æ–¹æ³•å‰åæ‰“æ–­ç‚¹æˆ– logï¼Œè§‚å¯Ÿ <strong>state</strong>ã€<strong>å°ç¨‹åº data</strong> å’Œ <strong>diff åå°†è¦è¢« setData çš„æ•°æ®</strong>ï¼Œè¿™ç§æ’æŸ¥æœ‰åŠ©å®šä½å¾ˆå¤š<strong>è§†å›¾æ›´æ–°</strong>é—®é¢˜ã€‚</p><p><img src="https://user-images.githubusercontent.com/11807297/53787956-514bb280-3f5b-11e9-9faf-f73ccd005222.png" alt="qq20190305-151951"></p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å¾®ä¿¡å°ç¨‹åºï¼Œå¢åŠ æ•°ç»„å…ƒç´ æ— æ³•æ­£ç¡®æ›´æ–°æ•°ç»„-length"></a>å¾®ä¿¡å°ç¨‹åºï¼Œå¢åŠ æ•°ç»„å…ƒç´ æ— æ³•æ­£ç¡®æ›´æ–°æ•°ç»„ length<a class="hash-link" href="#å¾®ä¿¡å°ç¨‹åºï¼Œå¢åŠ æ•°ç»„å…ƒç´ æ— æ³•æ­£ç¡®æ›´æ–°æ•°ç»„-length" title="Direct link to heading">#</a></h5><p>å¢åŠ æ•°ç»„å…ƒç´ æ—¶ï¼Œç» diff åä¼šæŒ‰è·¯å¾„æ›´æ–°ã€‚ä½†ç”±äºå¾®ä¿¡å°ç¨‹åºè‡ªèº« bugï¼ŒæŒ‰è·¯å¾„æ›´æ–°æ•°ç»„æ—¶ï¼Œæ•°ç»„ length ä¸ä¼šæ­£ç¡®æ›´æ–°ã€‚è¯¦è§ <a href="https://github.com/NervJS/taro/issues/882" target="_blank" rel="noopener noreferrer">#882</a></p><p>æ­¤é—®é¢˜åªå‡ºç°äºå¾®ä¿¡å°ç¨‹åºï¼Œ<a href="https://developers.weixin.qq.com/community/develop/doc/000c8a7eeb45e8b018b72f01356800" target="_blank" rel="noopener noreferrer">å¾®ä¿¡å®˜æ–¹è¯´æ³•æ˜¯æš‚ä¸ä¿®å¤</a>ã€‚</p><p>æ¨èåšæ³•æ˜¯æ–°å¼€ä¸€ä¸ª state å€¼æ¥åŒæ­¥ length å˜åŒ–ã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ç¼–è¯‘æ¨¡æ¿å‡ºé”™"></a>ç¼–è¯‘æ¨¡æ¿å‡ºé”™<a class="hash-link" href="#ç¼–è¯‘æ¨¡æ¿å‡ºé”™" title="Direct link to heading">#</a></h4><p>è¿™æ—¶å€™å¾ˆå¯èƒ½æ˜¯ç¼–è¯‘æ¨¡æ¿å‡ºç°äº†é”™è¯¯ã€‚ä¾‹å¦‚ä¸­ <a href="https://github.com/NervJS/taro/issues/2258" target="_blank" rel="noopener noreferrer">#2285</a> ä¸­ï¼Œé¢˜ä¸»å†™äº†ä¸¤ä¸ªåµŒå¥—å¾ªç¯ï¼Œåœ¨ç¬¬äºŒä¸ªå¾ªç¯ä¸­æ— æ³•æ­£ç¡®åœ°è®¿é—®åˆ°ç¬¬ä¸€ä¸ªå¾ªç¯å£°æ˜çš„ <code>index</code> å˜é‡ï¼š</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-jsx codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// å‡è®¾æºç åœ¨ src/pages/index/index.js ä¸­</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">rooms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">room</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">room</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">id</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">æˆ¿é—´</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">men</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">room</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">checkInMen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">man</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript function" style="color:#d73a49">handleRemoveMan</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript function" style="color:#d73a49">bind</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">,</span><span class="token tag script language-javascript" style="color:#00009f"> man</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">id</span><span class="token tag script language-javascript punctuation" style="color:#393A34">,</span><span class="token tag script language-javascript" style="color:#00009f"> index</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">man</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>è€Œç¼–è¯‘å‡ºæ¥çš„ <code>wxml</code> å°†ä¼šæ˜¯ï¼š</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-html codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- ç¼–è¯‘åä»£ç ä»£ç è‡³å°‘ä¼šç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯: --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- dist/pages/index/index.jsï¼Œdist/pages/index/index.wxmlï¼Œdist/pages/index/index.json --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">wx:</span><span class="token tag attr-name" style="color:#00a4db">for</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{{loopArray0}}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">wx:</span><span class="token tag attr-name" style="color:#00a4db">for-item</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">room</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">wx:</span><span class="token tag attr-name" style="color:#00a4db">for-index</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">index</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">æˆ¿é—´</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">men</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">data-e-tap-a-b</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{{index}}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">bindtap</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">handleRemoveMan</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">wx:</span><span class="token tag attr-name" style="color:#00a4db">for</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{{room.$anonymousCallee__0}}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">wx:</span><span class="token tag attr-name" style="color:#00a4db">for-item</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">man</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-e-tap-so</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">this</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-e-tap-a-a</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">{{man.$original.id}}</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">{{man.$original.name}}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>è§‚å¯Ÿç¼–è¯‘å‰åæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼šç”±äºç¬¬äºŒä¸ªå¾ªç¯æ²¡æœ‰æŒ‡å®š <code>index</code> å˜é‡åï¼ŒTaro ç¼–è¯‘çš„å¾ªç¯ä¹Ÿæ²¡æœ‰æŒ‡å®š <code>index</code> å˜é‡åã€‚ä½†é—®é¢˜åœ¨äºå¾®ä¿¡å°ç¨‹åºå½“ä¸æŒ‡å®š <code>index</code> æ—¶ï¼Œä¼šéšå¼åœ°æ³¨å…¥ä¸€ä¸ªåä¸º <code>index</code> çš„å˜é‡åä½œä¸º <code>index</code>ã€‚å› æ­¤è¿™æ®µä»£ç åœ¨ç¬¬äºŒä¸ªå¾ªç¯ä¸­è®¿é—® <code>index</code>ï¼Œå®é™…ä¸Šæ˜¯å½“å‰å¾ªç¯çš„ <code>index</code>ï¼Œè€Œä¸æ˜¯ä¸Šçº§å¾ªç¯çš„ <code>index</code>ã€‚</p><p>å½“æˆ‘ä»¬äº†è§£åˆ°é—®é¢˜æ‰€åœ¨ä¹‹åï¼Œè§£å†³é—®é¢˜ä¹Ÿå¾ˆå®¹æ˜“ï¼Œåªè¦åœ¨ç¬¬äºŒä¸ªå¾ªç¯æ˜¾å¼åœ°æš´éœ²å¾ªç¯çš„ç¬¬äºŒä¸ªå˜é‡å³å¯ï¼Œæºä»£ç å¯ä»¥ä¿®æ”¹ä¸ºï¼š</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-jsx codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">rooms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">room</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">key</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">room</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">id</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">æˆ¿é—´</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">men</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">room</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">checkInMen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">man</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> _</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript function" style="color:#d73a49">handleRemoveMan</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript function" style="color:#d73a49">bind</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">,</span><span class="token tag script language-javascript" style="color:#00009f"> man</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">id</span><span class="token tag script language-javascript punctuation" style="color:#393A34">,</span><span class="token tag script language-javascript" style="color:#00009f"> index</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">man</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="è¿è¡Œæ—¶åœ¨å°ç¨‹åºå¼€å‘è€…å·¥å…·æŠ¥é”™"></a>è¿è¡Œæ—¶åœ¨å°ç¨‹åºå¼€å‘è€…å·¥å…·æŠ¥é”™<a class="hash-link" href="#è¿è¡Œæ—¶åœ¨å°ç¨‹åºå¼€å‘è€…å·¥å…·æŠ¥é”™" title="Direct link to heading">#</a></h3><p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šåœ¨è¿è¡Œæ—¶é‡åˆ°è¿™æ ·é”™è¯¯ï¼š</p><p><img src="https://i.loli.net/2019/02/27/5c765b5bc1915.png" alt="debug.png"></p><p>è°ƒè¯•è¿™æ ·çš„é—®é¢˜ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦ç‚¹å‡»è°ƒç”¨æ ˆä»è°ƒç”¨æ ˆæœ€ä¸Šå±‚çš„é“¾æ¥ï¼Œç‚¹è¿›å»æˆ‘ä»¬å¯ä»¥å‘ç°æ˜¯è¿™æ ·çš„ä»£ç ï¼š</p><p><img src="https://i.loli.net/2019/02/28/5c77517c622e3.png" alt="debug2.png"></p><p>è¿™æ—¶æˆ‘ä»¬å¯ä»¥å‘ç°è¿™ä¸ªé”™è¯¯çš„åŸå› åœ¨äºå˜é‡ <code>url</code> åœ¨è°ƒç”¨ <code>Object.assign()</code> å‡½æ•°æ—¶æ‰¾ä¸åˆ°å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥å†çœ‹ä¸€ä¸‹æºç ï¼š</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-jsx codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// å¦‚æœè¿è¡Œæ—¶æŠ¥é”™æ–‡ä»¶è·¯å¾„æ˜¯ï¼šdist/pages/test/test.js</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// é‚£ä¹ˆå°±å¯ä»¥æ¨ç®—å‡ºæºç åœ¨ï¼šsrc/pages/test/test.js</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç¼–è¯‘åçš„ js æ–‡ä»¶å·²ç»ç»è¿‡ Babel ç¼–è¯‘è¿‡ï¼Œä½†å‡½æ•°åŸºæœ¬ä¸Šè¿˜æ˜¯èƒ½ä¸€ä¸€å¯¹åº”çš„</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// é™¤äº† `render()` å‡½æ•°ä¼šå¯¹åº”åˆ° `_createData()` å‡½æ•°ï¼Œå½¢å¦‚ `renderTest` å‡½æ•°ä¼šå¯¹åº”åˆ° `createTestData` å‡½æ•°</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> dom </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">visable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://...&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      dom </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Image</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">url</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Container</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">dom</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Container</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>é€šè¿‡è§‚å¯Ÿç¼–è¯‘å‰åä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æºç æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½† Taro åœ¨æ­¤é—®é¢˜å‡ºç°çš„ç‰ˆæœ¬æ²¡æœ‰å¤„ç†å¥½ if è¡¨è¾¾å¼ä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œè°ƒç”¨ <code>Object.assign()</code> å‡½æ•°æ—¶ <code>url</code> å˜é‡å¹¶ä¸å­˜åœ¨äº <code>render</code> å‡½æ•°çš„ä½œç”¨åŸŸä¸­ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹æºç ï¼Œæ‰‹åŠ¨æŠŠ <code>url</code> å˜é‡ä¹Ÿæ”¾åœ¨ <code>render</code> å‡½æ•°ä½œç”¨åŸŸä¸­ï¼š</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-jsx codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> dom </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">visable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://...&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      dom </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Image</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">url</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Container</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">dom</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Container</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>å¤§éƒ¨åˆ†è¿è¡Œæ—¶é”™è¯¯éƒ½å¯ä»¥é€šè¿‡å°ç¨‹åºå†…ç½®çš„ Chrome DevTools æ‰¾åˆ°æŠ¥é”™çš„ç¼˜ç”±ï¼Œå¦‚æœå½“å‰è°ƒç”¨æ ˆæ²¡æœ‰æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼Œå¯ä»¥å¾€ä¸Šé€å±‚åœ°å»è°ƒè¯•å„ä¸ªè°ƒç”¨æ ˆã€‚Chrome DevTools ç›¸å…³æ–‡æ¡£è¯·æŸ¥çœ‹ï¼š<a href="https://developers.google.com/web/tools/chrome-devtools/" target="_blank" rel="noopener noreferrer">Chrome å¼€å‘è€…å·¥å…·</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ç”Ÿå‘½å‘¨æœŸè·¯ç”±setstate-å‡ºé”™"></a>ç”Ÿå‘½å‘¨æœŸ/è·¯ç”±/setState å‡ºé”™<a class="hash-link" href="#ç”Ÿå‘½å‘¨æœŸè·¯ç”±setstate-å‡ºé”™" title="Direct link to heading">#</a></h3><p>åœ¨ <a href="https://github.com/NervJS/taro/issues/1814" target="_blank" rel="noopener noreferrer">#1814</a> ä¸­æåˆ°äº† <code>this.$router.path</code> (å½“å‰é¡µé¢è·¯ç”±çš„è·¯å¾„) æœ‰æ—¶æ— æ³•è®¿é—®ã€‚ç»è¿‡è°ƒç ”å‘ç°åŸå› åœ¨äº Taro æŠŠè·å–è·¯å¾„çš„å‡½æ•°æ”¾åœ¨äº†å°ç¨‹åºçš„ <code>onLoad</code> å‡½æ•°ä¸Šï¼Œè€Œä¸æ˜¯æ¯ä¸ªç»„ä»¶éƒ½èƒ½è°ƒç”¨åˆ°è¿™ä¸ªå‡½æ•°ã€‚è€Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚æœå½“å‰é¡µé¢æ˜¯ç»„ä»¶å¯ä»¥ç›´æ¥é€šè¿‡ <code>this.$scope.route</code> è®¿é—®ï¼Œæ›´æ™®é€‚çš„æ–¹æ³•åˆ™æ˜¯é€šè¿‡ <code>getCurrentPages</code> å‡½æ•°è®¿é—®åˆ°å½“å‰é¡µé¢çš„ç¤ºä¾‹ï¼Œç„¶åè®¿é—®å®ä¾‹çš„ <code>route</code> æˆ– <code>__route__</code> è®¿é—®åˆ°å½“å‰é¡µé¢è·¯ç”±çš„è·¯å¾„ã€‚</p><p>é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç° Taro çš„ç”Ÿå‘½å‘¨æœŸ/è·¯ç”± å’Œ <code>setState</code> åœ¨å°ç¨‹åºç«¯å…¶å®æ˜¯åŒ…è£…æˆ React API çš„ä¸€å±‚è¯­æ³•ç³–ï¼Œæˆ‘ä»¬æŠŠè¿™å±‚åŒ…è£…ç§°ä¹‹ä¸º Taro è¿è¡Œæ—¶æ¡†æ¶ã€‚å‡ ä¹æ‰€æœ‰ Taro æä¾›çš„ API å’Œè¯­æ³•ç³–æœ€ç»ˆéƒ½æ˜¯é€šè¿‡å°ç¨‹åºæœ¬èº«æä¾›çš„ API å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å½“ Taro è¿è¡Œæ—¶æ¡†æ¶å‡ºç°é—®é¢˜æ—¶ï¼Œä½ åŸºæœ¬éƒ½èƒ½ä½¿ç”¨å°ç¨‹åºæœ¬èº«æä¾›çš„ API è¾¾åˆ°åŒç­‰çš„éœ€æ±‚ï¼Œå…¶ä¸­å°±åŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ol><li>ä½¿ç”¨ <code>this.$scope.triggerEvent</code> è°ƒç”¨é€šè¿‡ props ä¼ é€’çš„å‡½æ•°;</li><li>é€šè¿‡ <code>this.$scope.selectComponent</code> å’Œ <code>wx.createSelectorQuery</code> å®ç° <code>ref</code>;</li><li>é€šè¿‡ <code>getCurrentPages</code> ç­‰ç›¸å…³æ–¹æ³•è®¿é—®è·¯ç”±ï¼›</li><li>ä¿®æ”¹ç¼–è¯‘åæ–‡ä»¶ <code>createComponent</code> å‡½æ•°åˆ›å»ºçš„å¯¹è±¡</li></ol><p>è™½ç„¶ä½¿ç”¨å°ç¨‹åºåŸç”Ÿæ–¹æ³•ä¹Ÿèƒ½åšå¾ˆå¤šåŒæ ·çš„äº‹ï¼Œä½†å½“ Taro è¿è¡Œæ—¶æ¡†æ¶å‡ºç°é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¼ºçƒˆå»ºè®®å¼€å‘è€…å‘ Taro å®˜æ–¹ <a href="https://github.com/NervJS/taro/issues/new/choose" target="_blank" rel="noopener noreferrer">æäº¤ issue</a>ï¼Œæœ‰èƒ½åŠ›çš„å¼€å‘è€…æœ‹å‹ä¹Ÿå¯ä»¥ <a href="https://github.com/NervJS/taro/pulls" target="_blank" rel="noopener noreferrer">æäº¤ PR</a>ã€‚ä¸€æ–¹é¢ä½¿ç”¨ Taro API å®ç°å¯ä»¥å¸®åŠ©ä½ æŠ¹å¹³å¤šç«¯å·®å¼‚ï¼Œå¦ä¸€æ–¹é¢å¯»æ‰¾ç”šè‡³æ˜¯ä¿®å¤ bug ä¹Ÿæœ‰åŠ©äºåŠ å¼ºä½ å¯¹ Taro å’Œå°ç¨‹åºåº•å±‚çš„ç†è§£ã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å¾®ä¿¡å°ç¨‹åºè¡¨å•ç»„ä»¶é—®é¢˜"></a>å¾®ä¿¡å°ç¨‹åºè¡¨å•ç»„ä»¶é—®é¢˜<a class="hash-link" href="#å¾®ä¿¡å°ç¨‹åºè¡¨å•ç»„ä»¶é—®é¢˜" title="Direct link to heading">#</a></h3><p>å¾®ä¿¡å°ç¨‹åºè¡¨å•ç»„ä»¶ä¸æ˜¯å—æ§ç»„ä»¶ï¼Œå½“ç”¨æˆ·æ“ä½œè¡¨å•æ—¶è§†å›¾ä¼š<strong>ç«‹å³æ”¹å˜</strong>ï¼Œä½†è¡¨å•çš„ value å€¼è¿˜æ˜¯æ²¡æœ‰å˜åŒ–ã€‚</p><p>å¦‚æœåœ¨è¡¨å• <code>onChange</code>ã€<code>onInput</code> æ­¤ç±»å€¼æ”¹å˜å›è°ƒä¸­ setState value ä¸ºç”¨æˆ·æ“ä½œæ”¹å˜è¡¨å•ä¹‹å‰çš„å€¼æ—¶ï¼ŒTaro çš„ diff é€»è¾‘ä¼šåˆ¤æ–­ setState çš„ value å€¼å’Œå½“å‰ data.value ä¸€è‡´ï¼Œåˆ™<strong>æ”¾å¼ƒ setData</strong>ï¼Œå¯¼è‡´è§†å›¾æ²¡æœ‰æ­£ç¡®æ›´æ–°ã€‚</p><p>è§£å†³åŠæ³•ï¼š</p><p>Input ç»„ä»¶å¯ä»¥é€šè¿‡åœ¨å›è°ƒä¸­ return éœ€è¦æ”¹å˜çš„å€¼æ¥æ›´æ–°è§†å›¾ã€‚è¯¦è§ <a href="https://github.com/NervJS/taro/issues/2642" target="_blank" rel="noopener noreferrer">#2642</a></p><p>å°ç¨‹åº Input ç»„ä»¶æ–‡æ¡£æˆªå›¾ï¼š</p><p><img src="https://user-images.githubusercontent.com/11807297/55405139-fcb44b00-558b-11e9-845f-afbc73863b48.png" alt="inputdoc"></p><p>å…¶å®ƒç»„ä»¶éœ€è¦ç«‹å³ <code>setState({ value: e.detail.value })</code> ä»¥ç«‹å³æ›´æ–°åŒæ­¥ data.value å€¼ï¼Œç„¶åå† setState çœŸæ­£éœ€è¦è¡¨å•æ”¹å˜çš„å€¼ã€‚è¯¦è§ <a href="https://github.com/NervJS/taro/issues/1981" target="_blank" rel="noopener noreferrer">#1981</a>ã€<a href="https://github.com/NervJS/taro/issues/2257" target="_blank" rel="noopener noreferrer">#2257</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="api-é—®é¢˜"></a>API é—®é¢˜<a class="hash-link" href="#api-é—®é¢˜" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="api-è°ƒç”¨ç»“æœä¸ç¬¦åˆé¢„æœŸ"></a>API è°ƒç”¨ç»“æœä¸ç¬¦åˆé¢„æœŸ<a class="hash-link" href="#api-è°ƒç”¨ç»“æœä¸ç¬¦åˆé¢„æœŸ" title="Direct link to heading">#</a></h4><p>Taro å°ç¨‹åºç«¯çš„ API åªæ˜¯å¯¹å°ç¨‹åºåŸç”Ÿ API ç®€å•åœ°è¿›è¡Œäº† promise åŒ–ï¼Œå¹¶æ²¡æœ‰åšä»€ä¹ˆé¢å¤–æ“ä½œã€‚å› æ­¤å¼€å‘è€…åœ¨é‡åˆ°è¿™ç§æƒ…å†µæ—¶å¯ä»¥è¯•è¯•ç›´æ¥ä½¿ç”¨å°ç¨‹åº APIï¼Œå¦‚å¾®ä¿¡å°ç¨‹åºä¸­ç›´æ¥ä½¿ç”¨ <code>wx.xxx</code>ã€‚å¦‚æœæœ‰åŒæ ·çš„æŠ¥é”™ï¼Œè¯æ˜æ˜¯å°ç¨‹åºæ–¹é¢çš„é—®é¢˜ã€‚å¦åˆ™åˆ™å¯èƒ½æ˜¯ Taro çš„é—®é¢˜ï¼Œå¯ä»¥ç»™æˆ‘ä»¬æç›¸å…³ issueã€‚</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="api-è°ƒç”¨æŠ¥é”™"></a>API è°ƒç”¨æŠ¥é”™<a class="hash-link" href="#api-è°ƒç”¨æŠ¥é”™" title="Direct link to heading">#</a></h4><p>å‡è®¾å¼€å‘è€…åœ¨è°ƒç”¨æŸä¸ª API <code>Taro.xxx</code>ï¼Œå‡ºç°ç±»ä¼¼ä»¥ä¸‹æŠ¥é”™ï¼š</p><p><img src="https://user-images.githubusercontent.com/11807297/59170450-45324b00-8b71-11e9-8e25-1169b425040c.png" alt="image"></p><p>è¯æ˜ Taro è¿˜æ²¡å…¼å®¹æ­¤ APIï¼Œæ¯”å¦‚ä¸€äº›å°ç¨‹åºå¹³å°æœ€æ–°æ›´æ–°çš„ APIã€‚è¿™æ—¶å¯ä»¥ç»™æˆ‘ä»¬æ issue è¦æ±‚æ·»åŠ ï¼Œæˆ–è€…ä¿®æ”¹æ­¤æ–‡ä»¶ <a href="https://github.com/NervJS/taro/blob/master/packages/taro/src/native-apis.js" target="_blank" rel="noopener noreferrer">native-apis.js</a> åï¼Œç»™æˆ‘ä»¬æ PRã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="h5"></a>H5<a class="hash-link" href="#h5" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="è¿è¡Œæ—¶æŠ¥-dom-ç›¸å…³é”™è¯¯"></a>è¿è¡Œæ—¶æŠ¥ DOM ç›¸å…³é”™è¯¯<a class="hash-link" href="#è¿è¡Œæ—¶æŠ¥-dom-ç›¸å…³é”™è¯¯" title="Direct link to heading">#</a></h3><p>åœ¨ <a href="https://github.com/NervJS/taro/issues/1804" target="_blank" rel="noopener noreferrer">#1804</a> ä¸­æåˆ°ï¼Œåªè¦ä½¿ç”¨äº† <code>Block</code> ç»„ä»¶å¹¶ä¸”æœ‰ä¸€ä¸ªå˜é‡æ§åˆ¶å®ƒçš„æ˜¾å¼æ—¶ï¼Œå°±å¿…å®šä¼šæŠ¥é”™ï¼š</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-jsx codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Index</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    navigationBarTitleText</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;é¦–é¡µ&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    num</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;did&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        num</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> num </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">container</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">num </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">å·²å–å®Œ</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">num </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Block</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">æ­£åœ¨é”€å”®</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ç«‹å³è´­ä¹°</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Block</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">/* {num &gt; 0 &amp;&amp; &lt;View&gt;æ­£åœ¨é”€å”®&lt;/View&gt;} */</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥æŠŠé—®é¢˜å®šä½åˆ° <code>Block</code> ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ <code>@tarojs/components</code> çš„ <code>Block</code> ç»„ä»¶æºç ï¼š</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-jsx codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">Block</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain">  props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">children</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> Block</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>ä¹Ÿå°±æ˜¯è¯´å½“å˜é‡ <code>num &gt; 0</code> æ—¶ï¼Œ<code>Block</code> ç»„ä»¶çš„ <code>children</code> ä¼šæ˜¾ç¤ºï¼Œè€Œå½“ <code>Block</code> ç»„ä»¶çš„ <code>children</code> æ˜¯ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œ<code>View.container</code> çš„ <code>children</code> å°±å˜æˆ <code>[ä¸€ä¸ª View ç»„ä»¶, [ä¸€ä¸ªæ•°ç»„]]</code>ï¼Œæ¸²æŸ“è¿™æ ·çš„æ•°æ®ç»“æ„éœ€è¦ <code>React.Fragment</code> çš„åŒ…è£¹æ‰èƒ½æ¸²æŸ“ã€‚è€Œ Taro ç›®å‰è¿˜æ²¡æœ‰æ”¯æŒ <code>React.Fragment</code> è¯­æ³•ï¼Œæ‰€ä»¥è¿™æ ·çš„å†™æ³•å°±æŠ¥é”™äº†ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦ä¿®æ”¹ <code>Block</code> ç»„ä»¶ï¼Œç”¨ä¸€ä¸ªå…ƒç´ åŒ…è£¹ä½ <code>children</code> å³å¯:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-jsx codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">Block</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">children</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>å½“ä½ é‡åˆ°äº†ç›¸å…³é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å‡†å¤‡äº†ä¸€ä¸ªå¿«é€Ÿèµ·æ­¥çš„æ²™ç›’å·¥å…·ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨è¿™ä¸ªå·¥å…·é‡Œç¼–è¾‘ã€è°ƒè¯•ã€å¤ç°é—®é¢˜ï¼š</p><p><a href="https://codesandbox.io/s/50nzv622z4?fontsize=14" target="_blank" rel="noopener noreferrer"><img src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit Taro sandbox"></a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ç»„ä»¶"></a>ç»„ä»¶<a class="hash-link" href="#ç»„ä»¶" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="jsenginscripterror"></a>jsEnginScriptError<a class="hash-link" href="#jsenginscripterror" title="Direct link to heading">#</a></h3><p><code>Component is not found in path &quot;xxx/xxx/xxx&quot;</code> è§£å†³åŠæ³•ï¼š</p><p>1ã€æ£€æŸ¥æœ‰æ²¡æœ‰ç¼–è¯‘æŠ¥é”™</p><p>2ã€æ£€æŸ¥ç¼–è¯‘åçš„æ–‡ä»¶æ˜¯å¦æ­£ç¡®</p><p>3ã€æ­¥éª¤ 1 å’Œ æ­¥éª¤ 2 å¦‚æœæ£€æŸ¥æ²¡æœ‰é—®é¢˜ï¼Œé‡å¯å¼€å‘è€…å·¥å…·ï¼Œå¦åˆ™è·³åˆ°æ­¥éª¤ 4 </p><p>4ã€æä¾›å…·ä½“ç¼–è¯‘æŠ¥é”™ä¿¡æ¯ä¸ç¼–è¯‘åæ–‡ä»¶ä¿¡æ¯çš„æˆªå›¾</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="å…¶å®ƒèµ„æº"></a>å…¶å®ƒèµ„æº<a class="hash-link" href="#å…¶å®ƒèµ„æº" title="Direct link to heading">#</a></h2><p>æœ¬æ–‡åˆ—ä¸¾äº†ä¸€äº› Taro çš„å·²è§£å†³ bug ä¾‹å­ï¼Œé˜è¿°äº†åœ¨ Taro ä¸­ debug çš„æ€è·¯ï¼Œä½†åœ¨å®é™…æ“ä½œä¸­å¦‚æœä½ èƒ½æ›´æ·±å…¥åœ°äº†è§£ Taro çš„å®ç°åŸç†ï¼Œé‚£æ— è®ºæ˜¯å¯¹ä½¿ç”¨ Taro æˆ–æ˜¯ debug éƒ½ä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ä»¥ä¸‹èµ„æºä»å„ä¸ªæ–¹é¢éƒ½ä»‹ç»äº† Taro çš„å®ç°åŸç†ï¼š</p><ul><li>æ˜é‡‘å°å†Œï¼š<a href="https://juejin.im/book/5b73a131f265da28065fb1cd?referrer=5ba228f16fb9a05d3251492d" target="_blank" rel="noopener noreferrer">Taro å¤šç«¯å¼€å‘å®ç°åŸç†ä¸å®æˆ˜</a></li><li>åšæ–‡ï¼š<a href="https://aotu.io/notes/2018/06/25/the-birth-of-taro/" target="_blank" rel="noopener noreferrer">Taro è¯ç”Ÿè®°</a></li><li>å…¬å¼€æ¼”è®²: <a href="https://share.weiyun.com/5nUKYfy" target="_blank" rel="noopener noreferrer">ä½¿ç”¨ Taro å¿«é€Ÿå¼€å‘å¤šç«¯é¡¹ç›®</a></li><li>å…¬å¼€æ¼”è®²ï¼š <a href="https://share.weiyun.com/5lZXV1G" target="_blank" rel="noopener noreferrer">åŸºäº Taro çš„å¤šç«¯é¡¹â½¬ç›®å®è·µ</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nervjs/taro/edit/docs/versioned_docs/version-3.2.0-canary.3/debug.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å®‰è£…" class="table-of-contents__link">å®‰è£…</a><ul><li><a href="#ä½¿ç”¨-yarn-å®‰è£…å®Œ-cli-æŠ¥é”™" class="table-of-contents__link">ä½¿ç”¨ yarn å®‰è£…å®Œ CLI æŠ¥é”™</a></li><li><a href="#é¡¹ç›®ä¾èµ–ä¸€ç›´å®‰è£…ä¸ä¸‹æ¥" class="table-of-contents__link">é¡¹ç›®ä¾èµ–ä¸€ç›´å®‰è£…ä¸ä¸‹æ¥</a></li></ul></li><li><a href="#å°ç¨‹åº" class="table-of-contents__link">å°ç¨‹åº</a><ul><li><a href="#æ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œä½†æ˜¾ç¤ºçš„ç»“æœä¸å¦‚é¢„æœŸ" class="table-of-contents__link">æ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œä½†æ˜¾ç¤ºçš„ç»“æœä¸å¦‚é¢„æœŸ</a></li><li><a href="#è¿è¡Œæ—¶åœ¨å°ç¨‹åºå¼€å‘è€…å·¥å…·æŠ¥é”™" class="table-of-contents__link">è¿è¡Œæ—¶åœ¨å°ç¨‹åºå¼€å‘è€…å·¥å…·æŠ¥é”™</a></li><li><a href="#ç”Ÿå‘½å‘¨æœŸè·¯ç”±setstate-å‡ºé”™" class="table-of-contents__link">ç”Ÿå‘½å‘¨æœŸ/è·¯ç”±/setState å‡ºé”™</a></li><li><a href="#å¾®ä¿¡å°ç¨‹åºè¡¨å•ç»„ä»¶é—®é¢˜" class="table-of-contents__link">å¾®ä¿¡å°ç¨‹åºè¡¨å•ç»„ä»¶é—®é¢˜</a></li><li><a href="#api-é—®é¢˜" class="table-of-contents__link">API é—®é¢˜</a></li></ul></li><li><a href="#h5" class="table-of-contents__link">H5</a><ul><li><a href="#è¿è¡Œæ—¶æŠ¥-dom-ç›¸å…³é”™è¯¯" class="table-of-contents__link">è¿è¡Œæ—¶æŠ¥ DOM ç›¸å…³é”™è¯¯</a></li></ul></li><li><a href="#ç»„ä»¶" class="table-of-contents__link">ç»„ä»¶</a><ul><li><a href="#jsenginscripterror" class="table-of-contents__link">jsEnginScriptError</a></li></ul></li><li><a href="#å…¶å®ƒèµ„æº" class="table-of-contents__link">å…¶å®ƒèµ„æº</a></li></ul></div></div></div></div></main></div></div><footer class="footer" id="footer"><div class="grid_c1 footer_cont"><div class="footer_logo_container"><div class="footer_logo"></div><span class="footer_designedby"></span></div><div class="footer_link_container"><div class="footer_link"><h3 class="footer_link_tit footer_link_tit1">ç›¸å…³èµ„æº</h3><p><a class="link" href="https://taro.jd.com/" target="_blank">Taro</a></p><p><a class="link" href="https://taro-ui.jd.com/" target="_blank">Taro UI</a></p><p><a class="link" href="https://at-ui.github.io/at-ui/#/zh" target="_blank">At-UI</a></p><p><a class="link" href="https://nerv.aotu.io/" target="_blank">Nerv</a></p><p><a class="link" href="https://athena.aotu.io/" target="_blank">Athena</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit2">ç¤¾åŒº</h3><p><a href="https://github.com/NervJS/taro/issues" target="_blank">GitHub</a></p><p><a href="https://taro-club.jd.com" target="_blank">Taro BBS</a></p><p class="footer_link_connect_wrap"><span class="footer_link_connect footer_link_wechat">å¾®ä¿¡<span class="wechat_qrcode_icon"><svg t="1554966525626" class="icon svgicon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2588" data-spm-anchor-id="a313x.7781069.0.i0"><path d="M240.071 241.095h59.278v59.278h-59.278v-59.278z" fill="" p-id="2589"></path><path d="M405.959 134.485h-272.611v272.611h106.723v47.445h59.278v-47.445h106.723v-59.278h47.445v-47.445h-47.445l-0.114-165.888zM346.795 347.819h-154.169v-154.055h154.055v154.055h0.114zM240.071 727.154h59.278v59.278h-59.278v-59.278zM726.016 241.095h59.278v59.278h-59.278v-59.278zM512.683 509.042v63.943h59.278v-59.165h47.445v-59.278h-47.445v-47.445h-59.278v101.945zM512.683 725.789v60.643h59.278v-106.723h47.445v-59.278h-106.723v105.358zM571.961 786.432h47.445v47.445h-47.445v-47.445zM453.405 833.877v59.165h118.557v-59.165h-118.557z" fill="" p-id="2590"></path><path d="M678.685 679.709h-59.278v106.723h106.61v-59.278h-47.331v-47.445zM726.016 893.042h166.002v-59.165h-106.723v-47.445h-59.278v106.61zM892.018 513.821v-59.278h-106.723v59.278h106.723zM832.739 727.154h59.278v59.278h-59.278v-59.278zM453.405 347.819h59.278v59.278h-59.278v-59.278zM726.016 454.542v-47.445h166.002v-272.611h-272.611v59.278h-106.723v47.445h106.723v59.165h-47.445v47.445h47.445v59.278h59.278v47.445h47.331zM678.685 193.763h154.055v154.055h-154.055v-154.055zM678.685 572.985h47.331v47.445h-47.331v-47.445zM785.294 679.709h-59.278v47.445h106.723v-106.723h59.278v-47.445h-106.723v106.723zM453.405 241.095h59.278v59.278h-59.278v-59.278zM299.349 513.821h47.445v59.165h-47.445v-59.165zM453.405 454.542h-106.61v59.278h59.165v59.165h47.445v-118.443z" fill="" p-id="2591"></path><path d="M405.959 786.432v-106.723h47.445v-59.278h-213.333v-106.61h-106.723v59.278h59.278v47.445h-59.278v272.611h272.611v-59.278h47.445v-47.445h-47.445zM346.795 833.877h-154.169v-154.169h154.055v154.169h0.114zM453.405 572.985h59.278v47.445h-59.278v-47.445zM619.406 513.821h59.278v59.165h-59.278v-59.165zM726.016 513.821h59.278v59.165h-59.278v-59.165z" fill="" p-id="2592"></path></svg></span></span><span class="footer_link_wechat_img"><img src="https://camo.githubusercontent.com/10834a234b99a5880b5dff7c0ca7235e2a0772e7/687474703a2f2f696d6732302e333630627579696d672e636f6d2f7562612f6a66732f7432303139372f3238332f313638373136383837342f3133363034322f32623464383131662f35623330613635634e39643166303366312e706e67"></span></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit3">å…³äºæˆ‘ä»¬</h3><p><a href="https://aotu.io/" target="_blank">å‡¹å‡¸å®éªŒå®¤</a></p><p><a href="https://aotu.io/join/" target="_blank">åŠ å…¥æˆ‘ä»¬</a></p><p><a href="mailto:taro@jd.com?subject=ã€Taro åˆä½œã€‘åˆä½œæ ‡é¢˜">è”ç³»æˆ‘ä»¬</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit4">æ„Ÿè°¢</h3><p><a href="http://jdc.jd.com/" target="_blank">ç”¨æˆ·ä½“éªŒè®¾è®¡éƒ¨</a></p><p><a href="https://github.com/nervjs/taro#%E8%B4%A1%E7%8C%AE%E8%80%85%E4%BB%AC" target="_blank">Taro è´¡çŒ®è€…ä»¬</a></p></div></div></div><div class="copyright"><div class="in">Copyright Â© 2020. All Rights Reserved. ç²¤ICPå¤‡15077732å·-2</div></div></footer></div>
<script src="/taro/styles.74fef534.js"></script>
<script src="/taro/runtime~main.16d0eaa5.js"></script>
<script src="/taro/main.67080be0.js"></script>
<script src="/taro/1.af866ae7.js"></script>
<script src="/taro/2.92e2c04b.js"></script>
<script src="/taro/1be78505.280d62f0.js"></script>
<script src="/taro/ee7f804b.f6730b4c.js"></script>
<script src="/taro/17896441.5e392a47.js"></script>
<script src="/taro/7724d845.fd60538b.js"></script>
</body>
</html>