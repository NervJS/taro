<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<link rel="search" type="application/opensearchdescription+xml" title="Taro æ–‡æ¡£" href="/taro/opensearch.xml">
<script src="https://storage.jd.com/taro-resource/tongji.js" async></script>
<script src="https://storage.jd.com/taro-docs/taro-doc-hotjar.js" async></script><title data-react-helmet="true">Taro Next H5 è·¨æ¡†æ¶ç»„ä»¶åº“å®è·µ | Taro æ–‡æ¡£</title><meta data-react-helmet="true" property="og:title" content="Taro Next H5 è·¨æ¡†æ¶ç»„ä»¶åº“å®è·µ | Taro æ–‡æ¡£"><meta data-react-helmet="true" name="description" content="image"><meta data-react-helmet="true" property="og:description" content="image"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/taro/./img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/taro/styles.aced0b20.css">
<link rel="preload" href="/taro/styles.55db6f27.js" as="script">
<link rel="preload" href="/taro/runtime~main.452067a7.js" as="script">
<link rel="preload" href="/taro/main.741ca0ab.js" as="script">
<link rel="preload" href="/taro/1.8febc1d6.js" as="script">
<link rel="preload" href="/taro/2.caae0f6a.js" as="script">
<link rel="preload" href="/taro/01a85c17.d4a75056.js" as="script">
<link rel="preload" href="/taro/18b93cb3.536e509c.js" as="script">
<link rel="preload" href="/taro/1669.ecc950a7.js" as="script">
<link rel="preload" href="/taro/5fc994c2.595b4ed3.js" as="script">
<link rel="preload" href="/taro/6875c492.f9b5f9a7.js" as="script">
<link rel="preload" href="/taro/a6aa9e1f.3e03078a.js" as="script">
<link rel="preload" href="/taro/c42b0552.bf4bc072.js" as="script">
<link rel="preload" href="/taro/ccc49370.da0c6a17.js" as="script">
<link rel="preload" href="/taro/75e89b51.e14eadb4.js" as="script">
<link rel="preload" href="/taro/3e821025.17008bdb.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/taro/"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Taro logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Taro</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/taro/docs/README">3.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/taro/docs/next/README">ä¸‹ä¸ªç‰ˆæœ¬</a></li><li><a class="dropdown__link" href="/taro/docs/README">3.x</a></li><li><a class="dropdown__link" href="/taro/docs/2.x/README">2.x</a></li><li><a class="dropdown__link" href="/taro/docs/1.x/README">1.x</a></li><li><a class="dropdown__link" href="/taro/versions">å…¨éƒ¨ç‰ˆæœ¬</a></li></ul></div><a class="navbar__item navbar__link" href="/taro/docs/README">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/taro/docs/components-desc">ç»„ä»¶åº“</a><a class="navbar__item navbar__link" href="/taro/docs/apis/about/desc">API</a><a class="navbar__item navbar__link" href="/taro/docs/guide">æ•™ç¨‹</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/taro/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/taro/showcase">æ¡ˆä¾‹</a></div><div class="navbar__items navbar__items--right"><a href="https://taro-ui.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Taro UI</a><a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ç‰©æ–™å¸‚åœº</a><a href="https://taro-club.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">è®ºå›</a><a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">äº¬ä¸œå°ç¨‹åº</a><a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/taro/"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Taro logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Taro</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/taro/docs/next/README">ä¸‹ä¸ªç‰ˆæœ¬</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/README">3.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/2.x/README">2.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/1.x/README">1.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/versions">å…¨éƒ¨ç‰ˆæœ¬</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/README">æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/components-desc">ç»„ä»¶åº“</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/apis/about/desc">API</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/guide">æ•™ç¨‹</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/taro/blog">åšå®¢</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/showcase">æ¡ˆä¾‹</a></li><li class="menu__list-item"><a href="https://taro-ui.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">Taro UI</a></li><li class="menu__list-item"><a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">ç‰©æ–™å¸‚åœº</a></li><li class="menu__list-item"><a href="https://taro-club.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">è®ºå›</a></li><li class="menu__list-item"><a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer" class="menu__link">äº¬ä¸œå°ç¨‹åº</a></li><li class="menu__list-item"><a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--2"><div class="sidebar_3I7I thin-scrollbar"><h3 class="sidebarItemTitle_2Dv3">æœ€è¿‘æ›´æ–°</h3><ul class="sidebarItemList_1RlG"><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2020-09-01-taro-versions">Taro ç‰ˆæœ¬å‡çº§æƒå¨æŒ‡å—</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2020-07-01-taro-3-0-0">Taro 3 æ­£å¼ç‰ˆå‘å¸ƒï¼šå¼€æ”¾å¼è·¨ç«¯è·¨æ¡†æ¶è§£å†³æ–¹æ¡ˆ</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2020-05-26-taro-3-rc">Taro 3.0 RCï¼šReact/Vue/Nerv ä»»ä½ é€‰</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2020-04-27-taro-build-jd">ä½¿ç”¨ Taro å¿«é€Ÿå¼€å‘äº¬ä¸œå°ç¨‹åº</a></li><li class="sidebarItem_Hxgp"><a class="sidebarItemLink_3ppv" href="/taro/blog/2020-04-27-taro-vs-jd">äº¬ä¸œå°ç¨‹åº Taro å¼€å‘å¯¹æ¯”åŸç”Ÿå¼€å‘æµ‹è¯„</a></li></ul></div></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_1mse">Taro Next H5 è·¨æ¡†æ¶ç»„ä»¶åº“å®è·µ</h1><div class="margin-vert--md"><time datetime="2020-04-13T00:00:00.000Z" class="blogPostDate_3bQP">April 13, 2020  Â· 7 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/Chen-jj" target="_blank" rel="noreferrer noopener"><img src="https://storage.jd.com/cjj-pub-images/11807297.png" alt="JJ"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/Chen-jj" target="_blank" rel="noreferrer noopener">JJ</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p><img src="https://img30.360buyimg.com/ling/jfs/t1/108543/10/12151/1750297/5e93ef97Ef424d4a7/29cf4e4364e5d3f0.png" alt="image"></p><p><a href="https://github.com/NervJS/taro">Taro</a> æ˜¯ä¸€æ¬¾å¤šç«¯å¼€å‘æ¡†æ¶ã€‚å¼€å‘è€…åªéœ€ç¼–å†™ä¸€ä»½ä»£ç ï¼Œå³å¯ç”Ÿæˆå„å°ç¨‹åºç«¯ã€H5 ä»¥åŠ React Native çš„åº”ç”¨ã€‚</p><blockquote><p><a href="https://docs.taro.zone/taro/docs/README.html">Taro Next</a> è¿‘æœŸå·²å‘å¸ƒ beta ç‰ˆæœ¬ï¼Œå…¨é¢å®Œå–„å¯¹å°ç¨‹åºä»¥åŠ H5 çš„æ”¯æŒï¼Œæ¬¢è¿ä½“éªŒï¼</p></blockquote><p>æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»å¯¹ <strong>Taro H5 ç«¯ç»„ä»¶åº“</strong>çš„æ”¹é€ å·¥ä½œã€‚</p><h2 id="èƒŒæ™¯">èƒŒæ™¯</h2><h3 id="taro-next-å°†æ”¯æŒä½¿ç”¨å¤šæ¡†æ¶å¼€å‘">Taro Next å°†æ”¯æŒä½¿ç”¨å¤šæ¡†æ¶å¼€å‘</h3><p>è¿‡å»çš„ Taro 1 ä¸ Taro 2 åªèƒ½ä½¿ç”¨ React è¯­æ³•è¿›è¡Œå¼€å‘ï¼Œä½†ä¸‹ä¸€ä»£çš„ Taro æ¡†æ¶å¯¹æ•´ä½“æ¶æ„è¿›è¡Œäº†<a href="https://aotu.io/notes/2020/02/03/taro-next-alpha/">å‡çº§</a>ï¼Œæ”¯æŒä½¿ç”¨ Reactã€Vueã€Nerv ç­‰æ¡†æ¶å¼€å‘å¤šç«¯åº”ç”¨ã€‚</p><p>ä¸ºäº†æ”¯æŒä½¿ç”¨å¤šæ¡†æ¶è¿›è¡Œå¼€å‘ï¼ŒTaro éœ€è¦å¯¹è‡ªèº«çš„å„ç«¯é€‚é…èƒ½åŠ›è¿›è¡Œæ”¹é€ ã€‚æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»å¯¹ <strong>Taro H5 ç«¯ç»„ä»¶åº“</strong>çš„æ”¹é€ å·¥ä½œã€‚</p><h3 id="taro-h5">Taro H5</h3><p>Taro éµå¾ªä»¥å¾®ä¿¡å°ç¨‹åºä¸ºä¸»ï¼Œå…¶ä»–å°ç¨‹åºä¸ºè¾…çš„ç»„ä»¶ä¸ API è§„èŒƒã€‚</p><p>ä½†æµè§ˆå™¨å¹¶æ²¡æœ‰å°ç¨‹åºè§„èŒƒçš„ç»„ä»¶ä¸ API å¯ä¾›ä½¿ç”¨ï¼Œä¾‹å¦‚æˆ‘ä»¬ä¸èƒ½åœ¨æµè§ˆå™¨ä¸Šä½¿ç”¨å°ç¨‹åºçš„ <code>view</code> ç»„ä»¶å’Œ <code>getSystemInfo</code>  APIã€‚å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨ H5 ç«¯å®ç°ä¸€å¥—åŸºäºå°ç¨‹åºè§„èŒƒçš„ç»„ä»¶åº“å’Œ API åº“ã€‚</p><blockquote><p>Taro H5 æ¶æ„å›¾ï¼š</p></blockquote><p><img src="https://storage.jd.com/cjj-pub-images/WX20200402-140148.png"></p><p>åœ¨ Taro 1 å’Œ Taro 2 ä¸­ï¼ŒTaro H5 çš„ç»„ä»¶åº“ä½¿ç”¨äº† React è¯­æ³•è¿›è¡Œå¼€å‘ã€‚ä½†å¦‚æœå¼€å‘è€…åœ¨ Taro Next ä¸­ä½¿ç”¨ Vue å¼€å‘ H5 åº”ç”¨ï¼Œåˆ™ä¸èƒ½å’Œç°æœ‰çš„ H5 ç»„ä»¶åº“å…¼å®¹ã€‚</p><p>æ‰€ä»¥æœ¬æ–‡éœ€è¦é¢å¯¹çš„æ ¸å¿ƒé—®é¢˜å°±æ˜¯ï¼š<strong>æˆ‘ä»¬éœ€è¦åœ¨ H5 ç«¯å®ç° Reactã€Vue ç­‰æ¡†æ¶éƒ½å¯ä»¥ä½¿ç”¨çš„ç»„ä»¶åº“</strong>ã€‚</p><h3 id="æ–¹æ¡ˆé€‰æ‹©">æ–¹æ¡ˆé€‰æ‹©</h3><p>æˆ‘ä»¬æœ€å…ˆæƒ³åˆ°çš„æ˜¯ä½¿ç”¨ Vue å†å¼€å‘ä¸€å¥—ç»„ä»¶åº“ï¼Œè¿™æ ·æœ€ä¸ºç¨³å¦¥ï¼Œå·¥ä½œé‡ä¹Ÿæ²¡æœ‰ç‰¹åˆ«å¤§ã€‚</p><p>ä½†è€ƒè™‘åˆ°ä»¥ä¸‹ä¸¤ç‚¹ï¼Œæˆ‘ä»¬é‚æ”¾å¼ƒäº†æ­¤æ€è·¯ï¼š</p><ol><li>ç»„ä»¶åº“çš„å¯ç»´æŠ¤æ€§å’Œæ‹“å±•æ€§ä¸è¶³ã€‚æ¯å½“æœ‰é—®é¢˜éœ€è¦ä¿®å¤æˆ–æ–°åŠŸèƒ½éœ€è¦æ·»åŠ ï¼Œæˆ‘ä»¬éœ€è¦åˆ†åˆ«å¯¹ React å’Œ Vue ç‰ˆæœ¬çš„ç»„ä»¶åº“è¿›è¡Œæ”¹é€ ã€‚</li><li>Taro Next çš„ç›®æ ‡æ˜¯æ”¯æŒä½¿ç”¨ä»»æ„æ¡†æ¶å¼€å‘å¤šç«¯åº”ç”¨ã€‚å€˜è‹¥å°†æ¥æ”¯æŒä½¿ç”¨ Angular ç­‰æ¡†æ¶è¿›è¡Œå¼€å‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å†å¼€å‘å¯¹åº”æ”¯æŒ Angular ç­‰æ¡†æ¶çš„ç»„ä»¶åº“ã€‚</li></ol><p>é‚£ä¹ˆæ˜¯å¦å­˜åœ¨ç€ä¸€ç§æ–¹æ¡ˆï¼Œä½¿å¾—åªç”¨ä¸€ä»½ä»£ç æ„å»ºçš„ç»„ä»¶åº“èƒ½å…¼å®¹æ‰€æœ‰çš„ web å¼€å‘æ¡†æ¶å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆå°±æ˜¯ <strong>Web Components</strong>ã€‚</p><p>ä½†åœ¨ç»„ä»¶åº“æ”¹é€ ä¸º Web Components çš„è¿‡ç¨‹å¹¶ä¸æ˜¯ä¸€å‡¡é£é¡ºçš„ï¼Œæˆ‘ä»¬ä¹Ÿé‡åˆ°äº†ä¸å°‘çš„é—®é¢˜ï¼Œæ•…å€Ÿæ­¤æ–‡å‘å¤§å®¶å¨“å¨“é“æ¥ã€‚</p><h2 id="web-components-ç®€ä»‹">Web Components ç®€ä»‹</h2><p><a href="https://www.webcomponents.org/introduction">Web Components</a> ç”±ä¸€ç³»åˆ—çš„æŠ€æœ¯è§„èŒƒæ‰€ç»„æˆï¼Œå®ƒè®©å¼€å‘è€…å¯ä»¥å¼€å‘å‡ºæµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ç»„ä»¶ã€‚</p><h3 id="æŠ€æœ¯è§„èŒƒ">æŠ€æœ¯è§„èŒƒ</h3><p>Web Components çš„ä¸»è¦æŠ€æœ¯è§„èŒƒä¸ºï¼š</p><ul><li>Custom Elements</li><li>Shadow DOM</li><li>HTML Template</li></ul><p>Custom Elements è®©å¼€å‘è€…å¯ä»¥è‡ªå®šä¹‰å¸¦æœ‰ç‰¹å®šè¡Œä¸ºçš„ HTML æ ‡ç­¾ã€‚</p><p>Shadow DOM å¯¹æ ‡ç­¾å†…çš„ç»“æ„å’Œæ ·å¼è¿›è¡Œä¸€å±‚åŒ…è£…ã€‚</p><p><code>&lt;template&gt;</code> æ ‡ç­¾ä¸º Web Components æä¾›å¤ç”¨æ€§ï¼Œè¿˜å¯ä»¥é…åˆ <code>&lt;slot&gt;</code> æ ‡ç­¾æä¾›çµæ´»æ€§ã€‚</p><h3 id="ç¤ºä¾‹">ç¤ºä¾‹</h3><p>å®šä¹‰æ¨¡æ¿ï¼š</p><pre><code class="language-html">&lt;template id=&quot;template&quot;&gt;
  &lt;h1&gt;Hello World!&lt;/h1&gt;
&lt;/template&gt;
</code></pre><p>æ„é€  Custom Elementï¼š</p><pre><code class="language-js">class App extends HTMLElement {
  constructor () {
    super(...arguments)

    // å¼€å¯ Shadow DOM
    const shadowRoot = this.attachShadow({ mode: &#x27;open&#x27; })

    // å¤ç”¨ &lt;template&gt; å®šä¹‰å¥½çš„ç»“æ„ 
    const template = document.querySelector(&#x27;#template&#x27;)
    const node = template.content.cloneNode(true)
    shadowRoot.appendChild(node)
  }
}
window.customElements.define(&#x27;my-app&#x27;, App)
</code></pre><p>ä½¿ç”¨ï¼š</p><pre><code class="language-html">&lt;my-app&gt;&lt;/my-app&gt;
</code></pre><h2 id="stencil">Stencil</h2><p>ä½¿ç”¨åŸç”Ÿè¯­æ³•å»ç¼–å†™ Web Components ç›¸å½“ç¹çï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¡†æ¶å¸®åŠ©æˆ‘ä»¬æé«˜å¼€å‘æ•ˆç‡å’Œå¼€å‘ä½“éªŒã€‚</p><p>ä¸šç•Œå·²ç»æœ‰å¾ˆå¤šæˆç†Ÿçš„ <a href="https://www.webcomponents.org/libraries">Web Components æ¡†æ¶</a>ï¼Œä¸€ç•ªæ¯”è¾ƒåæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº† <a href="https://stenciljs.com/docs/introduction">Stencil</a>ï¼ŒåŸå› æœ‰äºŒï¼š</p><ol><li>Stencil ç”± Ionic å›¢é˜Ÿæ‰“é€ ï¼Œè¢«ç”¨äºæ„å»º Ionic çš„ç»„ä»¶åº“ï¼Œè¯æ˜ç»å—è¿‡ä¸šç•Œè€ƒéªŒã€‚</li><li>Stencil æ”¯æŒ JSXï¼Œèƒ½å‡å°‘ç°æœ‰ç»„ä»¶åº“çš„è¿ç§»æˆæœ¬ã€‚</li></ol><p>Stencil æ˜¯ä¸€ä¸ªå¯ä»¥ç”Ÿæˆ Web Components çš„ç¼–è¯‘å™¨ã€‚å®ƒç³…åˆäº†ä¸šç•Œå‰ç«¯æ¡†æ¶çš„ä¸€äº›ä¼˜ç§€æ¦‚å¿µï¼Œå¦‚æ”¯æŒ Typescriptã€JSXã€è™šæ‹Ÿ DOM ç­‰ã€‚</p><h3 id="ç¤ºä¾‹ï¼š">ç¤ºä¾‹ï¼š</h3><p>åˆ›å»º Stencil Componentï¼š</p><pre><code class="language-jsx">import { Component, Prop, State, h } from &#x27;@stencil/core&#x27;

@Component({
  tag: &#x27;my-component&#x27;
})
export class MyComponent {
  @Prop() first = &#x27;&#x27;
  @State() last = &#x27;JS&#x27;

  componentDidLoad () {
    console.log(&#x27;load&#x27;)
  }

  render () {
    return (
      &lt;div&gt;
        Hello, my name is {this.first} {this.last}
      &lt;/div&gt;
    )
  }
}
</code></pre><p>ä½¿ç”¨ç»„ä»¶ï¼š</p><pre><code class="language-html">&lt;my-component first=&#x27;Taro&#x27; /&gt;
</code></pre><h2 id="åœ¨-react-ä¸-vue-ä¸­ä½¿ç”¨-stencil">åœ¨ React ä¸ Vue ä¸­ä½¿ç”¨ Stencil</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ä¸€åˆ‡éƒ½é‚£ä¹ˆç¾å¥½ï¼šä½¿ç”¨ Stencil ç¼–å†™å‡º Web Componentsï¼Œå³å¯ä»¥åœ¨ React å’Œ Vue ä¸­ç›´æ¥ä½¿ç”¨å®ƒä»¬ã€‚</p><p>ä½†å®é™…ä½¿ç”¨ä¸Šå´ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œ<a href="https://custom-elements-everywhere.com/">Custom Elements Everywhere</a> é€šè¿‡ä¸€ç³»åˆ—çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç½—åˆ—å‡ºä¸šç•Œå‰ç«¯æ¡†æ¶å¯¹ Web Components çš„å…¼å®¹é—®é¢˜åŠç›¸å…³ issuesã€‚ä¸‹é¢å°†ç®€å•ä»‹ç» Taro H5 ç»„ä»¶åº“åˆ†åˆ«å¯¹ React å’Œ Vue çš„å…¼å®¹å·¥ä½œã€‚</p><h3 id="å…¼å®¹-react">å…¼å®¹ React</h3><h4 id="1-props">1. Props</h4><h5 id="11-é—®é¢˜">1.1 é—®é¢˜</h5><p>React ä½¿ç”¨ <code>setAttribute</code> çš„å½¢å¼ç»™ Web Components ä¼ é€’å‚æ•°ã€‚å½“å‚æ•°ä¸ºåŸå§‹ç±»å‹æ—¶æ˜¯å¯ä»¥è¿è¡Œçš„ï¼Œä½†æ˜¯å¦‚æœå‚æ•°ä¸ºå¯¹è±¡æˆ–æ•°ç»„æ—¶ï¼Œç”±äº HTML å…ƒç´ çš„ attribute å€¼åªèƒ½ä¸ºå­—ç¬¦ä¸²æˆ– nullï¼Œæœ€ç»ˆç»™ WebComponents è®¾ç½®çš„ attribute ä¼šæ˜¯ <code>attr=&quot;[object Object]&quot;</code>ã€‚</p><blockquote><p>attribute ä¸ property <a href="https://stackoverflow.com/questions/6003819/what-is-the-difference-between-properties-and-attributes-in-html#answer-6004028">åŒºåˆ«</a></p></blockquote><h5 id="12-è§£å†³æ–¹æ¡ˆ">1.2 è§£å†³æ–¹æ¡ˆ</h5><p>é‡‡ç”¨ <strong>DOM Property</strong> çš„æ–¹æ³•ä¼ å‚ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠ Web Components åŒ…è£…ä¸€å±‚é«˜é˜¶ç»„ä»¶ï¼ŒæŠŠé«˜é˜¶ç»„ä»¶ä¸Šçš„ props è®¾ç½®ä¸º Web Components çš„ propertyï¼š</p><pre><code class="language-js">const reactifyWebComponent = WC =&gt; {
  return class extends React.Component {
    ref = React.createRef()

    update () {
      Object.entries(this.props).forEach(([prop, val]) =&gt; {
        if (prop === &#x27;children&#x27; || prop === &#x27;dangerouslySetInnerHTML&#x27;) {
          return
        }
        if (prop === &#x27;style&#x27; &amp;&amp; val &amp;&amp; typeof val === &#x27;object&#x27;) {
          for (const key in val) {
            this.ref.current.style[key] = val[key]
          }
          return
        }
        this.ref.current[prop] = val
      })
    }

    componentDidUpdate () {
      this.update()
    }

    componentDidMount () {
      this.update()
    }

    render () {
      const { children, dangerouslySetInnerHTML } = this.props
      return React.createElement(WC, {
        ref: this.ref,
        dangerouslySetInnerHTML
      }, children)
    }
  }
}

const MyComponent = reactifyWebComponent(&#x27;my-component&#x27;)
</code></pre><p>æ³¨æ„ï¼š</p><ul><li>childrenã€dangerouslySetInnerHTML å±æ€§éœ€è¦é€ä¼ ã€‚</li><li>React ä¸­ style å±æ€§å€¼å¯ä»¥æ¥å—å¯¹è±¡å½¢å¼ï¼Œè¿™é‡Œéœ€è¦é¢å¤–å¤„ç†ã€‚</li></ul><h4 id="2-events">2. Events</h4><h5 id="21-é—®é¢˜">2.1 é—®é¢˜</h5><p>å› ä¸º React æœ‰ä¸€å¥—<a href="https://reactjs.org/docs/events.html">åˆæˆäº‹ä»¶ç³»ç»Ÿ</a>ï¼Œæ‰€ä»¥å®ƒä¸èƒ½ç›‘å¬åˆ° Web Components å‘å‡ºçš„è‡ªå®šä¹‰äº‹ä»¶ã€‚</p><p>ä»¥ä¸‹ Web Component çš„ onLongPress å›è°ƒä¸ä¼šè¢«è§¦å‘ï¼š</p><pre><code class="language-html">&lt;my-view onLongPress={onLongPress}&gt;view&lt;/my-view&gt;
</code></pre><h5 id="22-è§£å†³æ–¹æ¡ˆ">2.2 è§£å†³æ–¹æ¡ˆ</h5><p>é€šè¿‡ ref å–å¾— Web Component å…ƒç´ ï¼Œæ‰‹åŠ¨ <strong>addEventListener</strong> ç»‘å®šäº‹ä»¶ã€‚</p><p>æ”¹é€ ä¸Šè¿°çš„é«˜é˜¶ç»„ä»¶ï¼š</p><pre><code class="language-js">const reactifyWebComponent = WC =&gt; {
  return class Index extends React.Component {
    ref = React.createRef()
    eventHandlers = []

    update () {
      this.clearEventHandlers()

      Object.entries(this.props).forEach(([prop, val]) =&gt; {
        if (typeof val === &#x27;function&#x27; &amp;&amp; prop.match(/^on[A-Z]/)) {
          const event = prop.substr(2).toLowerCase()
          this.eventHandlers.push([event, val])
          return this.ref.current.addEventListener(event, val)
        }

        ...
      })
    }

    clearEventHandlers () {
      this.eventHandlers.forEach(([event, handler]) =&gt; {
        this.ref.current.removeEventListener(event, handler)
      })
      this.eventHandlers = []
    }

    componentWillUnmount () {
      this.clearEventHandlers()
    }
    
    ...
  }
}
</code></pre><h4 id="3-ref">3. Ref</h4><h5 id="31-é—®é¢˜">3.1 é—®é¢˜</h5><p>æˆ‘ä»¬ä¸ºäº†è§£å†³ Props å’Œ Events çš„é—®é¢˜ï¼Œå¼•å…¥äº†é«˜é˜¶ç»„ä»¶ã€‚é‚£ä¹ˆå½“å¼€å‘è€…å‘é«˜é˜¶ç»„ä»¶ä¼ å…¥ ref æ—¶ï¼Œè·å–åˆ°çš„å…¶å®æ˜¯é«˜é˜¶ç»„ä»¶ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å¼€å‘è€…èƒ½è·å–åˆ°å¯¹åº”çš„ Web Componentã€‚</p><p>domRef ä¼šè·å–åˆ° <code>MyComponent</code>ï¼Œè€Œä¸æ˜¯ <code>&lt;my-component&gt;&lt;/my-component&gt;</code></p><pre><code class="language-jsx">&lt;MyComponent ref={domRef} /&gt;
</code></pre><h5 id="32-è§£å†³æ–¹æ¡ˆ">3.2 è§£å†³æ–¹æ¡ˆ</h5><p>ä½¿ç”¨ <a href="https://reactjs.org/docs/forwarding-refs.html#forwarding-refs-to-dom-components">forwardRef</a> ä¼ é€’ refã€‚</p><p>æ”¹é€ ä¸Šè¿°çš„é«˜é˜¶ç»„ä»¶ä¸º forwardRef å½¢å¼ï¼š</p><pre><code class="language-js">const reactifyWebComponent = WC =&gt; {
  class Index extends React.Component {
    ...
    
    render () {
      const { children, forwardRef } = this.props
      return React.createElement(WC, {
        ref: forwardRef
      }, children)
    }
  }
  return React.forwardRef((props, ref) =&gt; (
    React.createElement(Index, { ...props, forwardRef: ref })
  ))
}
</code></pre><h4 id="4-hosts-classname">4. Host&#x27;s className</h4><h5 id="41-é—®é¢˜">4.1 é—®é¢˜</h5><p>åœ¨ Stencil é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Host ç»„ä»¶ä¸º host element æ·»åŠ ç±»åã€‚</p><pre><code class="language-js">import { Component, Host, h } from &#x27;@stencil/core&#x27;;

@Component({
  tag: &#x27;todo-list&#x27;
})
export class TodoList {
  render () {
    return (
      &lt;Host class=&#x27;todo-list&#x27;&gt;
        &lt;div&gt;todo&lt;/div&gt;
      &lt;/Host&gt;
    )
  }
}
</code></pre><p>ç„¶ååœ¨ä½¿ç”¨ <code>&lt;todo-list&gt;</code> å…ƒç´ æ—¶ä¼šå±•ç¤ºæˆ‘ä»¬å†…ç½®çš„ç±»å â€œtodo-listâ€ å’Œ Stencil è‡ªåŠ¨åŠ å…¥çš„ç±»å â€œhydratedâ€ï¼š</p><p><img src="https://storage.jd.com/cjj-pub-images/WX20200401-102833.png"></p><p>ä½†å¦‚æœæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶è®¾ç½®äº†åŠ¨æ€ç±»åï¼Œå¦‚ï¼š <code>&lt;todo-list class={this.state.cls}&gt;</code>ã€‚é‚£ä¹ˆåœ¨åŠ¨æ€ç±»åæ›´æ–°æ—¶ï¼Œåˆ™ä¼šæŠŠå†…ç½®çš„ç±»å â€œtodo-listâ€ å’Œ â€œhydratedâ€ æŠ¹é™¤æ‰ã€‚</p><p><strong>å…³äºç±»å â€œhydratedâ€ï¼š</strong></p><p>Stencil ä¼šä¸ºæ‰€æœ‰ Web Components åŠ ä¸Š <code>visibility: hidden;</code> çš„æ ·å¼ã€‚ç„¶ååœ¨å„ Web Component åˆå§‹åŒ–å®ŒæˆååŠ å…¥ç±»å â€œhydratedâ€ï¼Œå°† <code>visibility</code> æ”¹ä¸º <code>inherit</code>ã€‚å¦‚æœ â€œhydratedâ€ è¢«æŠ¹é™¤æ‰ï¼ŒWeb Components å°†ä¸å¯è§ã€‚</p><p>å› æ­¤æˆ‘ä»¬éœ€è¦ä¿è¯åœ¨ç±»åæ›´æ–°æ—¶ä¸ä¼šè¦†ç›– Web Components çš„å†…ç½®ç±»åã€‚</p><h5 id="42-è§£å†³æ–¹æ¡ˆ">4.2 è§£å†³æ–¹æ¡ˆ</h5><p>é«˜é˜¶ç»„ä»¶åœ¨ä½¿ç”¨ ref ä¸º Web Component è®¾ç½® className å±æ€§æ—¶ï¼Œå¯¹å†…ç½® class è¿›è¡Œåˆå¹¶ã€‚</p><p>æ”¹é€ ä¸Šè¿°çš„é«˜é˜¶ç»„ä»¶ï¼š</p><pre><code class="language-js">const reactifyWebComponent = WC =&gt; {
  class Index extends React.Component {
    update (prevProps) {
      Object.entries(this.props).forEach(([prop, val]) =&gt; {
        if (prop.toLowerCase() === &#x27;classname&#x27;) {
          this.ref.current.className = prevProps
            // getClassName åœ¨ä¿ç•™å†…ç½®ç±»åçš„æƒ…å†µä¸‹ï¼Œè¿”å›æœ€æ–°çš„ç±»å
            ? getClassName(this.ref.current, prevProps, this.props)
            : val
          return
        }

        ...
      })
    }

    componentDidUpdate (prevProps) {
      this.update(prevProps)
    }

    componentDidMount () {
      this.update()
    }

    ...
  }
  return React.forwardRef((props, ref) =&gt; (
    React.createElement(Index, { ...props, forwardRef: ref })
  ))
}
</code></pre><h3 id="å…¼å®¹-vue">å…¼å®¹ Vue</h3><p>ä¸åŒäº Reactï¼Œè™½ç„¶ Vue åœ¨ä¼ é€’å‚æ•°ç»™ Web Components æ—¶ä¹Ÿæ˜¯é‡‡ç”¨ <code>setAttribute</code> çš„æ–¹å¼ï¼Œä½† v-bind æŒ‡ä»¤æä¾›äº† <a href="https://cn.vuejs.org/v2/api/#v-bind">.prop</a> ä¿®é¥°ç¬¦ï¼Œå®ƒå¯ä»¥å°†å‚æ•°ä½œä¸º DOM property æ¥ç»‘å®šã€‚å¦å¤– Vue ä¹Ÿèƒ½ç›‘å¬ Web Components å‘å‡ºçš„è‡ªå®šä¹‰äº‹ä»¶ã€‚</p><p>å› æ­¤ Vue åœ¨ Props å’Œ Events ä¸¤ä¸ªé—®é¢˜ä¸Šéƒ½ä¸éœ€è¦é¢å¤–å¤„ç†ï¼Œä½†åœ¨ä¸ Stencil çš„é…åˆä¸Šè¿˜æ˜¯æœ‰ä¸€äº›å…¼å®¹é—®é¢˜ï¼Œæ¥ä¸‹æ¥å°†åˆ—å‡ºä¸»è¦çš„ä¸‰ç‚¹ã€‚</p><h4 id="1-hosts-classname">1. Host&#x27;s className</h4><h5 id="11-é—®é¢˜-1">1.1 é—®é¢˜</h5><p>åŒä¸Šæ–‡å…¼å®¹ React ç¬¬å››éƒ¨åˆ†ï¼Œåœ¨ Vue ä¸­æ›´æ–° host element çš„ classï¼Œä¹Ÿä¼šè¦†ç›–å†…ç½® classã€‚</p><h5 id="12-è§£å†³æ–¹æ¡ˆ-1">1.2 è§£å†³æ–¹æ¡ˆ</h5><p>åŒæ ·çš„æ€è·¯ï¼Œéœ€è¦åœ¨ Web Components ä¸ŠåŒ…è£…ä¸€å±‚ Vue çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚</p><pre><code class="language-js">function createComponent (name, classNames = []) {
  return {
    name,
    computed: {
      listeners () {
        return { ...this.$listeners }
      }
    },
    render (createElement) {
      return createElement(name, {
        class: [&#x27;hydrated&#x27;, ...classNames],
        on: this.listeners
      }, this.$slots.default)
    }
  }
}

Vue.component(&#x27;todo-list&#x27;, createComponent(&#x27;todo-list&#x27;, [&#x27;todo-list&#x27;]))
</code></pre><p>æ³¨æ„ï¼š</p><ul><li>æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­é‡å¤å£°æ˜äº† Web Component è¯¥æœ‰çš„å†…ç½®ç±»åã€‚åç»­å¼€å‘è€…ä¸ºè‡ªå®šä¹‰ç»„ä»¶è®¾ç½®ç±»åæ—¶ï¼ŒVue å°†ä¼š<a href="https://cn.vuejs.org/v2/guide/components-props.html#%E6%9B%BF%E6%8D%A2-%E5%90%88%E5%B9%B6%E5%B7%B2%E6%9C%89%E7%9A%84-Attribute">è‡ªåŠ¨å¯¹ç±»åè¿›è¡Œåˆå¹¶</a>ã€‚</li><li>éœ€è¦æŠŠè‡ªå®šä¹‰ç»„ä»¶ä¸Šç»‘å®šçš„äº‹ä»¶é€šè¿‡ <a href="https://cn.vuejs.org/v2/guide/components-custom-events.html#%E5%B0%86%E5%8E%9F%E7%94%9F%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E7%BB%84%E4%BB%B6">$listeners</a> é€ä¼ ç»™ Web Componentã€‚</li></ul><h4 id="2-ref">2. Ref</h4><h5 id="21-é—®é¢˜-1">2.1 é—®é¢˜</h5><p>ä¸ºäº†è§£å†³é—®é¢˜ 1ï¼Œæˆ‘ä»¬ç»™ Vue ä¸­çš„ Web Components éƒ½åŒ…è£…äº†ä¸€å±‚è‡ªå®šä¹‰ç»„ä»¶ã€‚åŒæ ·åœ°ï¼Œå¼€å‘è€…åœ¨ä½¿ç”¨ ref æ—¶å–åˆ°çš„æ˜¯è‡ªå®šä¹‰ç»„ä»¶ï¼Œè€Œä¸æ˜¯ Web Componentã€‚</p><h5 id="22-è§£å†³æ–¹æ¡ˆ-1">2.2 è§£å†³æ–¹æ¡ˆ</h5><p>Vue å¹¶æ²¡æœ‰ forwardRef çš„æ¦‚å¿µï¼Œåªå¯ç®€å•ç²—æš´åœ°ä¿®æ”¹ <code>this.$parent.$refs</code>ã€‚</p><p>ä¸ºè‡ªå®šä¹‰ç»„ä»¶å¢åŠ ä¸€ä¸ª mixinï¼š</p><pre><code class="language-js">export const refs = {
  mounted () {
    if (Object.keys(this.$parent.$refs).length) {
      const refs = this.$parent.$refs

      for (const key in refs) {
        if (refs[key] === this) {
          refs[key] = this.$el
          break
        }
      }
    }
  },
  beforeDestroy () {
    if (Object.keys(this.$parent.$refs).length) {
      const refs = this.$parent.$refs

      for (const key in refs) {
        if (refs[key] === this.$el) {
          refs[key] = null
          break
        }
      }
    }
  }
}
</code></pre><p>æ³¨æ„ï¼š</p><ul><li>ä¸Šè¿°ä»£ç æ²¡æœ‰å¤„ç†å¾ªç¯ refï¼Œå¾ªç¯ ref è¿˜éœ€è¦å¦å¤–åˆ¤æ–­å’Œå¤„ç†ã€‚</li></ul><h4 id="3-v-model">3. v-model</h4><h5 id="31-é—®é¢˜-1">3.1 é—®é¢˜</h5><p>æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­ä½¿ç”¨äº†æ¸²æŸ“å‡½æ•°è¿›è¡Œæ¸²æŸ“ï¼Œå› æ­¤å¯¹è¡¨å•ç»„ä»¶éœ€è¦é¢å¤–å¤„ç† <a href="https://cn.vuejs.org/v2/guide/render-function.html#v-model">v-model</a>ã€‚</p><h5 id="32-è§£å†³æ–¹æ¡ˆ-1">3.2 è§£å†³æ–¹æ¡ˆ</h5><p>ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šçš„ <code>model</code> é€‰é¡¹ï¼Œå®šåˆ¶ç»„ä»¶ä½¿ç”¨ <code>v-model</code> æ—¶çš„ prop å’Œ eventã€‚</p><p>æ”¹é€ ä¸Šè¿°çš„è‡ªå®šä¹‰ç»„ä»¶ï¼š</p><pre><code class="language-js">export default function createFormsComponent (name, event, modelValue = &#x27;value&#x27;, classNames = []) {
  return {
    name,
    computed: {
      listeners () {
        return { ...this.$listeners }
      }
    },
    model: {
      prop: modelValue,
      event: &#x27;model&#x27;
    },
    methods: {
      input (e) {
        this.$emit(&#x27;input&#x27;, e)
        this.$emit(&#x27;model&#x27;, e.target.value)
      },
      change (e) {
        this.$emit(&#x27;change&#x27;, e)
        this.$emit(&#x27;model&#x27;, e.target.value)
      }
    },
    render (createElement) {
      return createElement(name, {
        class: [&#x27;hydrated&#x27;, ...classNames],
        on: {
          ...this.listeners,
          [event]: this[event]
        }
      }, this.$slots.default)
    }
  }
}

const Input = createFormsComponent(&#x27;taro-input&#x27;, &#x27;input&#x27;)
const Switch = createFormsComponent(&#x27;taro-switch&#x27;, &#x27;change&#x27;, &#x27;checked&#x27;)
Vue.component(&#x27;taro-input&#x27;, Input)
Vue.component(&#x27;taro-switch&#x27;, Switch)
</code></pre><h2 id="æ€»ç»“">æ€»ç»“</h2><p>å½“æˆ‘ä»¬å¸Œæœ›åˆ›å»ºä¸€äº›ä¸æ‹˜æ³¥äºæ¡†æ¶çš„ç»„ä»¶æ—¶ï¼ŒWeb Components ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚æ¯”å¦‚è·¨å›¢é˜Ÿåä½œï¼ŒåŒæ–¹çš„æŠ€æœ¯æ ˆä¸åŒï¼Œä½†åˆéœ€è¦å…¬ç”¨éƒ¨åˆ†ç»„ä»¶æ—¶ã€‚</p><p>æœ¬æ¬¡å¯¹ React è¯­æ³•ç»„ä»¶åº“è¿›è¡Œ Web Components åŒ–æ”¹é€ ï¼Œå·¥ä½œé‡ä¸ä¸‹äºé‡æ–°æ­å»ºä¸€ä¸ª Vue ç»„ä»¶åº“ã€‚ä½†æ—¥åå½“ Taro æ”¯æŒä½¿ç”¨å…¶ä»–æ¡†æ¶ç¼–å†™å¤šç«¯åº”ç”¨æ—¶ï¼Œåªéœ€è¦é’ˆå¯¹å¯¹åº”æ¡†æ¶ä¸ Web Components å’Œ Stencil çš„å…¼å®¹é—®é¢˜ç¼–å†™ä¸€ä¸ªèƒ¶æ°´å±‚å³å¯ï¼Œæ€»ä½“æ¥çœ‹è¿˜æ˜¯å€¼å¾—çš„ã€‚</p><p>å…³äºèƒ¶æ°´å±‚ï¼Œä¸šç•Œå…¼å®¹ React çš„æ–¹æ¡ˆé¢‡å¤šï¼Œåªæ˜¯å…¼å®¹ Web Components å¯ä»¥ä½¿ç”¨ <a href="https://github.com/BBKolton/reactify-wc">reactify-wc</a>ï¼Œé…åˆ Stencil åˆ™å¯ä»¥ä½¿ç”¨å®˜æ–¹æä¾›çš„æ’ä»¶ <a href="https://github.com/ionic-team/stencil-ds-plugins/blob/master/README.md">Stencil DS Plugin</a>ã€‚å€˜è‹¥ Vue éœ€è¦å…¼å®¹ Stencilï¼Œæˆ–éœ€è¦æé«˜å…¼å®¹æ—¶çš„çµæ´»æ€§ï¼Œè¿˜æ˜¯å»ºè®®æ‰‹å·¥ç¼–å†™ä¸€ä¸ªèƒ¶æ°´å±‚ã€‚</p><p>æœ¬æ–‡ç®€å•ä»‹ç»äº† Taro Nextã€Web Componentsã€Stencil ä»¥åŠåŸºäº Stencil çš„ç»„ä»¶åº“æ”¹é€ å†ç¨‹ï¼Œå¸Œæœ›èƒ½ä¸ºè¯»è€…ä»¬å¸¦æ¥ä¸€äº›å¸®åŠ©ä¸å¯è¿ªã€‚</p></section></article><div><a href="https://github.com/nervjs/taro/edit/blog/blog/2020-4-13-taro-components.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/taro/blog/2020-04-27-taro-vs-jd"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« äº¬ä¸œå°ç¨‹åº Taro å¼€å‘å¯¹æ¯”åŸç”Ÿå¼€å‘æµ‹è¯„</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/taro/blog/2020-02-13-taro-next-alpha"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Taro Next å‘å¸ƒé¢„è§ˆç‰ˆï¼šåŒæ—¶æ”¯æŒ React / Vue / Nerv Â»</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#èƒŒæ™¯" class="table-of-contents__link">èƒŒæ™¯</a><ul><li><a href="#taro-next-å°†æ”¯æŒä½¿ç”¨å¤šæ¡†æ¶å¼€å‘" class="table-of-contents__link">Taro Next å°†æ”¯æŒä½¿ç”¨å¤šæ¡†æ¶å¼€å‘</a></li><li><a href="#taro-h5" class="table-of-contents__link">Taro H5</a></li><li><a href="#æ–¹æ¡ˆé€‰æ‹©" class="table-of-contents__link">æ–¹æ¡ˆé€‰æ‹©</a></li></ul></li><li><a href="#web-components-ç®€ä»‹" class="table-of-contents__link">Web Components ç®€ä»‹</a><ul><li><a href="#æŠ€æœ¯è§„èŒƒ" class="table-of-contents__link">æŠ€æœ¯è§„èŒƒ</a></li><li><a href="#ç¤ºä¾‹" class="table-of-contents__link">ç¤ºä¾‹</a></li></ul></li><li><a href="#stencil" class="table-of-contents__link">Stencil</a><ul><li><a href="#ç¤ºä¾‹ï¼š" class="table-of-contents__link">ç¤ºä¾‹ï¼š</a></li></ul></li><li><a href="#åœ¨-react-ä¸-vue-ä¸­ä½¿ç”¨-stencil" class="table-of-contents__link">åœ¨ React ä¸ Vue ä¸­ä½¿ç”¨ Stencil</a><ul><li><a href="#å…¼å®¹-react" class="table-of-contents__link">å…¼å®¹ React</a></li><li><a href="#å…¼å®¹-vue" class="table-of-contents__link">å…¼å®¹ Vue</a></li></ul></li><li><a href="#æ€»ç»“" class="table-of-contents__link">æ€»ç»“</a></li></ul></div></div></div></div></div><footer class="footer" id="footer"><div class="grid_c1 footer_cont"><div class="footer_logo_container"><div class="footer_logo"></div><span class="footer_designedby"></span></div><div class="footer_link_container"><div class="footer_link"><h3 class="footer_link_tit footer_link_tit1">ç›¸å…³èµ„æº</h3><p><a class="link" href="https://taro.jd.com/" target="_blank">Taro</a></p><p><a class="link" href="https://taro-ui.jd.com/" target="_blank">Taro UI</a></p><p><a class="link" href="https://at-ui.github.io/at-ui/#/zh" target="_blank">At-UI</a></p><p><a class="link" href="https://nerv.aotu.io/" target="_blank">Nerv</a></p><p><a class="link" href="https://athena.aotu.io/" target="_blank">Athena</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit2">ç¤¾åŒº</h3><p><a href="https://github.com/NervJS/taro/issues" target="_blank">GitHub</a></p><p><a href="https://taro-club.jd.com" target="_blank">Taro BBS</a></p><p class="footer_link_connect_wrap"><span class="footer_link_connect footer_link_wechat">å¾®ä¿¡<span class="wechat_qrcode_icon"><svg t="1554966525626" class="icon svgicon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2588" data-spm-anchor-id="a313x.7781069.0.i0"><path d="M240.071 241.095h59.278v59.278h-59.278v-59.278z" fill="" p-id="2589"></path><path d="M405.959 134.485h-272.611v272.611h106.723v47.445h59.278v-47.445h106.723v-59.278h47.445v-47.445h-47.445l-0.114-165.888zM346.795 347.819h-154.169v-154.055h154.055v154.055h0.114zM240.071 727.154h59.278v59.278h-59.278v-59.278zM726.016 241.095h59.278v59.278h-59.278v-59.278zM512.683 509.042v63.943h59.278v-59.165h47.445v-59.278h-47.445v-47.445h-59.278v101.945zM512.683 725.789v60.643h59.278v-106.723h47.445v-59.278h-106.723v105.358zM571.961 786.432h47.445v47.445h-47.445v-47.445zM453.405 833.877v59.165h118.557v-59.165h-118.557z" fill="" p-id="2590"></path><path d="M678.685 679.709h-59.278v106.723h106.61v-59.278h-47.331v-47.445zM726.016 893.042h166.002v-59.165h-106.723v-47.445h-59.278v106.61zM892.018 513.821v-59.278h-106.723v59.278h106.723zM832.739 727.154h59.278v59.278h-59.278v-59.278zM453.405 347.819h59.278v59.278h-59.278v-59.278zM726.016 454.542v-47.445h166.002v-272.611h-272.611v59.278h-106.723v47.445h106.723v59.165h-47.445v47.445h47.445v59.278h59.278v47.445h47.331zM678.685 193.763h154.055v154.055h-154.055v-154.055zM678.685 572.985h47.331v47.445h-47.331v-47.445zM785.294 679.709h-59.278v47.445h106.723v-106.723h59.278v-47.445h-106.723v106.723zM453.405 241.095h59.278v59.278h-59.278v-59.278zM299.349 513.821h47.445v59.165h-47.445v-59.165zM453.405 454.542h-106.61v59.278h59.165v59.165h47.445v-118.443z" fill="" p-id="2591"></path><path d="M405.959 786.432v-106.723h47.445v-59.278h-213.333v-106.61h-106.723v59.278h59.278v47.445h-59.278v272.611h272.611v-59.278h47.445v-47.445h-47.445zM346.795 833.877h-154.169v-154.169h154.055v154.169h0.114zM453.405 572.985h59.278v47.445h-59.278v-47.445zM619.406 513.821h59.278v59.165h-59.278v-59.165zM726.016 513.821h59.278v59.165h-59.278v-59.165z" fill="" p-id="2592"></path></svg></span></span><span class="footer_link_wechat_img"><img src="https://camo.githubusercontent.com/10834a234b99a5880b5dff7c0ca7235e2a0772e7/687474703a2f2f696d6732302e333630627579696d672e636f6d2f7562612f6a66732f7432303139372f3238332f313638373136383837342f3133363034322f32623464383131662f35623330613635634e39643166303366312e706e67"></span></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit3">å…³äºæˆ‘ä»¬</h3><p><a href="https://aotu.io/" target="_blank">å‡¹å‡¸å®éªŒå®¤</a></p><p><a href="https://aotu.io/join/" target="_blank">åŠ å…¥æˆ‘ä»¬</a></p><p><a href="mailto:taro@jd.com?subject=ã€Taro åˆä½œã€‘åˆä½œæ ‡é¢˜">è”ç³»æˆ‘ä»¬</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit4">æ„Ÿè°¢</h3><p><a href="http://jdc.jd.com/" target="_blank">ç”¨æˆ·ä½“éªŒè®¾è®¡éƒ¨</a></p><p><a href="https://github.com/nervjs/taro#%E8%B4%A1%E7%8C%AE%E8%80%85%E4%BB%AC" target="_blank">Taro è´¡çŒ®è€…ä»¬</a></p></div></div></div><div class="copyright"><div class="in">Copyright Â© 2020. All Rights Reserved. ç²¤ICPå¤‡15077732å·-2</div></div></footer></div>
<script src="/taro/styles.55db6f27.js"></script>
<script src="/taro/runtime~main.452067a7.js"></script>
<script src="/taro/main.741ca0ab.js"></script>
<script src="/taro/1.8febc1d6.js"></script>
<script src="/taro/2.caae0f6a.js"></script>
<script src="/taro/01a85c17.d4a75056.js"></script>
<script src="/taro/18b93cb3.536e509c.js"></script>
<script src="/taro/1669.ecc950a7.js"></script>
<script src="/taro/5fc994c2.595b4ed3.js"></script>
<script src="/taro/6875c492.f9b5f9a7.js"></script>
<script src="/taro/a6aa9e1f.3e03078a.js"></script>
<script src="/taro/c42b0552.bf4bc072.js"></script>
<script src="/taro/ccc49370.da0c6a17.js"></script>
<script src="/taro/75e89b51.e14eadb4.js"></script>
<script src="/taro/3e821025.17008bdb.js"></script>
</body>
</html>