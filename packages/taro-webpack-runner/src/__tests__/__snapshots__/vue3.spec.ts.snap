// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`vue3 should build vue3 app 1`] = `4`;

exports[`vue3 should build vue3 app 2`] = `
"
/** filePath: dist/chunk/1.js **/
(window["webpackJsonp"] = window["webpackJsonp"] || []).push([ [ 1 ], {
    "7": function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        __webpack_require__.r(__webpack_exports__);
        var render = function() {
            var _vm = this;
            var _h = _vm.$createElement;
            var _c = _vm._self._c || _h;
            return _c("view", {
                "staticClass": "index"
            }, [ _c("text", [ _vm._v(_vm._s(_vm.msg)) ]) ]);
        };
        var staticRenderFns = [];
        render._withStripped = true;
        var vue = __webpack_require__(1);
        var indexvue_type_script_lang_js_ = {
            "setup"() {
                const msg = Object(vue["ref"])("Hello world");
                return {
                    "msg": msg
                };
            }
        };
        var pages_indexvue_type_script_lang_js_ = indexvue_type_script_lang_js_;
        function normalizeComponent(scriptExports, render, staticRenderFns, functionalTemplate, injectStyles, scopeId, moduleIdentifier, shadowMode) {
            var options = typeof scriptExports === "function" ? scriptExports.options : scriptExports;
            if (render) {
                options.render = render;
                options.staticRenderFns = staticRenderFns;
                options._compiled = true;
            }
            if (functionalTemplate) {
                options.functional = true;
            }
            if (scopeId) {
                options._scopeId = "data-v-" + scopeId;
            }
            var hook;
            if (moduleIdentifier) {
                hook = function(context) {
                    context = context || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext;
                    if (!context && typeof __VUE_SSR_CONTEXT__ !== "undefined") {
                        context = __VUE_SSR_CONTEXT__;
                    }
                    if (injectStyles) {
                        injectStyles.call(this, context);
                    }
                    if (context && context._registeredComponents) {
                        context._registeredComponents.add(moduleIdentifier);
                    }
                };
                options._ssrRegister = hook;
            } else if (injectStyles) {
                hook = shadowMode ? function() {
                    injectStyles.call(this, (options.functional ? this.parent : this).$root.$options.shadowRoot);
                } : injectStyles;
            }
            if (hook) {
                if (options.functional) {
                    options._injectStyles = hook;
                    var originalRender = options.render;
                    options.render = function renderWithStyleInjection(h, context) {
                        hook.call(context);
                        return originalRender(h, context);
                    };
                } else {
                    var existing = options.beforeCreate;
                    options.beforeCreate = existing ? [].concat(existing, hook) : [ hook ];
                }
            }
            return {
                "exports": scriptExports,
                "options": options
            };
        }
        var component = normalizeComponent(pages_indexvue_type_script_lang_js_, render, staticRenderFns, false, null, null, null);
        var index = __webpack_exports__["default"] = component.exports;
    }
} ]);

/** filePath: dist/css/app.css **/

/** filePath: dist/index.html **/
<!doctype html><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="width=device-width,initial-scale=1,user-scalable=no" name="viewport"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="format-detection" content="telephone=no,address=no"><meta name="apple-mobile-web-app-status-bar-style" content="white"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title></title><script>!function(x){function w(){var v,u,t,tes,s=x.document,r=s.documentElement,a=r.getBoundingClientRect().width;if(!v&&!u){var n=!!x.navigator.appVersion.match(/AppleWebKit.*Mobile.*/);v=x.devicePixelRatio;tes=x.devicePixelRatio;v=n?v:1,u=1/v}if(a>=640){r.style.fontSize="40px"}else{if(a<=320){r.style.fontSize="20px"}else{r.style.fontSize=a/320*20+"px"}}}x.addEventListener("resize",function(){w()});w()}(window);</script><link href="/css/app.css" rel="stylesheet"></head><body><div id="app"></div><script src="/js/app.js"></script></body></html>

/** filePath: dist/js/app.js **/
(function(modules) {
    function webpackJsonpCallback(data) {
        var chunkIds = data[0];
        var moreModules = data[1];
        var moduleId, chunkId, i = 0, resolves = [];
        for (;i < chunkIds.length; i++) {
            chunkId = chunkIds[i];
            if (Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
                resolves.push(installedChunks[chunkId][0]);
            }
            installedChunks[chunkId] = 0;
        }
        for (moduleId in moreModules) {
            if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
                modules[moduleId] = moreModules[moduleId];
            }
        }
        if (parentJsonpFunction) parentJsonpFunction(data);
        while (resolves.length) {
            resolves.shift()();
        }
    }
    var installedModules = {};
    var installedChunks = {
        "0": 0
    };
    function jsonpScriptSrc(chunkId) {
        return __webpack_require__.p + "chunk/" + ({}[chunkId] || chunkId) + ".js";
    }
    function __webpack_require__(moduleId) {
        if (installedModules[moduleId]) {
            return installedModules[moduleId].exports;
        }
        var module = installedModules[moduleId] = {
            "i": moduleId,
            "l": false,
            "exports": {}
        };
        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
        module.l = true;
        return module.exports;
    }
    __webpack_require__.e = function requireEnsure(chunkId) {
        var promises = [];
        var installedChunkData = installedChunks[chunkId];
        if (installedChunkData !== 0) {
            if (installedChunkData) {
                promises.push(installedChunkData[2]);
            } else {
                var promise = new Promise((function(resolve, reject) {
                    installedChunkData = installedChunks[chunkId] = [ resolve, reject ];
                }));
                promises.push(installedChunkData[2] = promise);
                var script = document.createElement("script");
                var onScriptComplete;
                script.charset = "utf-8";
                script.timeout = 120;
                if (__webpack_require__.nc) {
                    script.setAttribute("nonce", __webpack_require__.nc);
                }
                script.src = jsonpScriptSrc(chunkId);
                var error = new Error;
                onScriptComplete = function(event) {
                    script.onerror = script.onload = null;
                    clearTimeout(timeout);
                    var chunk = installedChunks[chunkId];
                    if (chunk !== 0) {
                        if (chunk) {
                            var errorType = event && (event.type === "load" ? "missing" : event.type);
                            var realSrc = event && event.target && event.target.src;
                            error.message = "Loading chunk " + chunkId + " failed.\\n(" + errorType + ": " + realSrc + ")";
                            error.name = "ChunkLoadError";
                            error.type = errorType;
                            error.request = realSrc;
                            chunk[1](error);
                        }
                        installedChunks[chunkId] = undefined;
                    }
                };
                var timeout = setTimeout((function() {
                    onScriptComplete({
                        "type": "timeout",
                        "target": script
                    });
                }), 12e4);
                script.onerror = script.onload = onScriptComplete;
                document.head.appendChild(script);
            }
        }
        return Promise.all(promises);
    };
    __webpack_require__.m = modules;
    __webpack_require__.c = installedModules;
    __webpack_require__.d = function(exports, name, getter) {
        if (!__webpack_require__.o(exports, name)) {
            Object.defineProperty(exports, name, {
                "enumerable": true,
                "get": getter
            });
        }
    };
    __webpack_require__.r = function(exports) {
        if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
            Object.defineProperty(exports, Symbol.toStringTag, {
                "value": "Module"
            });
        }
        Object.defineProperty(exports, "__esModule", {
            "value": true
        });
    };
    __webpack_require__.t = function(value, mode) {
        if (mode & 1) value = __webpack_require__(value);
        if (mode & 8) return value;
        if (mode & 4 && typeof value === "object" && value && value.__esModule) return value;
        var ns = Object.create(null);
        __webpack_require__.r(ns);
        Object.defineProperty(ns, "default", {
            "enumerable": true,
            "value": value
        });
        if (mode & 2 && typeof value != "string") for (var key in value) __webpack_require__.d(ns, key, function(key) {
            return value[key];
        }.bind(null, key));
        return ns;
    };
    __webpack_require__.n = function(module) {
        var getter = module && module.__esModule ? function getDefault() {
            return module["default"];
        } : function getModuleExports() {
            return module;
        };
        __webpack_require__.d(getter, "a", getter);
        return getter;
    };
    __webpack_require__.o = function(object, property) {
        return Object.prototype.hasOwnProperty.call(object, property);
    };
    __webpack_require__.p = "/";
    __webpack_require__.oe = function(err) {
        console.error(err);
        throw err;
    };
    var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
    var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
    jsonpArray.push = webpackJsonpCallback;
    jsonpArray = jsonpArray.slice();
    for (var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
    var parentJsonpFunction = oldJsonpFunction;
    return __webpack_require__(__webpack_require__.s = 3);
})([ function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_require__.r(__webpack_exports__);
    __webpack_require__.d(__webpack_exports__, "window", (function() {
        return window;
    }));
    __webpack_require__.d(__webpack_exports__, "createReactApp", (function() {
        return createReactApp;
    }));
    __webpack_require__.d(__webpack_exports__, "createVueApp", (function() {
        return createVueApp;
    }));
    __webpack_require__.d(__webpack_exports__, "createVue3App", (function() {
        return createVue3App;
    }));
    __webpack_require__.d(__webpack_exports__, "createRecursiveComponentConfig", (function() {
        return createRecursiveComponentConfig;
    }));
    __webpack_require__.d(__webpack_exports__, "createPageConfig", (function() {
        return createPageConfig;
    }));
    __webpack_exports__["default"] = "taro-runtime-mock";
    const window = {};
    function createReactApp() {}
    function createVueApp() {}
    function createVue3App() {}
    function createRecursiveComponentConfig() {}
    function createPageConfig() {}
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    var _unused_webpack_default_export = "vue-mock";
}, function(module, exports, __webpack_require__) {
    const {"hooks": hooks} = __webpack_require__(0);
    const taro = __webpack_require__(5).default;
    if (hooks.isExist("initNativeApi")) {
        hooks.call("initNativeApi", taro);
    }
    module.exports = taro;
    module.exports.default = module.exports;
}, function(module, exports, __webpack_require__) {
    module.exports = __webpack_require__(6);
}, function(module, exports, __webpack_require__) {}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_require__.r(__webpack_exports__);
    __webpack_require__.d(__webpack_exports__, "default", (function() {
        return Taro;
    }));
    var interceptors_namespaceObject = {};
    __webpack_require__.r(interceptors_namespaceObject);
    __webpack_require__.d(interceptors_namespaceObject, "logInterceptor", (function() {
        return logInterceptor;
    }));
    __webpack_require__.d(interceptors_namespaceObject, "timeoutInterceptor", (function() {
        return timeoutInterceptor;
    }));
    var taro_runtime = __webpack_require__(0);
    const ENV_TYPE = {
        "WEAPP": "WEAPP",
        "SWAN": "SWAN",
        "ALIPAY": "ALIPAY",
        "TT": "TT",
        "QQ": "QQ",
        "JD": "JD",
        "WEB": "WEB",
        "RN": "RN",
        "HARMONY": "HARMONY",
        "QUICKAPP": "QUICKAPP",
        "HARMONYHYBRID": "HARMONYHYBRID"
    };
    function getEnv() {
        if (undefined === "weapp") {
            return ENV_TYPE.WEAPP;
        } else if (undefined === "alipay") {
            return ENV_TYPE.ALIPAY;
        } else if (undefined === "swan") {
            return ENV_TYPE.SWAN;
        } else if (undefined === "tt") {
            return ENV_TYPE.TT;
        } else if (undefined === "jd") {
            return ENV_TYPE.JD;
        } else if (undefined === "qq") {
            return ENV_TYPE.QQ;
        } else if (undefined === "harmony-hybrid") {
            return ENV_TYPE.HARMONYHYBRID;
        } else if (undefined === "h5" || "web" === "web") {
            return ENV_TYPE.WEB;
        } else if (undefined === "rn") {
            return ENV_TYPE.RN;
        } else if (undefined === "harmony" || "web" === "harmony") {
            return ENV_TYPE.HARMONY;
        } else if (undefined === "quickapp") {
            return ENV_TYPE.QUICKAPP;
        } else {
            return undefined || "Unknown";
        }
    }
    var taro_shared = "taro-shared-mock";
    class chain_Chain {
        "constructor"(requestParams, interceptors, index) {
            this.index = index || 0;
            this.requestParams = requestParams || {};
            this.interceptors = interceptors || [];
        }
        "proceed"(requestParams = {}) {
            this.requestParams = requestParams;
            if (this.index >= this.interceptors.length) {
                throw new Error("chain 参数错误, 请勿直接修改 request.chain");
            }
            const nextInterceptor = this._getNextInterceptor();
            const nextChain = this._getNextChain();
            const p = nextInterceptor(nextChain);
            const res = p.catch(err => Promise.reject(err));
            Object.keys(p).forEach(k => undefined(p[k]) && (res[k] = p[k]));
            return res;
        }
        "_getNextInterceptor"() {
            return this.interceptors[this.index];
        }
        "_getNextChain"() {
            return new chain_Chain(this.requestParams, this.interceptors, this.index + 1);
        }
    }
    class interceptor_Link {
        "constructor"(interceptor) {
            this.taroInterceptor = interceptor;
            this.chain = new chain_Chain;
        }
        "request"(requestParams) {
            const chain = this.chain;
            const taroInterceptor = this.taroInterceptor;
            chain.interceptors = chain.interceptors.filter(interceptor => interceptor !== taroInterceptor).concat(taroInterceptor);
            return chain.proceed(Object.assign({}, requestParams));
        }
        "addInterceptor"(interceptor) {
            this.chain.interceptors.push(interceptor);
        }
        "cleanInterceptors"() {
            this.chain = new chain_Chain;
        }
    }
    function interceptorify(promiseifyApi) {
        return new interceptor_Link((function(chain) {
            return promiseifyApi(chain.requestParams);
        }));
    }
    function timeoutInterceptor(chain) {
        const requestParams = chain.requestParams;
        let p;
        const res = new Promise((resolve, reject) => {
            const timeout = setTimeout(() => {
                clearTimeout(timeout);
                reject(new Error("网络链接超时,请稍后再试！"));
            }, requestParams && requestParams.timeout || 6e4);
            p = chain.proceed(requestParams);
            p.then(res => {
                if (!timeout) return;
                clearTimeout(timeout);
                resolve(res);
            }).catch(err => {
                timeout && clearTimeout(timeout);
                reject(err);
            });
        });
        if (!undefined(p) && undefined(p.abort)) res.abort = p.abort;
        return res;
    }
    function logInterceptor(chain) {
        const requestParams = chain.requestParams;
        const {"method": method, "data": data, "url": url} = requestParams;
        console.log(\`http \${method || "GET"} --\\x3e \${url} data: \`, data);
        const p = chain.proceed(requestParams);
        const res = p.then(res => {
            console.log(\`http <-- \${url} result:\`, res);
            return res;
        });
        if (undefined(p.abort)) res.abort = p.abort;
        return res;
    }
    function Behavior(options) {
        return options;
    }
    function getPreload(current) {
        return function(key, val) {
            current.preloadData = undefined(key) ? key : {
                [key]: val
            };
        };
    }
    const defaultDesignWidth = 750;
    const defaultDesignRatio = {
        "640": 2.34 / 2,
        "750": 1,
        "828": 1.81 / 2
    };
    const defaultBaseFontSize = 20;
    const defaultUnitPrecision = 5;
    const defaultTargetUnit = "rpx";
    function getInitPxTransform(taro) {
        return function(config) {
            const {"designWidth": designWidth = defaultDesignWidth, "deviceRatio": deviceRatio = defaultDesignRatio, "baseFontSize": baseFontSize = defaultBaseFontSize, "targetUnit": targetUnit = defaultTargetUnit, "unitPrecision": unitPrecision = defaultUnitPrecision} = config;
            taro.config = taro.config || {};
            taro.config.designWidth = designWidth;
            taro.config.deviceRatio = deviceRatio;
            taro.config.baseFontSize = baseFontSize;
            taro.config.targetUnit = targetUnit;
            taro.config.unitPrecision = unitPrecision;
        };
    }
    function getPxTransform(taro) {
        return function(size) {
            const config = taro.config || {};
            const baseFontSize = config.baseFontSize;
            const deviceRatio = config.deviceRatio || defaultDesignRatio;
            const designWidth = ((input = 0) => undefined(config.designWidth) ? config.designWidth(input) : config.designWidth || defaultDesignWidth)(size);
            if (!(designWidth in deviceRatio)) {
                throw new Error(\`deviceRatio 配置中不存在 \${designWidth} 的设置！\`);
            }
            const targetUnit = config.targetUnit || defaultTargetUnit;
            const unitPrecision = config.unitPrecision || defaultUnitPrecision;
            const formatSize = ~~size;
            let rootValue = 1 / deviceRatio[designWidth];
            switch (targetUnit) {
              case "rem":
                rootValue *= baseFontSize * 2;
                break;

              case "px":
                rootValue *= 2;
                break;
            }
            let val = formatSize / rootValue;
            if (unitPrecision >= 0 && unitPrecision <= 100) {
                val = Number(val.toFixed(unitPrecision));
            }
            return val + targetUnit;
        };
    }
    const Taro = {
        "Behavior": Behavior,
        "getEnv": getEnv,
        "ENV_TYPE": ENV_TYPE,
        "Link": interceptor_Link,
        "interceptors": interceptors_namespaceObject,
        "Current": taro_runtime["Current"],
        "getCurrentInstance": taro_runtime["getCurrentInstance"],
        "options": taro_runtime["options"],
        "nextTick": taro_runtime["nextTick"],
        "eventCenter": taro_runtime["eventCenter"],
        "Events": taro_runtime["Events"],
        "getInitPxTransform": getInitPxTransform,
        "interceptorify": interceptorify
    };
    Taro.initPxTransform = getInitPxTransform(Taro);
    Taro.preload = getPreload(taro_runtime["Current"]);
    Taro.pxTransform = getPxTransform(Taro);
}, function(module, __webpack_exports__, __webpack_require__) {
    "use strict";
    __webpack_require__.r(__webpack_exports__);
    var taro = __webpack_require__(2);
    function createMultiRouter() {}
    function createRouter() {}
    var vue = __webpack_require__(1);
    var app = __webpack_require__(4);
    const App = Object(vue["createApp"])({
        "onShow"(options) {}
    });
    var src_app = App;
    var taro_runtime = __webpack_require__(0);
    function createReactApp() {}
    function createVueApp() {}
    function createVue3App() {}
    var config = {
        "router": {
            "mode": "hash",
            "customRoutes": {},
            "basename": "/"
        },
        "pages": [ "pages/index/index" ],
        "window": {
            "backgroundTextStyle": "light",
            "navigationBarBackgroundColor": "#fff",
            "navigationBarTitleText": "WeChat",
            "navigationBarTextStyle": "black"
        }
    };
    taro_runtime["window"].__taroAppConfig = config;
    if (config.tabBar) {
        var tabbarList = config.tabBar.list;
        for (var i = 0; i < tabbarList.length; i++) {
            var t = tabbarList[i];
            if (t.iconPath) {
                t.iconPath = tabbarIconPath[i];
            }
            if (t.selectedIconPath) {
                t.selectedIconPath = tabbarSelectedIconPath[i];
            }
        }
    }
    config.routes = [ Object.assign({
        "path": "pages/index/index",
        "load": function(context, params) {
            const page = __webpack_require__.e(1).then(__webpack_require__.bind(null, 7));
            return [ page, context, params ];
        }
    }, {
        "navigationBarTitleText": "首页"
    }) ];
    var inst = createVue3App(src_app, vue["h"], config);
    var app_config_history = undefined({
        "window": taro_runtime["window"]
    });
    undefined(config, app_config_history);
    createRouter(app_config_history, inst, config, vue["h"]);
    Object(taro["initPxTransform"])({
        "designWidth": 750,
        "deviceRatio": {
            "640": 1.17,
            "750": 1,
            "828": .905
        },
        "baseFontSize": 20,
        "unitPrecision": undefined,
        "targetUnit": undefined
    });
} ]);
"
`;
